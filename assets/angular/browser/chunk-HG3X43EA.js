import{a as De}from"./chunk-TKKUNMOD.js";import{a as Te}from"./chunk-ICSC4TUF.js";import{a as Fe,b as Ne}from"./chunk-RIHLOJ3M.js";import{a as Oe}from"./chunk-ZPACKHVO.js";import{b as Ie}from"./chunk-52NN7TSC.js";import{b as we}from"./chunk-GEOJTL7L.js";import{a as Ve}from"./chunk-TFYNVOGS.js";import{b as Me}from"./chunk-MDVI344E.js";import{a as j}from"./chunk-KFXCIGMC.js";import{e as Ae}from"./chunk-4W7OKCCT.js";import{c as pe,e as A,f as ue,g as ge,h as _e,i as x,k as fe,l as he,m as xe,n as ve,o as be,p as Se,q as Ee,r as Ce,s as ye,x as Pe}from"./chunk-S3CK6CTG.js";import{$a as k,Cb as F,Da as l,Ea as i,Fa as n,Ga as m,J as W,K as N,Ka as D,La as R,M as J,Na as b,P as _,Q as f,Qa as h,Qb as se,Sa as c,Sb as le,Tb as de,Wa as ee,X as Z,Xa as te,Ya as ie,_b as ce,ab as ne,bb as ae,ca as T,dc as G,ea as r,eb as s,fb as g,fc as q,gb as E,hc as me,ib as L,kb as Q,la as y,na as X,oa as V,sa as p,va as H,wc as z,xb as oe,yb as re}from"./chunk-T7ZSEIVN.js";import{a as O,g as K}from"./chunk-ATDPNAVO.js";var P=class P{constructor(t){this.http=t;this.ruta=j.ruta}ObtenerPagoslcch(t){let e=new G;return t?.infoestudiantesifas_id&&(e=e.set("infoestudiantesifas_id",String(t.infoestudiantesifas_id))),t?.gestion&&(e=e.set("gestion",String(t.gestion))),t?.mes&&(e=e.set("mes",String(t.mes))),this.http.get(this.ruta+"api/pagoslcch",{params:e})}ObtenerPagoslcchPorInfo(t){return this.http.get(this.ruta+"api/pagoslcch/by-info/"+t)}ObtenerDeudaPorInfo(t,e){let a=new G;return e&&(a=a.set("gestion",String(e))),this.http.get(this.ruta+"api/pagoslcch/deuda/by-info/"+t,{params:a})}ObtenerGestionesAsignaciones(){return this.http.get(this.ruta+"api/pagoslcch/gestiones-asignaciones")}ObtenerDeudores(t){let e=new G;return e=e.set("gestion",String(t.gestion??"")),t.gestion_pago&&(e=e.set("gestion_pago",String(t.gestion_pago))),t.search&&(e=e.set("search",String(t.search))),t.page&&(e=e.set("page",String(t.page))),t.per_page&&(e=e.set("per_page",String(t.per_page))),this.http.get(this.ruta+"api/pagoslcch/deudores",{params:e})}AgregarPagoslcch(t){return this.http.post(this.ruta+"api/pagoslcch",t)}ModificarPagoslcch(t,e){return this.http.put(this.ruta+"api/pagoslcch/"+e,t)}SeleccionarPagoslcch(t){return this.http.get(this.ruta+"api/pagoslcch/"+t)}EliminarPagoslcch(t){return this.http.delete(this.ruta+"api/pagoslcch/"+t)}createFormGroupPagoslcch(){return new _e({id:new x(0),infoestudiantesifas_id:new x(null),nrodocumento:new x(""),mes:new x(1),gestion:new x(String(new Date().getFullYear())),monto:new x(""),acuenta:new x(""),saldo:new x(""),dolarboliviano:new x(""),mediopago:new x(""),fechapago:new x(""),horapago:new x(""),estadopago:new x("PAGADO"),observacion:new x(""),file:new x("")})}};P.\u0275fac=function(e){return new(e||P)(J(me))},P.\u0275prov=W({token:P,factory:P.\u0275fac,providedIn:"root"});var $=P;var Le=["modalPago"];function Ge(o,t){if(o&1){let e=b();i(0,"button",10),h("click",function(){_(e);let d=c();return f(d.toggleVerDeudores())}),s(1),n()}if(o&2){let e=c();r(),E(" ",e.verDeudores?"Ocultar deudores":"Ver estudiantes con deuda"," ")}}function je(o,t){if(o&1&&m(0,"img",21),o&2){let e=c(2);l("src",e.fotoUrl(),T)}}function $e(o,t){o&1&&(i(0,"div",22),m(1,"i",23),n())}function Ue(o,t){if(o&1&&(i(0,"div",24),s(1),n()),o&2){let e=c(2);r(),g(e.sexoEstudiante)}}function Be(o,t){if(o&1&&(i(0,"span",25),s(1),n()),o&2){let e=c(2);r(),E("Inscripci\xF3n #",e.infoCtrl.value)}}function He(o,t){if(o&1&&(i(0,"span",26),s(1),n()),o&2){let e,a=c(2);r(),E("Gesti\xF3n ",(e=a.frmPago.get("gestion"))==null?null:e.value)}}function Qe(o,t){if(o&1&&(i(0,"div",11)(1,"div",12)(2,"div",13),p(3,je,1,1,"img",14)(4,$e,2,0,"ng-template",null,1,F),n(),i(6,"div",15)(7,"div",16),s(8),n(),p(9,Ue,2,1,"div",17),i(10,"div",18),p(11,Be,2,1,"span",19)(12,He,2,1,"span",20),n()()()()),o&2){let e,a=k(5),d=c();r(3),l("ngIf",d.fotoUrl())("ngIfElse",a),r(5),g(d.nombreEstudiante||"Estudiante"),r(),l("ngIf",d.sexoEstudiante),r(2),l("ngIf",d.infoCtrl.value),r(),l("ngIf",(e=d.frmPago.get("gestion"))==null?null:e.value)}}function qe(o,t){if(o&1&&(i(0,"option",53),s(1),n()),o&2){let e=t.$implicit;l("value",e),r(),g(e)}}function ze(o,t){if(o&1&&m(0,"ng-lottie",54),o&2){let e=c(2);l("options",e._tools.optionsengranaje)}}function Ye(o,t){if(o&1){let e=b();i(0,"div",55)(1,"button",56),h("click",function(){_(e);let d=c(2);return f(d.deudoresPrev())}),s(2,"Anterior"),n(),i(3,"small",57),s(4),n(),i(5,"button",56),h("click",function(){_(e);let d=c(2);return f(d.deudoresNext())}),s(6,"Siguiente"),n()()}if(o&2){let e=c(2);r(),l("disabled",!e.deudoresTienePrev()||e.isLoadingDeudores),r(3),L(" P\xE1gina ",e.deudoresMeta.current_page," / ",e.deudoresMeta.last_page," (",e.deudoresMeta.total," resultados) "),r(),l("disabled",!e.deudoresTieneNext()||e.isLoadingDeudores)}}function Ke(o,t){o&1&&(i(0,"th"),s(1,"Instituci\xF3n"),n())}function We(o,t){if(o&1&&(i(0,"tr")(1,"td",58)(2,"div",59),m(3,"ng-lottie",60),i(4,"span",57),s(5,"Cargando deudores..."),n()()()()),o&2){let e=c(2);r(),H("colspan",e.esSuperAdmin?8:7),r(2),l("options",e._tools.optionsengranaje)}}function Je(o,t){if(o&1&&(i(0,"td"),s(1),n()),o&2){let e=c().$implicit;r(),g(e.NombreInstitucion||"-")}}function Ze(o,t){if(o&1){let e=b();i(0,"tr",61)(1,"td"),s(2),n(),i(3,"td"),s(4),n(),i(5,"td"),s(6),n(),i(7,"td"),s(8),n(),p(9,Je,2,1,"td",50),i(10,"td"),s(11),n(),i(12,"td"),s(13),n(),i(14,"td")(15,"button",62),h("click",function(){let d=_(e).$implicit,u=c(2);return f(u.seleccionarInscripcion(d))}),s(16," Cobrar "),n()()()}if(o&2){let e=t.$implicit,a=c(2);l("hidden",a.isLoadingDeudores),r(2),E("#",e.id),r(2),L("",e.Ap_Paterno," ",e.Ap_Materno," ",e.Nombre),r(2),g(e.CI||"-"),r(2),g(e.Matricula||"-"),r(),l("ngIf",a.esSuperAdmin),r(2),g(e.Anio||"SIN ASIGNAR"),r(2),g(a.mesLabels(e.meses_deuda))}}function Xe(o,t){if(o&1&&(i(0,"tr")(1,"td",58),s(2,"Sin registros"),n()()),o&2){let e=c(2);r(),H("colspan",e.esSuperAdmin?8:7)}}function et(o,t){if(o&1){let e=b();i(0,"div",11)(1,"div",27)(2,"span",28),s(3,"Estudiantes con deuda (paginado)"),n(),i(4,"div",29)(5,"label",30),s(6,"Gesti\xF3n"),n(),i(7,"select",31),h("change",function(){_(e);let d=c();return f(d.cargarDeudores(1))}),p(8,qe,2,2,"option",32),n()()(),i(9,"div",33)(10,"div",34)(11,"div",35)(12,"div",36)(13,"span",37),m(14,"i",38),n(),i(15,"div",39)(16,"input",40),h("input",function(d){_(e);let u=c();return f(u.filterDeudores=d.target.value)})("keyup.enter",function(){_(e);let d=c();return f(d.cargarDeudores(1))}),n(),i(17,"label"),s(18,"Buscar (nombre/CI/matr\xEDcula)"),n()(),i(19,"button",41),h("click",function(){_(e);let d=c();return f(d.cargarDeudores(1))}),i(20,"span",42),p(21,ze,1,1,"ng-lottie",43),i(22,"span"),s(23),n()()()(),p(24,Ye,7,5,"div",44),n(),i(25,"div",45)(26,"label",46),s(27,"Total deudores"),n(),m(28,"input",47),n()()(),i(29,"div",48)(30,"table",49)(31,"thead")(32,"tr")(33,"th"),s(34,"Inscripci\xF3n"),n(),i(35,"th"),s(36,"Estudiante"),n(),i(37,"th"),s(38,"CI"),n(),i(39,"th"),s(40,"Matr\xEDcula"),n(),p(41,Ke,2,0,"th",50),i(42,"th"),s(43,"Gesti\xF3n (asignaci\xF3n)"),n(),i(44,"th"),s(45,"Meses adeudados"),n(),i(46,"th",51),s(47,"Acciones"),n()()(),i(48,"tbody"),p(49,We,6,2,"tr",50)(50,Ze,17,10,"tr",52)(51,Xe,3,1,"tr",50),n()()()()}if(o&2){let e=c();r(7),l("formControl",e.gestionDeudores),r(),l("ngForOf",e.gestionesAsignaciones),r(8),l("value",e.filterDeudores),r(3),l("disabled",e.isLoadingDeudores),r(2),l("ngIf",e.isLoadingDeudores),r(2),g(e.isLoadingDeudores?"Buscando...":"Buscar"),r(),l("ngIf",e.deudoresMeta),r(4),l("value",(e.deudoresMeta==null?null:e.deudoresMeta.total)||0),r(13),l("ngIf",e.esSuperAdmin),r(8),l("ngIf",e.isLoadingDeudores),r(),l("ngForOf",e.deudores),r(),l("ngIf",e.deudores.length===0&&!e.isLoadingDeudores)}}function tt(o,t){if(o&1&&m(0,"ng-lottie",54),o&2){let e=c(2);l("options",e._tools.optionslupa)}}function it(o,t){if(o&1){let e=b();i(0,"div",55)(1,"button",56),h("click",function(){_(e);let d=c(2);return f(d.resPrev())}),s(2,"Anterior"),n(),i(3,"small",57),s(4),n(),i(5,"button",56),h("click",function(){_(e);let d=c(2);return f(d.resNext())}),s(6,"Siguiente"),n()()}if(o&2){let e=c(2);r(),l("disabled",!e.resTienePrev()||e.isLoadingResultados),r(3),L(" P\xE1gina ",e.resMeta.current_page," / ",e.resMeta.last_page," (",e.resMeta.total," resultados) "),r(),l("disabled",!e.resTieneNext()||e.isLoadingResultados)}}function nt(o,t){if(o&1&&(i(0,"div",70),m(1,"ng-lottie",71),i(2,"span"),s(3,"Cargando resultados..."),n()()),o&2){let e=c(2);r(),l("options",e._tools.optionslupa)}}function at(o,t){if(o&1){let e=b();i(0,"button",72),h("click",function(){let d=_(e).$implicit,u=c(2);return f(u.seleccionarInscripcion(d))}),s(1),i(2,"span",57),s(3),n()()}if(o&2){let e=t.$implicit,a=c(2);ae("active",a.infoCtrl.value===e.id),l("disabled",a.isLoadingResultados)("hidden",a.isLoadingResultados),r(),Q(" ",e.Ap_Paterno," ",e.Ap_Materno," ",e.Nombre,"",a.esSuperAdmin?" | "+e.NombreInstitucion:""," | ",e.Anio," "),r(2),E("(#",e.id,")")}}function ot(o,t){o&1&&(i(0,"small",57),s(1,"Busca y selecciona una inscripci\xF3n para registrar pagos."),n())}function rt(o,t){if(o&1&&(i(0,"span",57),s(1),n()),o&2){let e=c(3);r(),Q(" (",e.infoSeleccionada.Ap_Paterno," ",e.infoSeleccionada.Ap_Materno," ",e.infoSeleccionada.Nombre,"",e.esSuperAdmin?" | "+e.infoSeleccionada.NombreInstitucion:""," | ",e.infoSeleccionada.Anio,") ")}}function st(o,t){if(o&1){let e=b();i(0,"div",73)(1,"small",74),s(2," Inscripci\xF3n seleccionada: "),i(3,"b"),s(4),n(),p(5,rt,2,5,"span",68),n(),i(6,"button",75),h("click",function(){_(e);let d=c(2);return f(d.limpiarSeleccion())}),s(7,"Quitar selecci\xF3n"),n()()}if(o&2){let e=c(2);r(4),E("#",e.infoCtrl.value),r(),l("ngIf",e.infoSeleccionada)}}function lt(o,t){if(o&1){let e=b();i(0,"div",11)(1,"div",33)(2,"div",34)(3,"div",35)(4,"div",36)(5,"span",37),m(6,"i",38),n(),i(7,"div",39)(8,"input",63),h("input",function(d){_(e);let u=c();return f(u.filterInscripcion=d.target.value)})("keyup.enter",function(){_(e);let d=c();return f(d.buscarInscripciones(1))}),n(),i(9,"label"),s(10,"Buscar inscripci\xF3n (m\xEDn. 2 caracteres)"),n()(),i(11,"button",41),h("click",function(){_(e);let d=c();return f(d.buscarInscripciones(1))}),i(12,"span",42),p(13,tt,1,1,"ng-lottie",43),i(14,"span"),s(15),n()()()(),p(16,it,7,5,"div",44),i(17,"div",64),p(18,nt,4,1,"div",65)(19,at,4,10,"button",66),n(),i(20,"div",67),p(21,ot,2,0,"small",68)(22,st,8,2,"div",69),n()(),i(23,"div",45)(24,"label",46),s(25,"Total registros"),n(),m(26,"input",47),n()()()()}if(o&2){let e=c();r(8),l("value",e.filterInscripcion),r(3),l("disabled",e.isLoadingResultados),r(2),l("ngIf",e.isLoadingResultados),r(2),g(e.isLoadingResultados?"Buscando...":"Buscar"),r(),l("ngIf",e.resMeta),r(2),l("ngIf",e.isLoadingResultados),r(),l("ngForOf",e.resultados),r(2),l("ngIf",!e.infoCtrl.value),r(),l("ngIf",e.infoCtrl.value),r(4),l("value",e.pagos.length)}}function dt(o,t){if(o&1&&(i(0,"span",84),s(1),n()),o&2){let e=t.$implicit,a=c(3);r(),g(a.mesLabel(e))}}function ct(o,t){if(o&1&&(D(0),p(1,dt,2,1,"span",83),R()),o&2){let e=c(2);r(),l("ngForOf",e.mesesPagadosGestion)}}function mt(o,t){o&1&&(i(0,"span",57),s(1,"-"),n())}function pt(o,t){if(o&1&&(i(0,"span",70),m(1,"ng-lottie",54),i(2,"span"),s(3,"Calculando..."),n()()),o&2){let e=c(2);r(),l("options",e._tools.optionsengranaje)}}function ut(o,t){if(o&1&&(i(0,"span",86),s(1),n()),o&2){let e=t.$implicit,a=c(4);r(),g(a.mesLabel(e))}}function gt(o,t){if(o&1&&(D(0),p(1,ut,2,1,"span",85),R()),o&2){let e=c(3);r(),l("ngForOf",e.deudaMeses)}}function _t(o,t){o&1&&(i(0,"span",57),s(1,"Sin deuda detectada"),n())}function ft(o,t){if(o&1&&(D(0),p(1,gt,2,1,"ng-container",82)(2,_t,2,0,"ng-template",null,3,F),R()),o&2){let e=k(3),a=c(2);r(),l("ngIf",a.deudaMeses.length>0)("ngIfElse",e)}}function ht(o,t){if(o&1&&(i(0,"small",57),s(1),n()),o&2){let e=c(2);r(),E(" Referencia: un compa\xF1ero lleg\xF3 hasta ",e.mesLabel(e.deudaMaxMesCompaneros),". ")}}function xt(o,t){if(o&1){let e=b();i(0,"div",11)(1,"div",27)(2,"span",28),s(3,"Registro de pagos"),n(),i(4,"button",76),h("click",function(){_(e);let d=c();return f(d.abrirModalNuevoPago())}),i(5,"span",77),m(6,"ng-lottie",78),n(),i(7,"span"),s(8,"REGISTRAR PAGO"),n(),m(9,"span",79),n()(),i(10,"div",33)(11,"div",73)(12,"small",57),s(13,"Gesti\xF3n:"),n(),i(14,"span",80),s(15),n(),i(16,"small",81),s(17,"Meses pagados (PAGADO):"),n(),p(18,ct,2,1,"ng-container",82)(19,mt,2,0,"ng-template",null,2,F),i(21,"small",81),s(22,"Meses adeudados (seg\xFAn compa\xF1eros):"),n(),p(23,pt,4,1,"span",65)(24,ft,4,2,"ng-container",50),n(),p(25,ht,2,1,"small",68),n()()}if(o&2){let e,a=k(20),d=c();r(6),l("options",d._tools.optionsAdicionar),r(9),g(((e=d.frmPago.get("gestion"))==null?null:e.value)||"-"),r(3),l("ngIf",d.mesesPagadosGestion.length>0)("ngIfElse",a),r(5),l("ngIf",d.isLoadingDeuda),r(),l("ngIf",!d.isLoadingDeuda),r(),l("ngIf",d.deudaMaxMesCompaneros)}}function vt(o,t){if(o&1&&(i(0,"option",53),s(1),n()),o&2){let e=t.$implicit;l("value",e.value),r(),g(e.label)}}function bt(o,t){if(o&1&&(i(0,"option",129),s(1),n()),o&2){let e=t.$implicit;l("value",e.value)("disabled",e.disabled),r(),g(e.label)}}function St(o,t){if(o&1&&(i(0,"option",129),s(1),n()),o&2){let e=t.$implicit;l("value",e.value)("disabled",e.disabled),r(),g(e.label)}}function Et(o,t){if(o&1&&(i(0,"div",18)(1,"a",130),s(2,"Ver comprobante"),n()()),o&2){let e,a=c(2);r(),l("href",a.ruta+((e=a.frmPago.get("file"))==null?null:e.value),T)}}function Ct(o,t){if(o&1&&(i(0,"div",67)(1,"div",131)(2,"div",132),s(3),n()()()),o&2){let e=c(2);r(2),ne("width",e.uploadProgress,"%"),r(),E("",e.uploadProgress,"%")}}function yt(o,t){if(o&1&&(i(0,"div",67)(1,"div",70),m(2,"ng-lottie",71),i(3,"span"),s(4,"Subiendo comprobante..."),n()()()),o&2){let e=c(2);r(2),l("options",e._tools.optionsUpload)}}function Pt(o,t){if(o&1){let e=b();i(0,"div",133)(1,"button",134),h("click",function(){_(e);let d=c(2);return f(d.AutoCompletarLastPago())}),i(2,"span",124),m(3,"ng-lottie",128),n(),i(4,"span"),s(5,"AUTO COMPLETAR"),n(),m(6,"span",79),n()()}if(o&2){let e=c(2);r(),l("disabled",e.uploading||e.isSavingPago),r(2),l("options",e._tools.optionsautocompletar)}}function It(o,t){if(o&1&&m(0,"ng-lottie",135),o&2){let e=c(2);l("options",e._tools.optionsengranaje)}}function Mt(o,t){if(o&1&&m(0,"ng-lottie",128),o&2){let e=c(2);l("options",e.editId?e._tools.optionsEditar:e._tools.optionsAdicionar)}}function At(o,t){if(o&1){let e=b();i(0,"div",87)(1,"h5",88),s(2),n(),i(3,"button",89),h("click",function(){let d=_(e).$implicit;return f(d.dismiss("close"))}),n()(),i(4,"div",90)(5,"form",91)(6,"div",92)(7,"div")(8,"span",93),s(9,"Inscripci\xF3n"),n(),i(10,"span",94),s(11),n()(),i(12,"div",95),s(13),n()(),i(14,"div",96)(15,"div",97)(16,"select",98),p(17,vt,2,2,"option",32),n(),i(18,"label"),s(19,"Mes"),n(),i(20,"div",99),s(21,"Este campo es obligatorio*"),n()(),i(22,"div",97),m(23,"input",100),i(24,"label"),s(25,"Gesti\xF3n"),n(),i(26,"div",99),s(27,"Este campo es obligatorio*"),n()(),i(28,"div",97),m(29,"input",101),i(30,"label"),s(31,"Nro. documento"),n()()(),i(32,"div",96)(33,"div",97),m(34,"input",102),i(35,"label"),s(36,"Monto"),n(),i(37,"div",99),s(38,"Este campo es obligatorio*"),n()(),i(39,"div",97),m(40,"input",103),i(41,"label"),s(42,"A cuenta"),n()(),i(43,"div",97),m(44,"input",104),i(45,"label"),s(46,"Saldo"),n()()(),i(47,"div",96)(48,"div",105)(49,"label",46),s(50,"Moneda"),n(),i(51,"div",106),m(52,"input",107),i(53,"label",108),s(54,"Bs"),n(),m(55,"input",109),i(56,"label",108),s(57,"$"),n()()(),i(58,"div",97)(59,"select",110)(60,"option",111),s(61,"Seleccione una opci\xF3n"),n(),p(62,bt,2,3,"option",112),n(),i(63,"label"),s(64,"Medio de pago"),n(),i(65,"div",99),s(66,"Este campo es obligatorio*"),n()(),i(67,"div",97)(68,"select",113),p(69,St,2,3,"option",112),n(),i(70,"label"),s(71,"Estado pago"),n(),i(72,"div",99),s(73,"Este campo es obligatorio*"),n()()(),i(74,"div",96)(75,"div",97),m(76,"input",114),i(77,"label"),s(78,"Fecha de pago"),n()(),i(79,"div",97),m(80,"input",115),i(81,"label"),s(82,"Hora"),n()(),i(83,"div",105)(84,"label",46),s(85,"Comprobante"),n(),i(86,"input",116),h("change",function(d){_(e);let u=c();return f(u.onFileSelected(d))}),n(),p(87,Et,3,1,"div",117)(88,Ct,4,3,"div",118)(89,yt,5,1,"div",118),n()(),i(90,"div",119)(91,"label"),s(92,"Observaci\xF3n"),n(),m(93,"quill-editor",120),n()()(),i(94,"div",121),p(95,Pt,7,2,"div",122),i(96,"button",123),h("click",function(){_(e);let d=c();return f(d.guardar())}),i(97,"span",124),p(98,It,1,1,"ng-lottie",125)(99,Mt,1,1,"ng-lottie",126),n(),i(100,"span"),s(101),n(),m(102,"span",79),n(),i(103,"button",127),h("click",function(){let d=_(e).$implicit;return f(d.dismiss("cancel"))}),i(104,"span",124),m(105,"ng-lottie",128),n(),i(106,"span"),s(107,"CANCELAR"),n(),m(108,"span",79),n()()}if(o&2){let e,a=c();r(2),g(a.editId?"Editar pago":"Registrar pago"),r(3),l("formGroup",a.frmPago),r(6),E("#",a.infoCtrl.value),r(2),g(a.editId?"Editando registro":"Nuevo registro"),r(3),l("ngClass",a.ValidacionPagoxElemento("mes")),r(),l("ngForOf",a.meses),r(6),l("ngClass",a.ValidacionPagoxElemento("gestion")),r(11),l("ngClass",a.ValidacionPagoxElemento("monto")),r(18),l("id",a.monedaUid+"-bs")("formControl",a.frmPago.get("dolarboliviano")),r(),l("for",a.monedaUid+"-bs"),r(2),l("id",a.monedaUid+"-usd")("formControl",a.frmPago.get("dolarboliviano")),r(),l("for",a.monedaUid+"-usd"),r(3),l("ngClass",a.ValidacionPagoxElemento("mediopago")),r(),l("value",""),r(2),l("ngForOf",a.medioPagoOptions),r(6),l("ngClass",a.ValidacionPagoxElemento("estadopago")),r(),l("ngForOf",a.estadoPagoOptions),r(18),l("ngIf",(e=a.frmPago.get("file"))==null?null:e.value),r(),l("ngIf",a.uploadProgress!==null),r(),l("ngIf",a.uploading),r(4),l("formControl",a.frmPago.get("observacion"))("modules",a.modulesQuillEdicion),r(2),l("ngIf",!a.editId),r(),l("disabled",a.uploading||a.isSavingPago),r(2),l("ngIf",a.isSavingPago),r(),l("ngIf",!a.isSavingPago),r(2),g(a.isSavingPago?"GUARDANDO...":a.editId?"GUARDAR":"REGISTRAR"),r(4),l("options",a._tools.optionscancelar)}}function wt(o,t){if(o&1&&(i(0,"tr")(1,"td",138)(2,"div",59),m(3,"ng-lottie",60),i(4,"span",57),s(5,"Cargando pagos..."),n()()()()),o&2){let e=c(2);r(3),l("options",e._tools.optionsengranaje)}}function Ot(o,t){if(o&1&&(i(0,"a",130),s(1,"Ver"),n()),o&2){let e=c().$implicit,a=c(2);l("href",a.ruta+e.file,T)}}function Ft(o,t){o&1&&(i(0,"span"),s(1,"-"),n())}function Nt(o,t){if(o&1){let e=b();i(0,"tr",61)(1,"td"),s(2),n(),i(3,"td"),s(4),oe(5,"dateFormat"),n(),i(6,"td"),s(7),n(),i(8,"td"),s(9),n(),i(10,"td"),s(11),n(),i(12,"td"),s(13),n(),i(14,"td"),p(15,Ot,2,1,"a",139)(16,Ft,2,0,"span",50),n(),i(17,"td")(18,"div",140)(19,"button",141),h("click",function(){let d=_(e).$implicit,u=c(2);return f(u.iniciarEditar(d))}),s(20,"Editar"),n(),i(21,"button",142),h("click",function(){let d=_(e).$implicit,u=c(2);return f(u.eliminar(d))}),s(22,"Eliminar"),n()()()()}if(o&2){let e=t.$implicit,a=c(2);l("hidden",a.isLoadingPagos),r(2),g(e.gestion),r(2),g(re(5,9,e.fechapago)),r(3),g(a.mesLabel(e.mes)),r(2),g(e.monto),r(2),g(e.horapago),r(2),g(e.estadopago),r(2),l("ngIf",e.file),r(),l("ngIf",!e.file)}}function Tt(o,t){o&1&&(i(0,"tr")(1,"td",138),s(2,"Sin registros"),n()())}function Vt(o,t){if(o&1&&(i(0,"div",136)(1,"div",137),s(2,"Pagos registrados"),n(),i(3,"div",48)(4,"table",49)(5,"thead")(6,"tr")(7,"th"),s(8,"Gesti\xF3n"),n(),i(9,"th"),s(10,"Fecha"),n(),i(11,"th"),s(12,"Mes"),n(),i(13,"th"),s(14,"Monto"),n(),i(15,"th"),s(16,"Hora"),n(),i(17,"th"),s(18,"Estado"),n(),i(19,"th"),s(20,"Comprobante"),n(),i(21,"th",51),s(22,"Acciones"),n()()(),i(23,"tbody"),p(24,wt,6,1,"tr",50)(25,Nt,23,11,"tr",52)(26,Tt,3,0,"tr",50),n()()()()),o&2){let e=c();r(24),l("ngIf",e.isLoadingPagos),r(),l("ngForOf",e.pagos),r(),l("ngIf",e.pagos.length===0&&!e.isLoadingPagos)}}var w=class w{constructor(t,e,a,d,u,v){this._info=t;this._pagos=e;this._tools=a;this._controles=d;this._auth=u;this._modal=v;this.ruta=j.ruta;this.NO_MENSUALIDAD_MES=0;this.monedaUid=`moneda-${Math.random().toString(36).slice(2,9)}`;this.modo="general";this.infoId=null;this.estudianteId=null;this.nombreEstudiante=null;this.fotoEstudiante=null;this.sexoEstudiante=null;this.gestionPredeterminada=null;this.modulesQuillEdicion={toolbar:[["bold","italic","underline","strike"],[{align:[]}],[{size:["small",!1,"large"]}],[{color:[]},{background:[]}],[{font:[]}],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","video"],["clean"]]};this.modulesQuillShow={toolbar:!1};this.infoCtrl=new x(null);this.filterInscripcion="";this.resultados=[];this.resMeta=null;this.resPage=1;this.resPerPage=10;this.isLoadingResultados=!1;this.infoSeleccionada=null;this.pagos=[];this.isLoadingPagos=!1;this.isSavingPago=!1;this.frmPago=this._pagos.createFormGroupPagoslcch();this.editId=null;this.modalRef=null;this.meses=[{value:0,label:"NO ES MENSUALIDAD"},{value:1,label:"ENERO"},{value:2,label:"FEBRERO"},{value:3,label:"MARZO"},{value:4,label:"ABRIL"},{value:5,label:"MAYO"},{value:6,label:"JUNIO"},{value:7,label:"JULIO"},{value:8,label:"AGOSTO"},{value:9,label:"SEPTIEMBRE"},{value:10,label:"OCTUBRE"},{value:11,label:"NOVIEMBRE"},{value:12,label:"DICIEMBRE"}];this.estadoPagoOptions=[];this.medioPagoOptions=[];this.isLoadingDeuda=!1;this.deudaMeses=[];this.deudaMaxMesCompaneros=null;this.mesesPagadosGestion=[];this.deudaKey=null;this.gestionesAsignaciones=[];this.gestionDeudores=new x(String(new Date().getFullYear()));this.verDeudores=!1;this.filterDeudores="";this.deudores=[];this.deudoresMeta=null;this.deudoresPage=1;this.deudoresPerPage=10;this.isLoadingDeudores=!1;this.uploading=!1;this.uploadProgress=null;this.tempFilePath=null;this.originalFilePath=null;this.ultimoPagoSnapshot=null;this.esSuperAdmin=!1}esMensualidad(t){let e=Number(t);return Number.isFinite(e)&&e>=1&&e<=12}ngOnInit(){if(this._auth.revisarSiEsSuperAdmin().subscribe(t=>this.esSuperAdmin=t),this.cargarEstadoPagoOptions(),this.cargarMedioPagoOptions(),this.cargarGestionesAsignaciones(),this.frmPago.get("mes")?.setValidators([A.required]),this.frmPago.get("gestion")?.setValidators([A.required]),this.frmPago.get("monto")?.setValidators([A.required]),this.frmPago.get("mediopago")?.setValidators([A.required]),this.frmPago.get("estadopago")?.setValidators([A.required]),this.frmPago.get("mes")?.updateValueAndValidity({emitEvent:!1}),this.frmPago.get("gestion")?.updateValueAndValidity({emitEvent:!1}),this.frmPago.get("monto")?.updateValueAndValidity({emitEvent:!1}),this.frmPago.get("mediopago")?.updateValueAndValidity({emitEvent:!1}),this.frmPago.get("estadopago")?.updateValueAndValidity({emitEvent:!1}),this.infoCtrl.valueChanges.subscribe(t=>{let e=Number(t||0);e>0?(this.resetFormForInfo(e),this.cargarPagos(e),this.cargarDeudaActual()):(this.pagos=[],this.mesesPagadosGestion=[],this.deudaMeses=[],this.deudaMaxMesCompaneros=null,this.infoSeleccionada=null,this.resetFormForInfo(null))}),this.frmPago.get("gestion")?.valueChanges.subscribe(()=>{this.recalcularMesesPagadosGestion(),this.cargarDeudaActual()}),this.modo==="estudiante"){let t=Number(this.infoId??0);if(Number.isFinite(t)&&t>0){this.infoCtrl.setValue(t);let e=(this.gestionPredeterminada??"").toString().trim();e&&this.frmPago.patchValue({gestion:e},{emitEvent:!0})}}}ValidacionPagoxElemento(t){return this._tools.obtenerValidationClass(this.frmPago,t)}ValidacionTodoElementoPago(){Object.values(this.frmPago.controls).forEach(t=>{t.markAsTouched(),t.markAsDirty()})}hoyISO(){let t=new Date,e=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),d=String(t.getDate()).padStart(2,"0");return`${e}-${a}-${d}`}horaHHMM(){let t=new Date,e=String(t.getHours()).padStart(2,"0"),a=String(t.getMinutes()).padStart(2,"0");return`${e}:${a}`}mesActual(){return new Date().getMonth()+1}ngOnChanges(t){if((t.infoId||t.modo)&&this.modo==="estudiante"){let e=Number(this.infoId??0);Number.isFinite(e)&&e>0&&this.infoCtrl.value!==e&&this.infoCtrl.setValue(e)}if(t.gestionPredeterminada){let e=(this.gestionPredeterminada??"").toString().trim();e&&this.frmPago.patchValue({gestion:e},{emitEvent:!0})}}fotoUrl(){let t=(this.fotoEstudiante??"").toString().trim();return t?t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:")?t:t.startsWith("/")?`${this.ruta}${t}`:`${this.ruta}/${t}`:null}cargarGestionesAsignaciones(){this._pagos.ObtenerGestionesAsignaciones().subscribe({next:t=>{let e=Array.isArray(t?.data)?t.data:[];this.gestionesAsignaciones=e},error:()=>{this.gestionesAsignaciones=["SIN ASIGNAR"]}})}toggleVerDeudores(){this.verDeudores=!this.verDeudores,this.verDeudores&&this.cargarDeudores(1)}cargarDeudores(t=1){if(this.isLoadingDeudores)return;let e=String(this.gestionDeudores.value??"").trim()||String(new Date().getFullYear()),a=(this.filterDeudores??"").trim();this.isLoadingDeudores=!0,this._pagos.ObtenerDeudores({gestion:e,page:t,per_page:this.deudoresPerPage,search:a||void 0}).subscribe({next:d=>{this.deudores=Array.isArray(d?.data)?d.data:[],this.deudoresMeta=d?.meta??null,this.deudoresPage=this.deudoresMeta?.current_page??t},error:d=>{console.log("ERROR CARGANDO DEUDORES",d),this.deudores=[],this.deudoresMeta=null,this.deudoresPage=1},complete:()=>{this.isLoadingDeudores=!1}})}deudoresTienePrev(){return(this.deudoresMeta?.current_page??1)>1}deudoresTieneNext(){let t=this.deudoresMeta?.current_page??1,e=this.deudoresMeta?.last_page??1;return t<e}deudoresPrev(){this.deudoresTienePrev()&&this.cargarDeudores((this.deudoresMeta?.current_page??1)-1)}deudoresNext(){this.deudoresTieneNext()&&this.cargarDeudores((this.deudoresMeta?.current_page??1)+1)}mesLabels(t){return(Array.isArray(t)?t:[]).map(a=>this.mesLabel(a)).filter(a=>!!a).join(", ")}cargarEstadoPagoOptions(){this._controles.ObtenerOptionsSelectPorCategoria("ESTADO PAGO").subscribe({next:t=>this.estadoPagoOptions=t||[],error:()=>this.estadoPagoOptions=[]})}cargarMedioPagoOptions(){this._controles.ObtenerOptionsSelectPorCategoria("MEDIO PAGO").subscribe({next:t=>{let e=Array.isArray(t)?t:[];this.medioPagoOptions=e.length?e:[{value:"EFECTIVO",label:"EFECTIVO",disabled:!1},{value:"QR",label:"QR",disabled:!1},{value:"TRANSFERENCIA",label:"TRANSFERENCIA",disabled:!1}]},error:()=>{this.medioPagoOptions=[{value:"EFECTIVO",label:"EFECTIVO",disabled:!1},{value:"QR",label:"QR",disabled:!1},{value:"TRANSFERENCIA",label:"TRANSFERENCIA",disabled:!1}]}})}buscarInscripciones(t=1){if(this.isLoadingResultados)return;let e=(this.filterInscripcion??"").trim();if(!e||e.length<2){this.resultados=[],this.resMeta=null,this.resPage=1;return}this.isLoadingResultados=!0,this._info.Obtenerinfoestudiantesifas({page:t,per_page:this.resPerPage,search:e,sort_by:"Ap_Paterno",sort_dir:"asc"}).subscribe({next:a=>{this.resultados=Array.isArray(a?.data)?a.data:[],this.resMeta=a?.meta??null,this.resPage=this.resMeta?.current_page??t},error:a=>{console.log("ERROR BUSCANDO INSCRIPCIONES",a),this.resultados=[],this.resMeta=null,this.resPage=1},complete:()=>{this.isLoadingResultados=!1}})}resTienePrev(){return(this.resMeta?.current_page??1)>1}resTieneNext(){let t=this.resMeta?.current_page??1,e=this.resMeta?.last_page??1;return t<e}resPrev(){this.resTienePrev()&&this.buscarInscripciones((this.resMeta?.current_page??1)-1)}resNext(){this.resTieneNext()&&this.buscarInscripciones((this.resMeta?.current_page??1)+1)}seleccionarInscripcion(t){let e=Number(t?.id??0);e&&(this.infoSeleccionada=t,this.infoCtrl.setValue(e))}limpiarSeleccion(){this.infoCtrl.setValue(null),this.infoSeleccionada=null,this.pagos=[],this.mesesPagadosGestion=[],this.deudaMeses=[],this.deudaMaxMesCompaneros=null,this.resetFormForInfo(null)}cargarPagos(t){this.isLoadingPagos=!0,this._pagos.ObtenerPagoslcchPorInfo(t).subscribe({next:a=>{this.pagos=Array.isArray(a?.data)?a.data:[],this.recalcularMesesPagadosGestion()},error:a=>{console.log("ERROR CARGANDO PAGOS LCCH",a),this.pagos=[],this.mesesPagadosGestion=[]}}).add(()=>{this.isLoadingPagos=!1})}recalcularMesesPagadosGestion(){let t=String(this.frmPago.get("gestion")?.value??"").trim();if(!t){this.mesesPagadosGestion=[];return}let e=(this.pagos??[]).filter(a=>String(a?.gestion??"").trim()===t).filter(a=>String(a?.estadopago??"").trim().toUpperCase()==="PAGADO").map(a=>Number(a?.mes??0)).filter(a=>Number.isFinite(a)&&a>=1&&a<=12);this.mesesPagadosGestion=Array.from(new Set(e)).sort((a,d)=>a-d)}cargarDeudaActual(){let t=Number(this.infoCtrl.value??0);if(!t)return;let e=String(this.frmPago.get("gestion")?.value??"").trim()||String(new Date().getFullYear()),a=`${t}|${e}`;this.deudaKey!==a&&(this.deudaKey=a,this.isLoadingDeuda=!0,this._pagos.ObtenerDeudaPorInfo(t,e).subscribe({next:d=>{let u=d?.data;this.deudaMeses=Array.isArray(u?.meses_deuda)?u.meses_deuda:[],this.deudaMaxMesCompaneros=Number.isFinite(Number(u?.max_mes_companeros))?Number(u?.max_mes_companeros):null},error:d=>{console.log("ERROR CARGANDO DEUDA",d),this.deudaMeses=[],this.deudaMaxMesCompaneros=null},complete:()=>{this.isLoadingDeuda=!1}}))}resetFormForInfo(t){this.cancelarEdicion(),this.frmPago.reset({id:0,infoestudiantesifas_id:t,nrodocumento:"",mes:this.mesActual(),gestion:String(new Date().getFullYear()),monto:"",acuenta:"",saldo:"",dolarboliviano:"BOLIVIANO",mediopago:"EFECTIVO",fechapago:this.hoyISO(),horapago:this.horaHHMM(),estadopago:"PAGADO",observacion:"",file:""}),this.deudaKey=null}limpiarFormulario(){let t=this.infoCtrl.value??null;this.cancelarEdicion(),this.resetFormForInfo(t?Number(t):null)}abrirModalNuevoPago(){let t=Number(this.infoCtrl.value??0);if(!t){this._tools.MostrarMensaje("warning","Seleccione una inscripci\xF3n");return}this.cancelarEdicion(),this.resetFormForInfo(t),this.abrirModalPago()}AutoCompletarLastPago(){if(!this.ultimoPagoSnapshot){this._tools.MostrarMensaje("warning","No hay informaci\xF3n previa para autocompletar");return}let t=Number(this.infoCtrl.value??0);if(!t){this._tools.MostrarMensaje("warning","Seleccione una inscripci\xF3n");return}let e=O({},this.ultimoPagoSnapshot);e.id=0,e.infoestudiantesifas_id=t,e.fechapago=this.hoyISO(),e.horapago=this.horaHHMM(),e.file="",this.frmPago.patchValue(e)}abrirModalPago(){this.modalRef=this._modal.open(this.modalPagoTpl,{size:"lg",centered:!0,backdrop:"static",scrollable:!0}),this.modalRef.result.catch(()=>{}).finally(()=>{this.modalRef=null,this.limpiarFormulario()})}cerrarModalPago(){this.modalRef?.close()}iniciarEditar(t){this.cancelarEdicion(),this.editId=t?.id??null,this.originalFilePath=t?.file??null,this.frmPago.reset({id:t?.id??0,infoestudiantesifas_id:t?.infoestudiantesifas_id??this.infoCtrl.value,nrodocumento:t?.nrodocumento??"",mes:t?.mes??1,gestion:t?.gestion??String(new Date().getFullYear()),monto:t?.monto??"",acuenta:t?.acuenta??"",saldo:t?.saldo??"",dolarboliviano:t?.dolarboliviano??"",mediopago:t?.mediopago??"",fechapago:t?.fechapago??"",horapago:t?.horapago??"",estadopago:t?.estadopago??"PAGADO",observacion:t?.observacion??"",file:t?.file??""}),this.abrirModalPago()}cancelarEdicion(){this.tempFilePath&&this._tools.EliminarArchivo(this.tempFilePath),this.tempFilePath=null,this.originalFilePath=null,this.uploading=!1,this.uploadProgress=null,this.editId=null}onFileSelected(t){let e=t.target;if(!e?.files||e.files.length===0)return;let a=e.files[0];this.tempFilePath&&(this._tools.EliminarArchivo(this.tempFilePath),this.tempFilePath=null),this.uploading=!0,this.uploadProgress=0,this._tools.SubirArchivo(a,"pagoslcchcomprobantes").subscribe({next:d=>{if(d.type===q.UploadProgress){let u=d.total??0;u>0&&(this.uploadProgress=Math.round(d.loaded/u*100))}if(d.type===q.Response){let u=d.body?.filePath;u&&(this.frmPago.patchValue({file:u}),this.tempFilePath=u),this.uploading=!1,this.uploadProgress=100}},error:d=>{console.log("ERROR SUBIENDO COMPROBANTE",d),this.uploading=!1,this.uploadProgress=null,this._tools.MostrarMensaje("error","Error al subir comprobante")}})}guardar(){let t=Number(this.infoCtrl.value||0);if(!t){this._tools.MostrarMensaje("warning","Seleccione una inscripci\xF3n");return}if(this.uploading){this._tools.MostrarMensaje("warning","Espere a que termine la subida");return}if(this.isSavingPago)return;let e=O({},this.frmPago.value);if(e.infoestudiantesifas_id=t,e.fechapago||(e.fechapago=this.hoyISO()),e.horapago||(e.horapago=this.horaHHMM()),this.frmPago.invalid){this.ValidacionTodoElementoPago(),this._tools.MostrarMensajeFrmIncompleto();return}let a=Number(e.mes??this.NO_MENSUALIDAD_MES);if(this.esMensualidad(a)){let v=String(e.gestion??"").trim();if((this.pagos??[]).some(C=>!C||this.editId&&Number(C?.id)===Number(this.editId)?!1:String(C?.gestion??"").trim()===v&&Number(C?.mes??-999)===a&&Number(C?.infoestudiantesifas_id??0)===t)){this._tools.MostrarMensaje("warning","No se puede repetir el mismo mes de pago en la misma gesti\xF3n.");return}}let d=v=>{if(v===""||v===null||v===void 0)return null;let S=Number(v);return Number.isFinite(S)?Math.trunc(S):null};if(e.nrodocumento=d(e.nrodocumento),e.monto=d(e.monto),e.acuenta=d(e.acuenta),e.saldo=d(e.saldo),!this.editId){delete e.id,this.isSavingPago=!0,this._pagos.AgregarPagoslcch(e).subscribe({next:()=>{this._tools.MostrarMensaje("success","Pago registrado"),this.ultimoPagoSnapshot=O({},e),this.tempFilePath=null,this.cancelarEdicion(),this.resetFormForInfo(t),this.cargarPagos(t),this.cargarDeudaActual(),this.cerrarModalPago()},error:S=>{console.log("ERROR CREANDO PAGO",S);let C=S?.error?.error||S?.error?.message;S?.status===422&&C?this._tools.MostrarMensaje("warning",C):this._tools.MostrarMensaje("error","Error al guardar")}}).add(()=>{this.isSavingPago=!1});return}this.isSavingPago=!0,this._pagos.ModificarPagoslcch(e,this.editId).subscribe({next:()=>{this._tools.MostrarMensaje("success","Pago actualizado"),this.ultimoPagoSnapshot=O({},e),this.tempFilePath&&this.originalFilePath&&this.tempFilePath!==this.originalFilePath&&this._tools.EliminarArchivo(this.originalFilePath),this.tempFilePath=null,this.cancelarEdicion(),this.resetFormForInfo(t),this.cargarPagos(t),this.cargarDeudaActual(),this.cerrarModalPago()},error:v=>{console.log("ERROR ACTUALIZANDO PAGO",v);let S=v?.error?.error||v?.error?.message;v?.status===422&&S?this._tools.MostrarMensaje("warning",S):this._tools.MostrarMensaje("error","Error al actualizar")}}).add(()=>{this.isSavingPago=!1})}eliminar(t){return K(this,null,function*(){if(!(yield this._tools.mostrarMensajeConfirm("Eliminar","\xBFEliminar este pago?","warning","Eliminar")))return;let a=Number(this.infoCtrl.value||0);this._pagos.EliminarPagoslcch(t.id).subscribe({next:()=>{t?.file&&this._tools.EliminarArchivo(t.file),this._tools.MostrarMensaje("success","Eliminado"),this.cargarPagos(a),this.cargarDeudaActual()},error:d=>{console.log("ERROR ELIMINANDO PAGO",d),this._tools.MostrarMensaje("error","Error al eliminar")}})})}mesLabel(t){let e=this.meses.find(a=>a.value===Number(t));return e?e.label:String(t??"")}};w.\u0275fac=function(e){return new(e||w)(y(De),y($),y(we),y(Oe),y(Ie),y(Ae))},w.\u0275cmp=X({type:w,selectors:[["app-sistemapagoslcch"]],viewQuery:function(e,a){if(e&1&&ee(Le,7),e&2){let d;te(d=ie())&&(a.modalPagoTpl=d.first)}},inputs:{modo:"modo",infoId:"infoId",estudianteId:"estudianteId",nombreEstudiante:"nombreEstudiante",fotoEstudiante:"fotoEstudiante",sexoEstudiante:"sexoEstudiante",gestionPredeterminada:"gestionPredeterminada"},standalone:!1,features:[Z],decls:12,vars:6,consts:[["modalPago",""],["sinFoto",""],["sinPagados",""],["sinDeuda",""],[1,"container","py-3"],[1,"d-flex","align-items-center","justify-content-between","mb-3"],[1,"m-0"],["class","btn btn-outline-primary","type","button",3,"click",4,"ngIf"],["class","card mb-3",4,"ngIf"],["class","card",4,"ngIf"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"card","mb-3"],[1,"card-body","d-flex","align-items-center","gap-3"],[1,"flex-shrink-0"],["alt","Foto estudiante","style","width: 64px; height: 64px; object-fit: cover; border-radius: 12px;",3,"src",4,"ngIf","ngIfElse"],[1,"flex-grow-1"],[1,"fw-semibold"],["class","text-muted small",4,"ngIf"],[1,"mt-1"],["class","badge bg-primary",4,"ngIf"],["class","badge bg-secondary ms-2",4,"ngIf"],["alt","Foto estudiante",2,"width","64px","height","64px","object-fit","cover","border-radius","12px",3,"src"],[1,"bg-light","d-flex","align-items-center","justify-content-center","text-muted",2,"width","64px","height","64px","border-radius","12px"],[1,"bi","bi-person",2,"font-size","26px"],[1,"text-muted","small"],[1,"badge","bg-primary"],[1,"badge","bg-secondary","ms-2"],[1,"card-header","d-flex","align-items-center","justify-content-between","flex-wrap","gap-2"],[1,"text-danger"],[1,"d-flex","align-items-center","gap-2"],[1,"form-label","m-0"],[1,"form-select","form-select-sm",2,"width","180px",3,"change","formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"card-body"],[1,"row","align-items-end","g-2"],[1,"col-lg-8"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-search"],[1,"form-floating","flex-grow-1"],["type","text","placeholder","Buscar deudores",1,"form-control",3,"input","keyup.enter","value"],["type","button",1,"btn","btn-outline-primary",3,"click","disabled"],[1,"d-inline-flex","align-items-center","gap-2"],["width","22px","height","22px",3,"options",4,"ngIf"],["class","mt-2 d-flex align-items-center gap-2",4,"ngIf"],[1,"col-lg-4"],[1,"form-label"],["readonly","",1,"form-control",3,"value"],[1,"table-responsive"],[1,"table","table-sm","table-striped","align-middle","mb-0"],[4,"ngIf"],[2,"width","160px"],[3,"hidden",4,"ngFor","ngForOf"],[3,"value"],["width","22px","height","22px",3,"options"],[1,"mt-2","d-flex","align-items-center","gap-2"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],[1,"text-muted"],[1,"text-center","py-3"],[1,"loading-row"],["width","34px","height","34px",3,"options"],[3,"hidden"],["type","button",1,"btn","btn-sm","btn-outline-success",3,"click"],["type","text","placeholder","Buscar inscripci\xF3n",1,"form-control",3,"input","keyup.enter","value"],[1,"mt-2","d-flex","flex-wrap","gap-2"],["class","loading-inline text-muted",4,"ngIf"],["class","btn btn-outline-secondary btn-sm","type","button",3,"active","disabled","hidden","click",4,"ngFor","ngForOf"],[1,"mt-2"],["class","text-muted",4,"ngIf"],["class","d-flex flex-wrap align-items-center gap-2",4,"ngIf"],[1,"loading-inline","text-muted"],["width","28px","height","28px",3,"options"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled","hidden"],[1,"d-flex","flex-wrap","align-items-center","gap-2"],[1,"text-success"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click"],["type","button","title","Registrar pago",1,"btn","mouse-dir","success","d-flex","align-items-center",2,"gap","8px",3,"click"],[2,"display","flex","align-items","center","justify-content","center","width","26px","height","26px"],["width","40px","height","40px",3,"options"],[1,"dir-part"],[1,"badge","bg-secondary"],[1,"text-muted","ms-2"],[4,"ngIf","ngIfElse"],["class","badge bg-success",4,"ngFor","ngForOf"],[1,"badge","bg-success"],["class","badge bg-danger",4,"ngFor","ngForOf"],[1,"badge","bg-danger"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup"],[1,"mb-3","d-flex","align-items-center","justify-content-between","flex-wrap","gap-2"],[1,"text-secondary"],[1,"badge","bg-primary","ms-2"],[1,"text-secondary","small"],[1,"row"],[1,"form-floating","mb-3","col-12","col-sm-4"],["formControlName","mes",1,"form-select",3,"ngClass"],[1,"invalid-feedback"],["type","text","placeholder"," ","formControlName","gestion",1,"form-control",3,"ngClass"],["type","number","placeholder"," ","formControlName","nrodocumento",1,"form-control"],["type","number","placeholder"," ","formControlName","monto",1,"form-control",3,"ngClass"],["type","number","placeholder"," ","formControlName","acuenta",1,"form-control"],["type","number","placeholder"," ","formControlName","saldo",1,"form-control"],[1,"mb-3","col-12","col-sm-4"],["role","group","aria-label","Moneda",1,"btn-group","w-100"],["type","radio","value","BOLIVIANO",1,"btn-check",3,"id","formControl"],[1,"btn","btn-outline-primary",3,"for"],["type","radio","value","DOLAR",1,"btn-check",3,"id","formControl"],["formControlName","mediopago",1,"form-select",3,"ngClass"],["disabled","",3,"value"],[3,"value","disabled",4,"ngFor","ngForOf"],["formControlName","estadopago",1,"form-select",3,"ngClass"],["type","date","placeholder"," ","formControlName","fechapago",1,"form-control"],["type","time","placeholder"," ","formControlName","horapago",1,"form-control"],["type","file",1,"form-control",3,"change"],["class","mt-1",4,"ngIf"],["class","mt-2",4,"ngIf"],[1,"mb-3","col-sm-12"],["placeholder","",1,"quill-container-wrapper",3,"formControl","modules"],[1,"modal-footer"],["class","me-auto",4,"ngIf"],["title","Guardar",1,"btn","mouse-dir","primary","d-flex","align-items-center",2,"gap","8px",3,"click","disabled"],[2,"display","flex","align-items","center","justify-content","center","width","30px","height","30px"],["width","42px","height","42px",3,"options",4,"ngIf"],["width","50px","height","50px",3,"options",4,"ngIf"],["title","Cancelar y cerrar",1,"btn","mouse-dir","secondary","d-flex","align-items-center",2,"gap","8px",3,"click"],["width","50px","height","50px",3,"options"],[3,"value","disabled"],["target","_blank","rel","noopener noreferrer",3,"href"],[1,"progress"],["role","progressbar",1,"progress-bar"],[1,"me-auto"],["title","Se autocompletar\xE1 la \xFAltima informaci\xF3n",1,"btn","mouse-dir","secondary","d-flex","align-items-center",2,"gap","8px",3,"click","disabled"],["width","42px","height","42px",3,"options"],[1,"card"],[1,"card-header","text-danger"],["colspan","8",1,"text-center","py-3"],["target","_blank","rel","noopener noreferrer",3,"href",4,"ngIf"],[1,"d-flex","gap-2"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(e,a){e&1&&(i(0,"div",4)(1,"div",5)(2,"h4",6),s(3,"Sistema de Pagos"),n(),p(4,Ge,2,1,"button",7),n(),p(5,Qe,13,6,"div",8)(6,et,52,12,"div",8)(7,lt,27,10,"div",8)(8,xt,26,7,"div",8)(9,At,109,30,"ng-template",null,0,F)(11,Vt,27,3,"div",9),n()),e&2&&(r(4),l("ngIf",a.modo!=="estudiante"),r(),l("ngIf",a.modo==="estudiante"),r(),l("ngIf",a.verDeudores&&a.modo!=="estudiante"),r(),l("ngIf",a.modo!=="estudiante"),r(),l("ngIf",a.infoCtrl.value),r(3),l("ngIf",a.infoCtrl.value))},dependencies:[se,le,de,fe,Ce,ye,pe,he,Ee,xe,ue,ge,ve,be,Se,Me,Fe,Te],styles:[".table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:middle}.quill-container-wrapper[_ngcontent-%COMP%]{min-height:120px}.modal-body[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500}.loading-row[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:10px}.loading-inline[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px}"]});var U=w;var Dt=[{path:"sistemapagoslcch",component:U}],I=class I{};I.\u0275fac=function(e){return new(e||I)},I.\u0275mod=V({type:I}),I.\u0275inj=N({imports:[z.forChild(Dt),z]});var B=I;var M=class M{};M.\u0275fac=function(e){return new(e||M)},M.\u0275mod=V({type:M}),M.\u0275inj=N({imports:[ce,Ve,Pe,Ne,B]});var Re=M;export{U as a,Re as b};
