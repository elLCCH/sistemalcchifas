import{a as e}from"./chunk-JISGPZ2J.js";import{Uc as n,Yc as o,Z as a,ba as r}from"./chunk-K6WFP5KF.js";var t=class t{constructor(i){this.http=i;this.apiBase=(e.apiUrl||"").replace(/\/+$/g,"")}buildUrl(i){return new URL(i,this.apiBase+"/").toString()}getAnios(){return this.http.get(this.buildUrl("/api/anios"))}getAulasDisponibles(){return this.http.get(this.buildUrl(e.apiRoutes.lchaula.aulas))}listSesiones(i){let s=new n;return i&&(s=s.set("fecha",i)),this.http.get(this.buildUrl(e.apiRoutes.asistencias.sesiones),{params:s})}crearSesion(i){return this.http.post(this.buildUrl(e.apiRoutes.asistencias.sesiones),i)}getSesion(i){return this.http.get(this.buildUrl(`${e.apiRoutes.asistencias.sesiones}/${i}`))}abrirSesionPorMateria(i,s){return this.http.post(this.buildUrl(`/api/asistencias/materias/${i}/sesion`),s??{})}cerrarSesion(i){return this.http.post(this.buildUrl(`${e.apiRoutes.asistencias.sesiones}/${i}/cerrar`),{})}listRegistros(i){return this.http.get(this.buildUrl(`${e.apiRoutes.asistencias.sesiones}/${i}/registros`))}listEstudiantesSesion(i){return this.http.get(this.buildUrl(`${e.apiRoutes.asistencias.sesiones}/${i}/estudiantes`))}generarQr(i,s=5){return this.http.post(this.buildUrl(`${e.apiRoutes.asistencias.sesiones}/${i}/qr`),{ttl_seconds:s})}detenerQr(i){return this.http.post(this.buildUrl(`${e.apiRoutes.asistencias.sesiones}/${i}/qr/stop`),{})}marcar(i,s){return this.http.post(this.buildUrl(`${e.apiRoutes.asistencias.sesiones}/${i}/marcar`),s)}scan(i){return this.http.post(this.buildUrl(e.apiRoutes.asistencias.scan),i)}listPermisos(i){let s=new n;return i?.instituciones_id&&(s=s.set("instituciones_id",i.instituciones_id)),i?.infoestudiantesifas_id&&(s=s.set("infoestudiantesifas_id",i.infoestudiantesifas_id)),this.http.get(this.buildUrl(e.apiRoutes.asistencias.permisos),{params:s})}crearPermiso(i){return this.http.post(this.buildUrl(e.apiRoutes.asistencias.permisos),i)}borrarPermiso(i){return this.http.delete(this.buildUrl(`${e.apiRoutes.asistencias.permisos}/${i}`))}listLicencias(i){let s=new n;return i?.anios_id&&(s=s.set("anios_id",i.anios_id)),i?.infoestudiantesifas_id&&(s=s.set("infoestudiantesifas_id",i.infoestudiantesifas_id)),this.http.get(this.buildUrl(e.apiRoutes.asistencias.licencias),{params:s})}crearLicencia(i){return this.http.post(this.buildUrl(e.apiRoutes.asistencias.licencias),i)}borrarLicencia(i){return this.http.delete(this.buildUrl(`${e.apiRoutes.asistencias.licencias}/${i}`))}aplicarLicencia(i){return this.http.post(this.buildUrl(`/api/asistencias/licencias/${i}/aplicar`),{})}buscarEstudiantesLicencias(i){let s=new n().set("q",i);return this.http.get(this.buildUrl("/api/asistencias/licencias/buscar-estudiantes"),{params:s})}};t.\u0275fac=function(s){return new(s||t)(r(o))},t.\u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"});var u=t;export{u as a};
