import{a as Ze}from"./chunk-5LF53I57.js";import"./chunk-ZVVL3HDK.js";import{a as Xe}from"./chunk-CLL7BRQX.js";import"./chunk-XLXCS43A.js";import{a as Je}from"./chunk-UTFZNMGL.js";import{a as ce}from"./chunk-NFLRO45J.js";import{a as G,e as Ge,f as Qe}from"./chunk-ZRBBZWZK.js";import{a as ae}from"./chunk-CZWDWMMQ.js";import{a as We}from"./chunk-KDPIXYM3.js";import{b as le}from"./chunk-4WRFG2J2.js";import{a as Ye,b as Ke}from"./chunk-IOZ5TDSV.js";import{b as Ue}from"./chunk-N4MEOVMH.js";import{a as de}from"./chunk-5KBF566K.js";import{b as qe}from"./chunk-UD6YX65Z.js";import"./chunk-NCIXDP2C.js";import{e as we,g as He,k as B}from"./chunk-LEW5N4EV.js";import{b as se}from"./chunk-56VH3ULB.js";import{d as $e,f as ze,i as Be}from"./chunk-OXGEW5OA.js";import{b as Ne,c as ee,f as te,g as ke,h as Ce,j as F,k as ie,o as Ve,p as Re,q as Fe,r as ne,s as oe,t as re,x as Le,y as je}from"./chunk-TKGN7DBU.js";import{a as X}from"./chunk-5RMZ5E5A.js";import{Aa as E,Bb as ye,Ca as fe,Cb as Me,Cc as Ae,Da as he,Db as De,Ea as l,Ec as Z,Fc as J,Gb as N,Hb as y,Ib as U,Lb as s,Ma as b,Mb as h,Nb as x,Nc as Oe,Ob as M,Pb as Pe,Ra as q,Sa as Q,Sb as D,Tb as P,Ub as T,Vc as xe,Wa as p,Wb as V,Yb as Te,_ as W,_b as w,ab as ve,bb as Y,db as K,ga as _,gc as R,ha as g,ib as m,jb as a,kb as o,lb as C,pb as A,qb as O,sb as v,vb as f,xb as c}from"./chunk-SGF3PIFW.js";import{a as Ie,b as Se,m as Ee}from"./chunk-GG76335P.js";var dt=()=>({standalone:!0});function mt(i,t){if(i&1){let e=v();a(0,"button",61),f("click",function(){_(e);let r=c();return g(r.nuevoHorario())}),s(1," Publicar "),o()}}function pt(i,t){i&1&&(a(0,"div",62)(1,"div",63),s(2,"Cargando horarios..."),o()())}function ut(i,t){i&1&&(a(0,"div",66),s(1," No hay horarios publicados. "),o())}function _t(i,t){if(i&1&&C(0,"img",74),i&2){let e=c().$implicit,n=c(2);m("src",n.ruta+e.institucion_logo,E)("alt",e==null?null:e.institucion_nombre)}}function gt(i,t){if(i&1&&(a(0,"span",75),s(1),o()),i&2){let e=c().$implicit;l(),h(e.horarios.length)}}function ft(i,t){if(i&1&&(a(0,"div",13),s(1),o()),i&2){let e=c().$implicit;l(),x("Gesti\xF3n: ",e==null?null:e.subtitulo)}}function ht(i,t){if(i&1&&(a(0,"div",13),s(1),o()),i&2){let e=c().$implicit;l(),h(e==null?null:e.descripcion)}}function vt(i,t){if(i&1&&(a(0,"a",82),s(1,"Ver"),o()),i&2){let e=c().$implicit,n=c(3);m("href",n.ruta+e.archivo,E)}}function xt(i,t){if(i&1){let e=v();a(0,"button",83),f("click",function(){_(e);let r=c().$implicit,d=c(3);return g(d.editarHorario(r))}),s(1," Editar "),o()}}function Ct(i,t){if(i&1){let e=v();a(0,"button",84),f("click",function(){_(e);let r=c().$implicit,d=c(3);return g(d.eliminarHorario(r))}),s(1," Eliminar "),o()}}function bt(i,t){if(i&1&&(a(0,"div",76)(1,"div",77)(2,"div")(3,"div",32),s(4),o(),p(5,ft,2,1,"div",78)(6,ht,2,1,"div",78),o(),a(7,"div",14),p(8,vt,2,1,"a",79)(9,xt,2,0,"button",80)(10,Ct,2,0,"button",81),o()()()),i&2){let e=t.$implicit,n=c(3);l(4),h(e==null?null:e.titulo),l(),m("ngIf",e==null?null:e.subtitulo),l(),m("ngIf",e==null?null:e.descripcion),l(2),m("ngIf",e==null?null:e.archivo),l(),m("ngIf",n.puedeEditarHorario(e)),l(),m("ngIf",n.puedeEditarHorario(e))}}function It(i,t){if(i&1&&(a(0,"div",62)(1,"div",67)(2,"div",68)(3,"div",11)(4,"div",14),p(5,_t,1,2,"img",69),a(6,"div",70),s(7),o()(),p(8,gt,2,1,"span",71),o()(),a(9,"div",72),p(10,bt,11,6,"div",73),o()()()),i&2){let e=t.$implicit;l(),y("border-left-color",(e==null?null:e.institucion_color_fuerte)||(e==null?null:e.institucion_color_institucional)||"#0d6efd"),l(),y("background",(e==null?null:e.institucion_color_bajo)||"#f8f9fa"),l(3),m("ngIf",e==null?null:e.institucion_logo),l(2),h(e==null?null:e.institucion_nombre),l(),m("ngIf",e==null||e.horarios==null?null:e.horarios.length),l(2),m("ngForOf",e.horarios)}}function St(i,t){if(i&1&&(A(0),p(1,ut,2,0,"div",64)(2,It,11,8,"div",65),O()),i&2){let e=c();l(),m("ngIf",((e.horariosInstituciones==null?null:e.horariosInstituciones.length)??0)===0),l(),m("ngForOf",e.horariosInstituciones)}}function Et(i,t){i&1&&(a(0,"div",85),s(1," No tiene permisos para publicar horarios. "),o())}function yt(i,t){if(i&1&&(a(0,"div",96),s(1),o()),i&2){let e=c(2);l(),x("Archivo: ",e.horarioFile==null?null:e.horarioFile.name)}}function Mt(i,t){if(i&1&&(a(0,"div",62)(1,"div",97)(2,"div",13),s(3,"Subida"),o(),a(4,"div",98),s(5),o()(),a(6,"div",99),C(7,"div",100),o()()),i&2){let e=c(2);l(5),x("",e.horarioUploadProgress??0,"%"),l(2),y("width",e.horarioUploadProgress??0,"%")}}function Dt(i,t){if(i&1){let e=v();A(0),a(1,"div",86),f("dragover",function(r){_(e);let d=c();return g(d.onHorarioDragOver(r))})("dragleave",function(r){_(e);let d=c();return g(d.onHorarioDragLeave(r))})("drop",function(r){_(e);let d=c();return g(d.onHorarioDrop(r))}),a(2,"input",87,0),f("change",function(r){_(e);let d=c();return g(d.onHorarioFileInputChange(r))}),o(),a(4,"div",11)(5,"div")(6,"div",32),s(7,"Arrastra aqu\xED tu archivo"),o(),a(8,"div",13),s(9,"PDF o imagen"),o()(),a(10,"button",88),f("click",function(){_(e);let r=N(3);return g(r.click())}),s(11,"Seleccionar"),o()(),p(12,yt,2,1,"div",89),o(),p(13,Mt,8,3,"div",17),a(14,"div",90)(15,"div",91)(16,"label",92),s(17,"Gesti\xF3n"),o(),C(18,"input",93),o(),a(19,"div",91)(20,"label",92),s(21,"T\xEDtulo"),o(),C(22,"input",94),o(),a(23,"div",91)(24,"label",92),s(25,"Descripci\xF3n"),o(),C(26,"textarea",95),o()(),O()}if(i&2){let e=c();l(),U("dragging",e.horarioUploadDragging),l(11),m("ngIf",e.horarioFile),l(),m("ngIf",e.horarioUploading||e.horarioUploadProgress!==null),l(),m("formGroup",e.horarioForm)}}function Pt(i,t){if(i&1){let e=v();a(0,"button",106),f("click",function(){let r=_(e).$implicit,d=c(2);return g(d.seleccionarInstitucion(r))}),C(1,"img",107),o()}if(i&2){let e=t.$implicit,n=c(2);U("active",(n.institucionSeleccionada==null?null:n.institucionSeleccionada.id)===(e==null?null:e.id)),m("title",e==null?null:e.Nombre),l(),m("src",n.ruta+e.Logo,E)("alt",e==null?null:e.Nombre)}}function Tt(i,t){if(i&1){let e=v();a(0,"div",101)(1,"div",102)(2,"div",32),s(3,"Filtrar por instituci\xF3n (click en el logo)"),o(),a(4,"button",103),f("click",function(){_(e);let r=c();return g(r.seleccionarInstitucion(null))}),s(5," Quitar filtro "),o()(),a(6,"div",104),p(7,Pt,2,5,"button",105),o()()}if(i&2){let e=c();l(4),m("disabled",!e.institucionSeleccionada),l(3),m("ngForOf",e.institucionesLogos)}}function At(i,t){if(i&1&&(a(0,"option",108),s(1),o()),i&2){let e=t.$implicit;m("value",e.id),l(),h(e.Anio)}}function Ot(i,t){i&1&&(a(0,"div",109)(1,"div",110)(2,"div",111)(3,"div",112),s(4,"NO SE ENCONTR\xD3 HORARIOS PUBLICADOS"),o(),a(5,"div",33),s(6,"No se realiz\xF3 la publicaci\xF3n de horarios para esta gesti\xF3n."),o()()()())}function wt(i,t){if(i&1&&C(0,"img",74),i&2){let e=c(2).$implicit,n=c();m("src",n.ruta+e.institucion_logo,E)("alt",e==null?null:e.institucion_nombre)}}function Ht(i,t){if(i&1&&(a(0,"div",125)(1,"div",126),p(2,wt,1,2,"img",69),a(3,"div",33),s(4),o()()()),i&2){let e=c().$implicit,n=c();l(),y("border-color",n.institucionColorFuerte(e==null?null:e.instituciones_id)),l(),m("ngIf",e==null?null:e.institucion_logo),l(2),h(e==null?null:e.institucion_nombre)}}function Nt(i,t){if(i&1&&(a(0,"option",108),s(1),o()),i&2){let e=t.$implicit;m("value",e.materia_id),l(),M(" ",e.SiglaMateria," - ",e.NombreMateria," ")}}function kt(i,t){if(i&1&&(a(0,"div",96),s(1," Seleccionado: "),a(2,"span",32),s(3),o()()),i&2){let e=c().$implicit;l(3),h(e.selectedMateriaNombre)}}function Vt(i,t){if(i&1){let e=v();a(0,"div",113)(1,"div",114)(2,"div",10)(3,"div",115)(4,"div",116)(5,"button",117),f("click",function(){let r=_(e).$implicit,d=c();return g(d.filterHorarioForm.patchValue({txt:r.NivelCurso}))}),s(6),o(),p(7,Ht,5,4,"div",118),o(),a(8,"span",119),s(9),o()(),a(10,"div",62)(11,"label",120),s(12,"Materias"),o(),a(13,"select",121),T("ngModelChange",function(r){let d=_(e).$implicit;return P(d.selectedMateriaId,r)||(d.selectedMateriaId=r),g(r)}),f("ngModelChange",function(r){let d=_(e).$implicit,u=c();return g(u.onMateriaIdChange(d,r))}),a(14,"option",122),s(15,"LISTAR TODO EL CURSO (MEZCLADO)"),o(),p(16,Nt,2,3,"option",39),o()(),a(17,"div",123)(18,"button",124),f("click",function(r){let d=_(e).$implicit,u=c();return g(u.AbrirParalelosPorCurso(d,r))}),s(19," LISTAR "),o()(),p(20,kt,4,1,"div",89),o()()()}if(i&2){let e=t.$implicit,n=c();l(),y("border-left-color",n.institucionColorFuerte(e==null?null:e.instituciones_id))("background","linear-gradient(180deg,"+n.institucionColorBajo(e==null?null:e.instituciones_id)+" 0%, #ffffff 55%)"),l(4),y("color",n.institucionColorFuerte(e==null?null:e.instituciones_id)),l(),x(" ",e.NivelCurso," "),l(),m("ngIf",(e==null?null:e.institucion_logo)||(e==null?null:e.institucion_nombre)),l(),y("background",n.institucionColorFuerte(e==null?null:e.instituciones_id)),l(),x(" ",e.Turno," "),l(4),D("ngModel",e.selectedMateriaId),m("ngModelOptions",Te(19,dt)),l(3),m("ngForOf",e.materias),l(2),y("background",n.institucionColorFuerte(e==null?null:e.instituciones_id))("border-color",n.institucionColorFuerte(e==null?null:e.instituciones_id)),l(2),m("ngIf",e.selectedMateriaNombre)}}function Rt(i,t){if(i&1&&(a(0,"option",108),s(1),o()),i&2){let e=t.$implicit;m("value",e.id),l(),h(e.Anio)}}function Ft(i,t){if(i&1&&C(0,"img",131),i&2){let e=c().$implicit,n=c();m("src",n.ruta+e.logo,E)}}function Lt(i,t){if(i&1&&(a(0,"span"),s(1),o()),i&2){let e=c(2).$implicit;l(),x("(",e.docentes.especialidad.celular_trabajo,")")}}function jt(i,t){if(i&1&&(a(0,"span"),s(1),p(2,Lt,2,1,"span",18),o()),i&2){let e=c().$implicit;l(),M(" ",e.docentes.especialidad.nombres," ",e.docentes.especialidad.apellidos," "),l(),m("ngIf",e.docentes.especialidad.celular_trabajo)}}function Ut(i,t){if(i&1&&(a(0,"span"),s(1),o()),i&2){let e=c(2).$implicit;l(),x("(",e.docentes.practica_conjuntos.celular_trabajo,")")}}function $t(i,t){if(i&1&&(a(0,"span"),s(1),p(2,Ut,2,1,"span",18),o()),i&2){let e=c().$implicit;l(),M(" ",e.docentes.practica_conjuntos.nombres," ",e.docentes.practica_conjuntos.apellidos," "),l(),m("ngIf",e.docentes.practica_conjuntos.celular_trabajo)}}function zt(i,t){if(i&1&&(a(0,"span"),s(1),o()),i&2){let e=c(2).$implicit;l(),x("(",e.docentes.instrumento_complementario.celular_trabajo,")")}}function Bt(i,t){if(i&1&&(a(0,"span"),s(1),p(2,zt,2,1,"span",18),o()),i&2){let e=c().$implicit;l(),M(" ",e.docentes.instrumento_complementario.nombres," ",e.docentes.instrumento_complementario.apellidos," "),l(),m("ngIf",e.docentes.instrumento_complementario.celular_trabajo)}}function Gt(i,t){if(i&1&&(a(0,"tr")(1,"td"),s(2),o(),a(3,"td"),s(4),o(),a(5,"td"),s(6),o(),a(7,"td"),s(8),o(),a(9,"td"),p(10,jt,3,3,"span",18),o(),a(11,"td"),p(12,$t,3,3,"span",18),o(),a(13,"td"),p(14,Bt,3,3,"span",18),o()()),i&2){let e=t.$implicit;l(2),M("",e.lvl_curso," ",e.paralelo),l(2),h(e.nombre_materia),l(2),h(e.turno),l(2),h(e.modo_asistencia),l(2),m("ngIf",e.docentes==null||e.docentes.especialidad==null?null:e.docentes.especialidad.nombres),l(2),m("ngIf",e.docentes==null||e.docentes.practica_conjuntos==null?null:e.docentes.practica_conjuntos.nombres),l(2),m("ngIf",e.docentes==null||e.docentes.instrumento_complementario==null?null:e.docentes.instrumento_complementario.nombres)}}function Wt(i,t){if(i&1&&(a(0,"div",101)(1,"div",132),s(2),o(),a(3,"table",133)(4,"thead",134)(5,"tr")(6,"th"),s(7,"Paralelo"),o(),a(8,"th"),s(9,"Materia"),o(),a(10,"th"),s(11,"Turno"),o(),a(12,"th"),s(13,"Modo Asistencia"),o(),a(14,"th"),s(15,"Docente Especialidad"),o(),a(16,"th"),s(17,"Docente Pr\xE1ctica"),o(),a(18,"th"),s(19,"Docente Complementario"),o()()(),a(20,"tbody"),p(21,Gt,15,8,"tr",135),o()()()),i&2){let e=t.$implicit;l(2),h(e.nombre),l(19),m("ngForOf",e.materias)}}function qt(i,t){if(i&1&&(a(0,"div",127)(1,"h4",128),s(2),p(3,Ft,1,1,"img",129),o(),p(4,Wt,22,2,"div",130),o()),i&2){let e=t.$implicit;l(2),x(" ",e.nombre," "),l(),m("ngIf",e.logo),l(),m("ngForOf",e.carreras)}}var $=class ${constructor(t,e,n,r,d,u,I,S){this.router=t;this.route=e;this._tools=n;this._anios=r;this._inst=d;this._public=u;this._inicios=I;this._auth=S;this.ruta=X.ruta;this.perfilTipo=null;this.puedePublicarHorarios=!1;this.institucionesIdSesion=null;this.esSuperlcchs=!1;this.horariosInstituciones=[];this.horariosLoading=!1;this.horarioForm=new Ce({titulo:new F(""),subtitulo:new F(""),descripcion:new F("")});this.horarioUploadDragging=!1;this.horarioFile=null;this.horarioTempFilePath=null;this.horarioUploading=!1;this.horarioUploadProgress=null;this.horarioEditId=null;this.horarioEditOriginalArchivo=null;this.horarioSaving=!1;this.cursos=[];this.cursosFiltrados=[];this.instituciones=[];this.institucionesLogos=[];this.institucionSeleccionada=null;this.institucionesById=new Map;this.modalHorarioEl=null;this.modalHorarioHiddenListener=null;this.filtroHorario=!1;this.filterHorarioForm=new Ce({txt:new F("")});this.anio=[];this.gestion_id_seleccionado="";this.CIVerificar="";this.CursosMateriasEstudiante=[]}ngAfterViewInit(){this.modalHorarioEl=document.getElementById("ModalPublicarHorario"),this.modalHorarioEl&&(this.modalHorarioHiddenListener=()=>{this.forceCleanupModalArtifacts()},this.modalHorarioEl.addEventListener("hidden.bs.modal",this.modalHorarioHiddenListener))}ngOnDestroy(){this.modalHorarioEl&&this.modalHorarioHiddenListener&&this.modalHorarioEl.removeEventListener("hidden.bs.modal",this.modalHorarioHiddenListener),this.modalHorarioEl=null,this.modalHorarioHiddenListener=null}ngOnInit(){this.CargarInstituciones(),this.CargarAnio(),this.iniciarFormfilterHorario(),this.iniciarFormHorario(),this._auth.pedirPerfil().subscribe({next:t=>{this.perfilTipo=t?.tipo??null,this.esSuperlcchs=this.perfilTipo==="superlcchs";let e=Number(t?.usuario?.instituciones_id??0);this.institucionesIdSesion=Number.isFinite(e)&&e>0?e:null,this.puedePublicarHorarios=this.perfilTipo==="planteladministrativos"||this.perfilTipo==="superlcchs"},error:()=>{this.perfilTipo=null,this.puedePublicarHorarios=!1,this.esSuperlcchs=!1,this.institucionesIdSesion=null}})}forceCleanupModalArtifacts(){try{document.querySelectorAll(".modal-backdrop").forEach(t=>t.remove()),document.body.classList.remove("modal-open"),document.body.style.removeProperty("overflow"),document.body.style.removeProperty("padding-right")}catch{}}getGestionAnioSeleccionado(){let t=(this.gestion_id_seleccionado??"").toString();return t?((this.anio??[]).find(n=>(n?.id??"").toString()===t)?.Anio??"").toString():""}iniciarFormHorario(){let t=this.getGestionAnioSeleccionado();this.horarioForm.patchValue({titulo:"HORARIO "+(t||new Date().getFullYear()),subtitulo:t||"",descripcion:""},{emitEvent:!1})}get esEdicionHorario(){return this.horarioEditId!=null}nuevoHorario(){this.horarioEditId=null,this.horarioEditOriginalArchivo=null,this.resetHorarioDraft(!0)}editarHorario(t){if(!this.puedeEditarHorario(t)){this._tools.MostrarMensaje("warning","No autorizado");return}this.resetHorarioDraft(!0),this.horarioEditId=Number(t?.id??0)||null,this.horarioEditOriginalArchivo=t?.archivo??null;let e=this.getGestionAnioSeleccionado()||(t?.subtitulo??"");this.horarioForm.patchValue({titulo:(t?.titulo??"").toString(),subtitulo:e.toString(),descripcion:(t?.descripcion??"").toString()},{emitEvent:!1})}cerrarModalHorario(){let t=document.getElementById("ModalPublicarHorario");if(t){try{(G.getOrCreateInstance?G.getOrCreateInstance(t):G.getInstance(t)||new G(t)).hide()}catch{}setTimeout(()=>this.forceCleanupModalArtifacts(),350)}}CargarHorariosPublicados(){this.horariosLoading=!0;let t=this.getGestionAnioSeleccionado(),e=this.institucionSeleccionada?.id!=null?this.institucionSeleccionada.id:void 0;this._public.obtenerHorariosPublicadosFiltrado({anio:t,institucion_id:e}).subscribe({next:n=>{this.horariosInstituciones=Array.isArray(n?.data)?n.data:[],this.horariosLoading=!1},error:n=>{console.error("Error al cargar horarios publicados",n),this.horariosInstituciones=[],this.horariosLoading=!1}})}subirArchivoHorario(t){t&&(this.horarioTempFilePath&&(this._tools.EliminarArchivo(this.horarioTempFilePath),this.horarioTempFilePath=null),this.horarioFile=t,this.horarioUploading=!0,this.horarioUploadProgress=0,this._tools.SubirArchivo(t,"inicioshorarios").subscribe({next:e=>{if(e.type===xe.UploadProgress){let n=e.total??0;n>0&&(this.horarioUploadProgress=Math.round(e.loaded/n*100))}if(e.type===xe.Response){let n=e.body?.filePath;n&&(this.horarioTempFilePath=n),this.horarioUploading=!1,this.horarioUploadProgress=100}},error:e=>{console.log("ERROR SUBIENDO HORARIO",e),this.horarioUploading=!1,this.horarioUploadProgress=null,this._tools.MostrarMensaje("error","Error al subir archivo")}}))}onHorarioFileInputChange(t){let e=t.target;if(!e?.files||e.files.length===0)return;let n=e.files[0];this.subirArchivoHorario(n)}onHorarioDragOver(t){t.preventDefault(),t.stopPropagation(),this.horarioUploadDragging=!0}onHorarioDragLeave(t){t.preventDefault(),t.stopPropagation(),this.horarioUploadDragging=!1}onHorarioDrop(t){t.preventDefault(),t.stopPropagation(),this.horarioUploadDragging=!1;let e=t.dataTransfer?.files?.[0];e&&this.subirArchivoHorario(e)}resetHorarioDraft(t){t&&this.horarioTempFilePath&&this._tools.EliminarArchivo(this.horarioTempFilePath),this.horarioTempFilePath=null,this.horarioFile=null,this.horarioUploading=!1,this.horarioUploadProgress=null,this.iniciarFormHorario()}limpiarHorarioDraft(){this.horarioEditId=null,this.horarioEditOriginalArchivo=null,this.resetHorarioDraft(!0)}puedeEditarHorario(t){if(!this.puedePublicarHorarios)return!1;if(this.esSuperlcchs)return!0;let e=this.institucionesIdSesion;if(!e)return!1;let n=Number(t?.id_institucion??t?.institucion_id??0);return Number.isFinite(n)&&n>0&&n===e}eliminarHorario(t){return Ee(this,null,function*(){if(!this.puedeEditarHorario(t)){this._tools.MostrarMensaje("warning","No autorizado");return}if(!(yield this._tools.mostrarMensajeConfirm("Eliminar horario","\xBFDesea eliminar este horario? Esta acci\xF3n no se puede deshacer.","warning","Eliminar","Cancelar")))return;let n=Number(t?.id??0);!Number.isFinite(n)||n<=0||this._inicios.Eliminarinicios(n).subscribe({next:()=>{t?.archivo&&this._tools.EliminarArchivo(t.archivo),this._tools.MostrarMensaje("success","Eliminado"),this.horarioEditId===n&&this.limpiarHorarioDraft(),this.CargarHorariosPublicados()},error:r=>{console.error("Error al eliminar horario",r),this._tools.MostrarMensaje("error","No se pudo eliminar")}})})}guardarHorario(){if(!this.puedePublicarHorarios){this._tools.MostrarMensaje("warning","No tiene permisos para publicar horarios");return}if(this.horarioSaving)return;if(this.horarioUploading){this._tools.MostrarMensaje("warning","Espere a que termine la subida");return}let t=this.getGestionAnioSeleccionado();if(!t){this._tools.MostrarMensaje("warning","Seleccione una gesti\xF3n");return}let e=(this.horarioForm.get("titulo")?.value??"").toString().trim(),n=(this.horarioForm.get("descripcion")?.value??"").toString().trim();if(!e){this._tools.MostrarMensaje("warning","Ingrese un t\xEDtulo");return}let r=this.horarioTempFilePath||this.horarioEditOriginalArchivo;if(!r){this._tools.MostrarMensaje("warning","Suba un PDF o imagen");return}let d={categoria:"HORARIO",titulo:e,subtitulo:t,descripcion:n,archivo:r,estado:"ACTIVO",visibilidad:"VISIBLE"};this.horarioSaving=!0;let u=this.horarioEditId!=null,I=()=>{this.horarioSaving=!1,this._tools.MostrarMensaje("success",u?"Horario actualizado":"Horario publicado"),u&&this.horarioTempFilePath&&this.horarioEditOriginalArchivo&&this.horarioEditOriginalArchivo!==this.horarioTempFilePath&&this._tools.EliminarArchivo(this.horarioEditOriginalArchivo),this.horarioEditId=null,this.horarioEditOriginalArchivo=null,this.resetHorarioDraft(!1),this.CargarHorariosPublicados(),this.cerrarModalHorario()},S=H=>{console.error(u?"Error al actualizar horario":"Error al publicar horario",H),this.horarioSaving=!1,this._tools.MostrarMensaje("error",u?"No se pudo actualizar el horario":"No se pudo publicar el horario")};u?this._inicios.Modificarinicios(d,this.horarioEditId).subscribe({next:I,error:S}):this._inicios.Agregarinicios(d).subscribe({next:I,error:S})}iniciarFormfilterHorario(){this.filterHorarioForm.get("txt").valueChanges.subscribe(t=>{console.log("entered data is ",t),this.filtroHorario=!0,this.aplicarFiltros()})}filterHorario(t){this.filterHorarioForm.patchValue({txt:t},{emitEvent:!1}),this.aplicarFiltros()}aplicarFiltros(){let t=(this.filterHorarioForm.get("txt")?.value??"").toString().toUpperCase().trim(),e=this.institucionSeleccionada?.id!=null?String(this.institucionSeleccionada.id):"",n=Array.isArray(this.cursos)?[...this.cursos]:[];e&&(n=n.filter(r=>String(r?.instituciones_id??"")===e)),t&&(n=n.filter(r=>String(r?.NivelCurso??"").toUpperCase().includes(t))),this.cursosFiltrados=n}CargarInstituciones(){this._inst.Obtenerinstituciones().subscribe({next:t=>{console.log("instituciones",t);let n=(Array.isArray(t?.data?.data)?t.data.data:Array.isArray(t?.data)?t.data:[]).filter(r=>String(r?.Visibilidad??"VISIBLE").toUpperCase()==="VISIBLE").filter(r=>String(r?.Estado??"ACTIVO").toUpperCase()==="ACTIVO").sort((r,d)=>String(r?.Nombre??"").localeCompare(String(d?.Nombre??"")));this.instituciones=n,this.institucionesLogos=n.filter(r=>!!r?.Logo),this.institucionesById=new Map((n||[]).map(r=>[String(r?.id??""),r]))},error:t=>{console.error("Error al cargar carreras",t),this.instituciones=[],this.institucionesLogos=[],this.institucionesById=new Map}})}institucionColorFuerte(t){let e=this.institucionesById.get(String(t??""));return e?.ColorFuerte||e?.ColorInstitucional||"#0d6efd"}institucionColorBajo(t){return this.institucionesById.get(String(t??""))?.ColorBajo||"#f8f9fa"}seleccionarInstitucion(t){t?this.institucionSeleccionada?.id===t.id?this.institucionSeleccionada=null:this.institucionSeleccionada=t:this.institucionSeleccionada=null,this.CargarCursosDesdeMaterias(),this.CargarHorariosPublicados()}CargarAnio(){this._anios.Obteneranios().subscribe({next:t=>{console.log("anios",t),this.anio=t.data??[];let e=this.anio.find(n=>(n?.Predeterminado??"")==="SI")??this.anio[0];e?.id&&(this.gestion_id_seleccionado=e.id,this.onGestionChange())},error:t=>{console.error("Error al cargar",t),this.instituciones=[],this.institucionesLogos=[]}})}onGestionChange(){if(this.CargarCursosDesdeMaterias(),this.CargarHorariosPublicados(),!this.esEdicionHorario)this.iniciarFormHorario();else{let t=this.getGestionAnioSeleccionado();this.horarioForm.patchValue({subtitulo:t},{emitEvent:!1})}}CargarCursosDesdeMaterias(){if(!this.gestion_id_seleccionado){this.cursos=[],this.cursosFiltrados=[];return}let t={Anio_id:this.gestion_id_seleccionado};this.institucionSeleccionada?.id!=null&&(t.instituciones_id=this.institucionSeleccionada.id),this._public.obtenerHorariosCursos(t).subscribe({next:e=>{console.log("CURSOS FILTRADOS",e),this.cursos=(e??[]).map(n=>Se(Ie({},n),{selectedMateriaId:"",selectedMateriaNombre:""})),this.aplicarFiltros()},error:e=>{console.error("Error al cargar anios",e),this.cursos=[],this.cursosFiltrados=[]}})}onSelectMateria(t,e){t.selectedMateriaId=e?.materia_id??"",t.selectedMateriaNombre=`${e?.SiglaMateria??""} ${e?.NombreMateria??""}`.trim()}onMateriaIdChange(t,e){let n=(e??"").toString(),r=(t?.materias??[]).find(d=>(d?.materia_id??"").toString()===n);r?this.onSelectMateria(t,r):(t.selectedMateriaId="",t.selectedMateriaNombre="")}abrirParalelos(t){console.log("intentanto abrir"),t.ctrlKey?window.open("/publicos/paralelos","_blank"):this.router.navigate(["/publicos/paralelos"])}AbrirParalelosPorCurso(t,e){t.selectedMateriaId?sessionStorage.setItem("HORARIOS_MODO","xMATERIA"):sessionStorage.setItem("HORARIOS_MODO","MEZCLADO"),sessionStorage.setItem("HORARIOS_ANIO_ID",(this.gestion_id_seleccionado??"").toString()),sessionStorage.setItem("HORARIOS_LVL_CURSO",(t.LvlCurso??"").toString()),sessionStorage.setItem("HORARIOS_PARALELO",(t.Paralelo??"").toString()),sessionStorage.setItem("HORARIOS_TURNO",(t.Turno??"").toString()),sessionStorage.setItem("HORARIOS_MATERIA_ID",(t.selectedMateriaId??"").toString()),sessionStorage.setItem("HORARIOS_MATERIA_TITULO",(t.selectedMateriaNombre??"TODAS LAS MATERIAS").toString()),t?.instituciones_id!=null?(sessionStorage.setItem("HORARIOS_INSTITUCION_ID",String(t.instituciones_id)),t?.institucion_nombre&&sessionStorage.setItem("HORARIOS_INSTITUCION_NOMBRE",String(t.institucion_nombre)),t?.institucion_logo&&sessionStorage.setItem("HORARIOS_INSTITUCION_LOGO",String(t.institucion_logo))):(sessionStorage.removeItem("HORARIOS_INSTITUCION_ID"),sessionStorage.removeItem("HORARIOS_INSTITUCION_NOMBRE"),sessionStorage.removeItem("HORARIOS_INSTITUCION_LOGO")),this.abrirParalelos(e)}VerificarCursoParalelo(){console.log(this.CIVerificar,this.gestion_id_seleccionado);let t={CI:this.CIVerificar,Anio_id:this.gestion_id_seleccionado};this._public.CargarMateriasEstudiantesMultiInstitucionPublico(t).subscribe({next:e=>{console.log("CURSOS FILTRADOS",e.data),this.CursosMateriasEstudiante=e.data??[],this.CursosMateriasEstudiante.length==0&&this._tools.MensajeInformacion("ESTUDIANTE A\xDAN SIN MATERIAS ASIGNADAS","SI SU CARNET UTILIZA COMPLEMENTO ENTONCES ESCRIBIR, ejemplo: 12345-H1","error")},error:e=>{console.error("Error al cargar anios",e),this.CursosMateriasEstudiante=[],this._tools.MensajeInformacion("ESTUDIANTE A\xDAN SIN MATERIAS ASIGNADAS","SI SU CARNET UTILIZA COMPLEMENTO ENTONCES ESCRIBIR, ejemplo: 12345-H1","error")}})}};$.\u0275fac=function(e){return new(e||$)(b(He),b(we),b(se),b(ce),b(ae),b(de),b(Ge),b(le))},$.\u0275cmp=q({type:$,selectors:[["app-horarios"]],standalone:!1,decls:105,vars:18,consts:[["horarioFileInput",""],[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","text-secondary","subtitulosGlobales"],[1,"container-fluid","py-3"],[1,"row","g-3"],[1,"col-12","col-lg-4"],[1,"card","shadow-sm","border-0","sticky-lg-top","horarios-panel"],[1,"card-body"],[1,"d-flex","align-items-center","justify-content-between","gap-2"],[1,"h5","fw-bold","mb-0"],[1,"small","text-muted"],[1,"d-flex","align-items-center","gap-2"],["type","button","class","btn btn-sm btn-primary","data-bs-toggle","modal","data-bs-target","#ModalPublicarHorario",3,"click",4,"ngIf"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click"],["class","mt-3",4,"ngIf"],[4,"ngIf"],["id","ModalPublicarHorario","tabindex","-1","aria-hidden","true","data-bs-backdrop","static","data-bs-keyboard","false",1,"modal","fade"],[1,"modal-dialog","modal-lg","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],["class","alert alert-warning",4,"ngIf"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-success",3,"click","disabled"],[1,"col-12","col-lg-8"],[1,"col-sm-6","alert","alert-info","py-2"],[1,"fw-semibold"],[1,"small"],["class","mb-3",4,"ngIf"],[1,"col-sm-6","row"],[1,"form-floating","mb-3","col-4"],[1,"form-select",3,"ngModelChange","change","ngModel"],["disabled","",3,"value"],[3,"value",4,"ngFor","ngForOf"],[1,"form-floating","mb-3","col-8"],["type","button","data-bs-toggle","modal","data-bs-target","#AveriguarParalelo",1,"btn","btn-primary"],[1,"col-sm-12","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"form-floating",3,"formGroup"],["type","text","formControlName","txt","placeholder","EJ: PRIMERO SUPERIOR",1,"form-control"],["class","container text-center mt-5",4,"ngIf"],["class","col-12 col-md-6 col-lg-4",4,"ngFor","ngForOf"],["id","AveriguarParalelo","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"mb-4"],[1,"font-weight-bold","text-center","color-fuente"],[1,"form-group","row"],[1,"form-floating","mb-3","col-6"],[1,"form-label","col-6"],[1,"form-floating","mb-3","col-sm-12"],["type","text","placeholder","",1,"form-control",3,"ngModelChange","ngModel"],[1,"invalid-feedback"],["type","button","data-dismiss","modal",1,"btn","btn-primary",3,"click"],["class","mb-5",4,"ngFor","ngForOf"],["type","button","data-bs-toggle","modal","data-bs-target","#ModalPublicarHorario",1,"btn","btn-sm","btn-primary",3,"click"],[1,"mt-3"],[1,"text-muted","small"],["class","text-muted small mt-3",4,"ngIf"],["class","mt-3",4,"ngFor","ngForOf"],[1,"text-muted","small","mt-3"],[1,"horario-inst-card"],[1,"horario-inst-header"],["class","institucion-mini-logo",3,"src","alt",4,"ngIf"],[1,"fw-semibold","small"],["class","badge bg-secondary",4,"ngIf"],[1,"horario-inst-body"],["class","horario-item",4,"ngFor","ngForOf"],[1,"institucion-mini-logo",3,"src","alt"],[1,"badge","bg-secondary"],[1,"horario-item"],[1,"d-flex","align-items-start","justify-content-between","gap-2"],["class","small text-muted",4,"ngIf"],["class","btn btn-sm btn-outline-secondary","target","_blank","rel","noopener",3,"href",4,"ngIf"],["type","button","class","btn btn-sm btn-outline-primary","data-bs-toggle","modal","data-bs-target","#ModalPublicarHorario",3,"click",4,"ngIf"],["type","button","class","btn btn-sm btn-outline-danger",3,"click",4,"ngIf"],["target","_blank","rel","noopener",1,"btn","btn-sm","btn-outline-secondary",3,"href"],["type","button","data-bs-toggle","modal","data-bs-target","#ModalPublicarHorario",1,"btn","btn-sm","btn-outline-primary",3,"click"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"alert","alert-warning"],[1,"horario-dropzone",3,"dragover","dragleave","drop"],["type","file","accept","application/pdf,image/*","hidden","",3,"change"],["type","button",1,"btn","btn-primary",3,"click"],["class","small text-muted mt-2",4,"ngIf"],[1,"row","g-2","mt-3",3,"formGroup"],[1,"col-12"],[1,"form-label"],["formControlName","subtitulo","readonly","",1,"form-control"],["formControlName","titulo","placeholder","Ej: HORARIO 2026",1,"form-control"],["formControlName","descripcion","rows","3","placeholder","Detalle (opcional)",1,"form-control"],[1,"small","text-muted","mt-2"],[1,"d-flex","align-items-center","justify-content-between"],[1,"small","fw-semibold"],[1,"progress",2,"height","10px"],["role","progressbar",1,"progress-bar"],[1,"mb-3"],[1,"d-flex","align-items-center","justify-content-between","flex-wrap","gap-2"],["type","button",1,"btn","btn-sm","btn-outline-light",3,"click","disabled"],[1,"mt-2","d-flex","flex-wrap","gap-2"],["type","button","class","btn btn-light border institucion-logo-btn",3,"active","title","click",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-light","border","institucion-logo-btn",3,"click","title"],[1,"institucion-logo",3,"src","alt"],[3,"value"],[1,"container","text-center","mt-5"],[1,"row",2,"display","flex","flex-direction","column","align-items","center","position","relative"],[1,"alert","alert-warning","d-inline-block"],[1,"fw-bold"],[1,"col-12","col-md-6","col-lg-4"],[1,"card","h-100","shadow-sm","border-0","curso-card"],[1,"d-flex","justify-content-between","align-items-start","gap-3"],[1,"min-w-0"],["type","button",1,"btn","btn-link","p-0","fw-bold","text-decoration-none","curso-title",3,"click"],["class","mt-2 d-flex align-items-center gap-2",4,"ngIf"],[1,"badge","curso-badge"],[1,"form-label","fw-semibold","mb-1"],[1,"form-select","form-select-sm",3,"ngModelChange","ngModel","ngModelOptions"],["value",""],[1,"d-grid","gap-2","mt-3"],["type","button",1,"btn","btn-inst","fw-semibold",3,"click"],[1,"mt-2","d-flex","align-items-center","gap-2"],[1,"institucion-pill"],[1,"mb-5"],[1,"fw-bold","mb-2"],["alt","Logo","style","height:32px;vertical-align:middle;",3,"src",4,"ngIf"],["class","mb-3",4,"ngFor","ngForOf"],["alt","Logo",2,"height","32px","vertical-align","middle",3,"src"],[1,"fw-semibold","text-primary","mb-1"],[1,"table","table-bordered","table-sm"],[1,"table-light"],[4,"ngFor","ngForOf"]],template:function(e,n){e&1&&(a(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),s(4,"HORARIOS Y LISTAS DE ESTUDIANTES"),o(),a(5,"p",5),s(6,"Verifique su horario/curso/materia/paralelo"),o()()()(),a(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"div")(14,"div",12),s(15,"HORARIOS"),o(),a(16,"div",13),s(17,"Publicados por instituci\xF3n"),o()(),a(18,"div",14),p(19,mt,2,0,"button",15),a(20,"button",16),f("click",function(){return n.CargarHorariosPublicados()}),s(21,"Actualizar"),o()()(),p(22,pt,3,0,"div",17)(23,St,3,2,"ng-container",18),o()()(),a(24,"div",19)(25,"div",20)(26,"div",21)(27,"div",22)(28,"h5",23),s(29),o(),a(30,"button",24),f("click",function(){return n.limpiarHorarioDraft()}),o()(),a(31,"div",25),p(32,Et,2,0,"div",26)(33,Dt,27,5,"ng-container",18),o(),a(34,"div",27)(35,"button",28),f("click",function(){return n.limpiarHorarioDraft()}),s(36,"Cancelar"),o(),a(37,"button",29),f("click",function(){return n.guardarHorario()}),s(38),o()()()()(),a(39,"div",30)(40,"div",2)(41,"div",31)(42,"div",32),s(43,"C\xF3mo usar"),o(),a(44,"div",33),s(45,"1) Seleccione gesti\xF3n \u2192 se listar\xE1n los cursos"),o(),a(46,"div",33),s(47,"2) En cada curso, elija una materia (opcional) y pulse \u201CLISTAR\u201D"),o(),C(48,"hr"),a(49,"div",33),s(50,'i) Busque el estado de sus materias usando el boton "AVERIGUAR CURSO PARALELO" '),o(),p(51,Tt,8,2,"div",34),o(),a(52,"div",35)(53,"div",36)(54,"select",37),T("ngModelChange",function(d){return P(n.gestion_id_seleccionado,d)||(n.gestion_id_seleccionado=d),d}),f("change",function(){return n.onGestionChange()}),a(55,"option",38),s(56,"Seleccione una opci\xF3n"),o(),p(57,At,2,2,"option",39),o(),a(58,"label"),s(59,"Gesti\xF3n"),o()(),a(60,"div",40)(61,"button",41),s(62,"AVERIGUAR CURSO PARALELO (POR CI)"),o()(),a(63,"div",2)(64,"div",42)(65,"div",43)(66,"div",44),C(67,"input",45),a(68,"label"),s(69,"Buscar"),o()()()()()()(),p(70,Ot,7,0,"div",46),a(71,"div",7),p(72,Vt,21,20,"div",47),o()()()(),a(73,"div",48)(74,"div",49)(75,"div",21)(76,"div",22)(77,"h5",23),s(78," CONSULTAR CURSO Y PARALELO"),o(),C(79,"button",50),o(),a(80,"div",25)(81,"div",51)(82,"h3",52),s(83,"DEBE INTRODUCIR SU CARNET CORRECTAMENTE. EJEMPLO: 4567814 - 12345-H1 (si tiene complemento)"),o(),a(84,"div",53)(85,"div",54)(86,"select",37),T("ngModelChange",function(d){return P(n.gestion_id_seleccionado,d)||(n.gestion_id_seleccionado=d),d}),f("change",function(){return n.CargarCursosDesdeMaterias()}),a(87,"option",38),s(88,"Seleccione una opci\xF3n"),o(),p(89,Rt,2,2,"option",39),o(),a(90,"label"),s(91,"SE BUSCAR\xC1 LA INFORMACION PARA LA GESTI\xD3N"),o()(),a(92,"label",55),s(93,"SI DESEA VERIFICAR EN OTRA GESTION SELECCIONE OTRA. "),o()(),a(94,"div",53)(95,"div",56)(96,"input",57),T("ngModelChange",function(d){return P(n.CIVerificar,d)||(n.CIVerificar=d),d}),o(),a(97,"label"),s(98,"CARNET (SOLO N\xDAMEROS, SI TIENE COMPLEMENTO SU CI COLOCAR SEGUIDO)"),o(),a(99,"div",58),s(100,"Este campo es obligatorio*"),o()(),a(101,"button",59),f("click",function(){return n.VerificarCursoParalelo()}),s(102,"BUSCAR"),o()()(),p(103,qt,5,3,"div",60),o(),C(104,"div",27),o()()()),e&2&&(l(19),m("ngIf",n.puedePublicarHorarios),l(3),m("ngIf",n.horariosLoading),l(),m("ngIf",!n.horariosLoading),l(6),h(n.esEdicionHorario?"Editar horario":"Publicar horario"),l(3),m("ngIf",!n.puedePublicarHorarios),l(),m("ngIf",n.puedePublicarHorarios),l(4),m("disabled",!n.puedePublicarHorarios||n.horarioUploading||n.horarioSaving),l(),x(" ",n.esEdicionHorario?"Guardar cambios":"Publicar"," "),l(13),m("ngIf",n.institucionesLogos==null?null:n.institucionesLogos.length),l(3),D("ngModel",n.gestion_id_seleccionado),l(3),m("ngForOf",n.anio),l(9),m("formGroup",n.filterHorarioForm),l(4),m("ngIf",n.cursosFiltrados.length===0),l(2),m("ngForOf",n.cursosFiltrados),l(14),D("ngModel",n.gestion_id_seleccionado),l(3),m("ngForOf",n.anio),l(7),D("ngModel",n.CIVerificar),l(7),m("ngForOf",n.CursosMateriasEstudiante))},dependencies:[Z,J,oe,re,ee,ne,te,ke,ie,Re,Fe],styles:['@charset "UTF-8";.no-horario-svg[_ngcontent-%COMP%]{width:200px;height:200px;margin:50px auto auto;display:block}.institucion-logo-btn[_ngcontent-%COMP%]{padding:6px;border-radius:12px;line-height:0}.institucion-logo-btn.active[_ngcontent-%COMP%]{outline:2px solid rgba(25,135,84,.5);box-shadow:0 0 0 .25rem #19875426}.institucion-logo[_ngcontent-%COMP%]{width:44px;height:44px;object-fit:contain;display:block}.institucion-mini-logo[_ngcontent-%COMP%]{width:22px;height:22px;object-fit:contain;display:block}.horarios-panel[_ngcontent-%COMP%]{top:12px}.horario-dropzone[_ngcontent-%COMP%]{border:2px dashed rgba(13,110,253,.35);border-radius:12px;padding:12px;background:#fff;transition:background .12s ease,border-color .12s ease}.horario-dropzone.dragging[_ngcontent-%COMP%]{background:#0d6efd0d;border-color:#0d6efda6}.horario-inst-card[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.08);border-left:6px solid #0d6efd;border-radius:12px;overflow:hidden;background:#fff}.horario-inst-header[_ngcontent-%COMP%]{padding:10px 12px;border-bottom:1px solid rgba(0,0,0,.06)}.horario-inst-body[_ngcontent-%COMP%]{padding:10px 12px}.horario-item[_ngcontent-%COMP%]{padding:10px 0;border-bottom:1px dashed rgba(0,0,0,.08)}.horario-item[_ngcontent-%COMP%]:last-child{border-bottom:0}.curso-card[_ngcontent-%COMP%]{border-left:6px solid #0d6efd;border-radius:14px;overflow:hidden;transition:transform .12s ease,box-shadow .12s ease}.curso-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 .5rem 1.25rem #00000014!important}.curso-title[_ngcontent-%COMP%]{text-align:left;line-height:1.15}.curso-badge[_ngcontent-%COMP%]{color:#fff;font-weight:700;letter-spacing:.2px}.institucion-pill[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;border:1px solid rgba(0,0,0,.12);background:#ffffffbf;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.btn-inst[_ngcontent-%COMP%]{color:#fff}.btn-inst[_ngcontent-%COMP%]:hover{filter:brightness(.95);color:#fff}.btn-inst[_ngcontent-%COMP%]:disabled{opacity:.65}']});var me=$;var Qt=["modalDetalleDocente"],k=(i,t)=>({"bi-caret-up":i,"bi-caret-down":t});function Yt(i,t){if(i&1){let e=v();a(0,"div",39)(1,"input",40),T("ngModelChange",function(r){_(e);let d=c();return P(d.edicionDocentesActiva,r)||(d.edicionDocentesActiva=r),g(r)}),f("change",function(){_(e);let r=c();return g(r.onToggleEdicionDocentes())}),o(),a(2,"label",41),s(3,"Edici\xF3n de docentes"),o()()}if(i&2){let e=c();l(),D("ngModel",e.edicionDocentesActiva)}}function Kt(i,t){if(i&1){let e=v();a(0,"button",42),f("click",function(){_(e);let r=c();return g(r.GenerarReporteListaEstudiantes())}),s(1,"GENERAR LISTA DE ESTUDIANTES"),o()}}function Zt(i,t){if(i&1){let e=v();a(0,"div",43)(1,"input",44),T("ngModelChange",function(r){_(e);let d=c();return P(d.reportarconInstrumentos,r)||(d.reportarconInstrumentos=r),g(r)}),o(),a(2,"label",45),s(3," con Especialidad "),o()()}if(i&2){let e=c();l(),D("ngModel",e.reportarconInstrumentos)}}function Jt(i,t){if(i&1){let e=v();a(0,"div",43)(1,"input",46),T("ngModelChange",function(r){_(e);let d=c();return P(d.reportarcondocentesEspecialidad,r)||(d.reportarcondocentesEspecialidad=r),g(r)}),o(),a(2,"label",47),s(3," con Docentes Especialidad "),o()()}if(i&2){let e=c();l(),D("ngModel",e.reportarcondocentesEspecialidad)}}function Xt(i,t){if(i&1&&C(0,"i",48),i&2){let e=c();m("ngClass",w(1,k,e.getSortDirest("Ap_Paterno")==="asc",e.getSortDirest("Ap_Paterno")==="desc"))}}function ei(i,t){if(i&1&&C(0,"i",48),i&2){let e=c();m("ngClass",w(1,k,e.getSortDirest("Ap_Materno")==="asc",e.getSortDirest("Ap_Materno")==="desc"))}}function ti(i,t){if(i&1&&C(0,"i",48),i&2){let e=c();m("ngClass",w(1,k,e.getSortDirest("Nombre")==="asc",e.getSortDirest("Nombre")==="desc"))}}function ii(i,t){if(i&1&&C(0,"i",48),i&2){let e=c(2);m("ngClass",w(1,k,e.getSortDirest("Docente_Especialidad_Apellidos")==="asc",e.getSortDirest("Docente_Especialidad_Apellidos")==="desc"))}}function ni(i,t){if(i&1){let e=v();a(0,"th",49),f("click",function(r){_(e);let d=c();return g(d.sortByest("Docente_Especialidad_Apellidos",r))}),s(1," Doc. Especialidad "),p(2,ii,1,4,"i",29),o()}if(i&2){let e=c();l(2),m("ngIf",e.isSortedest("Docente_Especialidad_Apellidos"))}}function oi(i,t){if(i&1&&C(0,"i",48),i&2){let e=c(2);m("ngClass",w(1,k,e.getSortDirest("Docente_Practica_Conjuntos_Apellidos")==="asc",e.getSortDirest("Docente_Practica_Conjuntos_Apellidos")==="desc"))}}function ri(i,t){if(i&1){let e=v();a(0,"th",50),f("click",function(r){_(e);let d=c();return g(d.sortByest("Docente_Practica_Conjuntos_Apellidos",r))}),s(1," Doc. Prac. Conj. "),p(2,oi,1,4,"i",29),o()}if(i&2){let e=c();l(2),m("ngIf",e.isSortedest("Docente_Practica_Conjuntos_Apellidos"))}}function ai(i,t){if(i&1&&C(0,"i",48),i&2){let e=c(2);m("ngClass",w(1,k,e.getSortDirest("Docente_Instrumento_Complementario_Apellidos")==="asc",e.getSortDirest("Docente_Instrumento_Complementario_Apellidos")==="desc"))}}function li(i,t){if(i&1){let e=v();a(0,"th",51),f("click",function(r){_(e);let d=c();return g(d.sortByest("Docente_Instrumento_Complementario_Apellidos",r))}),s(1," Doc. Inst. Comp. "),p(2,ai,1,4,"i",29),o()}if(i&2){let e=c();l(2),m("ngIf",e.isSortedest("Docente_Instrumento_Complementario_Apellidos"))}}function si(i,t){if(i&1&&C(0,"i",48),i&2){let e=c(2);m("ngClass",w(1,k,e.getSortDirest("InstrumentoMusical")==="asc",e.getSortDirest("InstrumentoMusical")==="desc"))}}function ci(i,t){if(i&1){let e=v();a(0,"th",28),f("click",function(r){_(e);let d=c();return g(d.sortByest("InstrumentoMusical",r))}),s(1," Especialidad "),p(2,si,1,4,"i",29),o()}if(i&2){let e=c();l(2),m("ngIf",e.isSortedest("InstrumentoMusical"))}}function di(i,t){if(i&1&&C(0,"i",48),i&2){let e=c(2);m("ngClass",w(1,k,e.getSortDirest("InstrumentoMusicalSecundario")==="asc",e.getSortDirest("InstrumentoMusicalSecundario")==="desc"))}}function mi(i,t){if(i&1){let e=v();a(0,"th",52),f("click",function(r){_(e);let d=c();return g(d.sortByest("InstrumentoMusicalSecundario",r))}),s(1," Instr. Secundario "),p(2,di,1,4,"i",29),o()}if(i&2){let e=c();l(2),m("ngIf",e.isSortedest("InstrumentoMusicalSecundario"))}}function pi(i,t){i&1&&(a(0,"th",27),s(1,"CELULAR_EST"),o())}function ui(i,t){i&1&&(a(0,"th",27),s(1,"PADRE"),o())}function _i(i,t){i&1&&(a(0,"th",27),s(1,"MADRE"),o())}function gi(i,t){i&1&&(a(0,"tr")(1,"td",27)(2,"div",53)(3,"span",54),s(4,"Cargando..."),o()()()()),i&2&&(l(),ve("colspan",5))}function fi(i,t){i&1&&(a(0,"tr")(1,"td",27),s(2,"No hay datos disponibles"),o()()),i&2&&(l(),ve("colspan",5))}function hi(i,t){if(i&1&&(a(0,"div",60),s(1),o()),i&2){let e=c().$implicit;l(),x("CI: ",e.CI)}}function vi(i,t){if(i&1&&(a(0,"div",60),s(1),o()),i&2){let e=c().$implicit;l(),x(" ",e.Sexo)}}function xi(i,t){if(i&1&&(a(0,"span"),s(1),o()),i&2){let e=c(2).$implicit;l(),x("Edad: ",e.Edad)}}function Ci(i,t){if(i&1&&(a(0,"div",60),p(1,xi,2,1,"span",36),o()),i&2){let e=c(2);l(),m("ngIf",e.verdetallado)}}function bi(i,t){if(i&1&&(a(0,"div",61),s(1),o()),i&2){let e=c().$implicit;l(),x(" Asig. ",e.CantidadMateriasAsignadas)}}function Ii(i,t){if(i&1&&(a(0,"span"),s(1),o()),i&2){let e=c(2).$implicit;l(),x("Est. ",e.Categoria)}}function Si(i,t){if(i&1&&(a(0,"div",60),p(1,Ii,2,1,"span",36),o()),i&2){let e=c(2);l(),m("ngIf",e.verdetallado)}}function Ei(i,t){i&1&&(a(0,"span"),s(1,"A\xDAN SIN DESIGNAR"),o())}function yi(i,t){if(i&1){let e=v();a(0,"a",65),f("click",function(r){return _(e),g(r.stopPropagation())}),s(1),C(2,"i",66),o()}if(i&2){let e=c(3).$implicit;m("href",V("https://api.whatsapp.com/send?phone=591",e.Docente_Especialidad_CelularTrabajo),E),l(),x("",e.Docente_Especialidad_CelularTrabajo," ")}}function Mi(i,t){if(i&1&&(A(0),Y(1,Ei,2,0,"span")(2,yi,3,3,"a",64),a(3,"div",60),s(4),o(),O()),i&2){let e=c(2).$implicit;l(),K(e.Docente_Especialidad_Apellidos==null&&e.Docente_Especialidad_Nombres==null?1:2),l(3),M("",e.Docente_Especialidad_Apellidos," ",e.Docente_Especialidad_Nombres)}}function Di(i,t){i&1&&(a(0,"div",70),s(1,"Guardando..."),o())}function Pi(i,t){if(i&1){let e=v();a(0,"div",67)(1,"input",68),f("focus",function(r){_(e);let d=c(3);return g(d.abrirOverlayDocentes(r))})("click",function(r){_(e);let d=c(3);return r.stopPropagation(),g(d.abrirOverlayDocentes(r))})("keydown.escape",function(r){_(e);let d=c(3);return r.preventDefault(),g(d.salirModoEdicionDocente())}),o()(),p(2,Di,2,0,"div",69)}if(i&2){let e=c(2).$implicit,n=c();l(),m("formControl",n.docEdicionInput),l(),m("ngIf",n.isGuardandoDocente(e.id,"planteldocadmins_id"))}}function Ti(i,t){if(i&1){let e=v();a(0,"td",62),f("click",function(r){_(e);let d=c().$implicit,u=c();return g(u.edicionDocentesActiva?u.activarEdicionDocente(d,"planteldocadmins_id",r):null)}),p(1,Mi,5,3,"ng-container",63)(2,Pi,3,2,"ng-template",null,1,R),o()}if(i&2){let e=N(3),n=c().$implicit,r=c();l(),m("ngIf",!r.edicionDocentesActiva||!r.isCeldaDocenteActiva(n.id,"planteldocadmins_id"))("ngIfElse",e)}}function Ai(i,t){i&1&&(a(0,"span"),s(1,"NINGUNO(A)"),o())}function Oi(i,t){if(i&1){let e=v();a(0,"a",65),f("click",function(r){return _(e),g(r.stopPropagation())}),s(1),C(2,"i",66),o()}if(i&2){let e=c(3).$implicit;m("href",V("https://api.whatsapp.com/send?phone=591",e.Docente_Practica_Conjuntos_CelularTrabajo),E),l(),x("",e.Docente_Practica_Conjuntos_CelularTrabajo," ")}}function wi(i,t){if(i&1&&(A(0),Y(1,Ai,2,0,"span")(2,Oi,3,3,"a",64),a(3,"div",60),s(4),o(),O()),i&2){let e=c(2).$implicit;l(),K(e.Docente_Practica_Conjuntos_Apellidos==null&&e.Docente_Practica_Conjuntos_Nombres==null?1:2),l(3),M("",e.Docente_Practica_Conjuntos_Apellidos," ",e.Docente_Practica_Conjuntos_Nombres)}}function Hi(i,t){i&1&&(a(0,"div",70),s(1,"Guardando..."),o())}function Ni(i,t){if(i&1){let e=v();a(0,"div",67)(1,"input",68),f("focus",function(r){_(e);let d=c(3);return g(d.abrirOverlayDocentes(r))})("click",function(r){_(e);let d=c(3);return r.stopPropagation(),g(d.abrirOverlayDocentes(r))})("keydown.escape",function(r){_(e);let d=c(3);return r.preventDefault(),g(d.salirModoEdicionDocente())}),o()(),p(2,Hi,2,0,"div",69)}if(i&2){let e=c(2).$implicit,n=c();l(),m("formControl",n.docEdicionInput),l(),m("ngIf",n.isGuardandoDocente(e.id,"planteldocadmins_idPC"))}}function ki(i,t){if(i&1){let e=v();a(0,"td",62),f("click",function(r){_(e);let d=c().$implicit,u=c();return g(u.edicionDocentesActiva?u.activarEdicionDocente(d,"planteldocadmins_idPC",r):null)}),p(1,wi,5,3,"ng-container",63)(2,Ni,3,2,"ng-template",null,2,R),o()}if(i&2){let e=N(3),n=c().$implicit,r=c();l(),m("ngIf",!r.edicionDocentesActiva||!r.isCeldaDocenteActiva(n.id,"planteldocadmins_idPC"))("ngIfElse",e)}}function Vi(i,t){i&1&&(a(0,"span"),s(1,"NINGUNO(A)"),o())}function Ri(i,t){if(i&1){let e=v();a(0,"a",65),f("click",function(r){return _(e),g(r.stopPropagation())}),s(1),C(2,"i",66),o()}if(i&2){let e=c(3).$implicit;m("href",V("https://api.whatsapp.com/send?phone=591",e.Docente_Instrumento_Complementario_CelularTrabajo),E),l(),x("",e.Docente_Instrumento_Complementario_CelularTrabajo," ")}}function Fi(i,t){if(i&1&&(A(0),Y(1,Vi,2,0,"span")(2,Ri,3,3,"a",64),a(3,"div",60),s(4),o(),O()),i&2){let e=c(2).$implicit;l(),K(e.Docente_Instrumento_Complementario_Apellidos==null&&e.Docente_Instrumento_Complementario_Nombres==null?1:2),l(3),M("",e.Docente_Instrumento_Complementario_Apellidos," ",e.Docente_Instrumento_Complementario_Nombres)}}function Li(i,t){i&1&&(a(0,"div",70),s(1,"Guardando..."),o())}function ji(i,t){if(i&1){let e=v();a(0,"div",67)(1,"input",68),f("focus",function(r){_(e);let d=c(3);return g(d.abrirOverlayDocentes(r))})("click",function(r){_(e);let d=c(3);return r.stopPropagation(),g(d.abrirOverlayDocentes(r))})("keydown.escape",function(r){_(e);let d=c(3);return r.preventDefault(),g(d.salirModoEdicionDocente())}),o()(),p(2,Li,2,0,"div",69)}if(i&2){let e=c(2).$implicit,n=c();l(),m("formControl",n.docEdicionInput),l(),m("ngIf",n.isGuardandoDocente(e.id,"planteldocadmins_idOtros"))}}function Ui(i,t){if(i&1){let e=v();a(0,"td",62),f("click",function(r){_(e);let d=c().$implicit,u=c();return g(u.edicionDocentesActiva?u.activarEdicionDocente(d,"planteldocadmins_idOtros",r):null)}),p(1,Fi,5,3,"ng-container",63)(2,ji,3,2,"ng-template",null,3,R),o()}if(i&2){let e=N(3),n=c().$implicit,r=c();l(),m("ngIf",!r.edicionDocentesActiva||!r.isCeldaDocenteActiva(n.id,"planteldocadmins_idOtros"))("ngIfElse",e)}}function $i(i,t){if(i&1&&(a(0,"div",60),s(1),o()),i&2){let e=c(3).$implicit;l(),x(" (Est. ",e.Categoria,")")}}function zi(i,t){if(i&1&&(A(0),s(1),p(2,$i,2,1,"div",56),O()),i&2){let e=c(2).$implicit,n=c();l(),x(" ",e.InstrumentoMusical||"SIN ESPECIALIDAD"," "),l(),m("ngIf",n.verdetallado)}}function Bi(i,t){if(i&1&&(a(0,"option",75),s(1),o()),i&2){let e=t.$implicit;m("ngValue",e.value)("disabled",e.disabled),l(),h(e.label)}}function Gi(i,t){i&1&&(a(0,"div",70),s(1,"Guardando..."),o())}function Wi(i,t){if(i&1){let e=v();a(0,"select",72),f("click",function(r){return _(e),g(r.stopPropagation())})("ngModelChange",function(r){_(e);let d=c(2).$implicit,u=c();return g(u.onInstrumentoChange(d,"InstrumentoMusical",r))}),a(1,"option",73),s(2,"-- Sin especialidad --"),o(),p(3,Bi,2,3,"option",74),o(),p(4,Gi,2,0,"div",69)}if(i&2){let e=c(2).$implicit,n=c();m("ngModel",e.InstrumentoMusical),l(),m("ngValue",""),l(2),m("ngForOf",n.InstrumentoMusicalOptions),l(),m("ngIf",n.isGuardandoInstrumento(e.id,"InstrumentoMusical"))}}function qi(i,t){if(i&1&&(a(0,"td",71),p(1,zi,3,2,"ng-container",63)(2,Wi,5,4,"ng-template",null,4,R),o()),i&2){let e=N(3),n=c(2);l(),m("ngIf",!n.edicionDocentesActiva)("ngIfElse",e)}}function Qi(i,t){if(i&1&&(a(0,"div",60),s(1),o()),i&2){let e=c(3).$implicit;l(),x(" Edad: ",e.Edad)}}function Yi(i,t){if(i&1&&(A(0),s(1),p(2,Qi,2,1,"div",56),O()),i&2){let e=c(2).$implicit,n=c();l(),x(" ",e.InstrumentoMusicalSecundario||"SIN INSTR. SEC."," "),l(),m("ngIf",n.verdetallado)}}function Ki(i,t){if(i&1&&(a(0,"option",75),s(1),o()),i&2){let e=t.$implicit;m("ngValue",e.value)("disabled",e.disabled),l(),h(e.label)}}function Zi(i,t){i&1&&(a(0,"div",70),s(1,"Guardando..."),o())}function Ji(i,t){if(i&1){let e=v();a(0,"select",72),f("click",function(r){return _(e),g(r.stopPropagation())})("ngModelChange",function(r){_(e);let d=c(2).$implicit,u=c();return g(u.onInstrumentoChange(d,"InstrumentoMusicalSecundario",r))}),a(1,"option",73),s(2,"-- Sin instr. secundario --"),o(),p(3,Ki,2,3,"option",74),o(),p(4,Zi,2,0,"div",69)}if(i&2){let e=c(2).$implicit,n=c();m("ngModel",e.InstrumentoMusicalSecundario),l(),m("ngValue",""),l(2),m("ngForOf",n.InstrumentoMusicalSecundarioOptions),l(),m("ngIf",n.isGuardandoInstrumento(e.id,"InstrumentoMusicalSecundario"))}}function Xi(i,t){if(i&1&&(a(0,"td",71),p(1,Yi,3,2,"ng-container",63)(2,Ji,5,4,"ng-template",null,5,R),o()),i&2){let e=N(3),n=c(2);l(),m("ngIf",!n.edicionDocentesActiva)("ngIfElse",e)}}function en(i,t){if(i&1&&(a(0,"td")(1,"a",64),s(2),C(3,"i",66),o(),a(4,"div",60),s(5),o()()),i&2){let e=c().$implicit;l(),m("href",V("https://api.whatsapp.com/send?phone=591",e.Celular),E),l(),h(e.Celular),l(3),h(e.Nombre_Padre)}}function tn(i,t){if(i&1&&(a(0,"td")(1,"a",64),s(2),C(3,"i",66),o(),a(4,"div",60),s(5),o()()),i&2){let e=c().$implicit;l(),m("href",V("https://api.whatsapp.com/send?phone=591",e.NumCelP),E),l(),h(e.NumCelP),l(3),h(e.Nombre_Padre)}}function nn(i,t){if(i&1&&(a(0,"td")(1,"a",64),s(2),C(3,"i",66),o(),a(4,"div",60),s(5),o()()),i&2){let e=c().$implicit;l(),m("href",V("https://api.whatsapp.com/send?phone=591",e.NumCelM),E),l(),h(e.NumCelM),l(3),h(e.Nombre_Madre)}}function on(i,t){if(i&1){let e=v();a(0,"tr",55),f("contextmenu",function(){let r=_(e).$implicit,d=c();return g(d.abrirMenuest(d.event,r))}),a(1,"td",27),s(2),o(),a(3,"td"),s(4),p(5,hi,2,1,"div",56),o(),a(6,"td"),s(7),p(8,vi,2,1,"div",56)(9,Ci,2,1,"div",56),o(),a(10,"td"),s(11),p(12,bi,2,1,"div",57)(13,Si,2,1,"div",56),o(),p(14,Ti,4,2,"td",58)(15,ki,4,2,"td",58)(16,Ui,4,2,"td",58)(17,qi,4,2,"td",59)(18,Xi,4,2,"td",59)(19,en,6,4,"td",36)(20,tn,6,4,"td",36)(21,nn,6,4,"td",36),o()}if(i&2){let e=t.$implicit,n=t.index,r=c();l(2),h((r.paginaest-1)*r.pageSizeest+(n+1)),l(2),x("",e.Ap_Paterno," "),l(),m("ngIf",r.verdetallado),l(2),x("",e.Ap_Materno," "),l(),m("ngIf",r.verdetallado),l(),m("ngIf",!r.habilitarCamposMusicales),l(2),x("",e.Nombre," "),l(),m("ngIf",r.verdetallado),l(),m("ngIf",!r.habilitarCamposMusicales),l(),m("ngIf",r.habilitarCamposMusicales),l(),m("ngIf",r.habilitarCamposMusicales),l(),m("ngIf",r.habilitarCamposMusicales),l(),m("ngIf",r.habilitarCamposMusicales),l(),m("ngIf",r.habilitarCamposMusicales),l(),m("ngIf",r.verdetallado),l(),m("ngIf",r.verdetallado),l(),m("ngIf",r.verdetallado)}}function rn(i,t){if(i&1&&(a(0,"tr")(1,"td",27),s(2),o(),a(3,"td"),s(4),o(),a(5,"td"),s(6),o(),a(7,"td"),s(8),o(),a(9,"td"),s(10),o(),a(11,"td",27),s(12),o(),a(13,"td",27),s(14),o(),a(15,"td",27),s(16),o(),a(17,"td",27),s(18),o()()),i&2){let e=t.$implicit,n=t.index,r=c(2);l(2),h(n+1),l(2),h(r.anioId),l(2),h(r.lvlCurso),l(2),h(r.paralelo),l(2),Pe("",e==null?null:e.Ap_Paterno," ",e==null?null:e.Ap_Materno," ",e==null?null:e.Nombre),l(2),h(e==null?null:e.CI),l(2),h(e==null?null:e.Edad),l(2),h(e==null?null:e.Sexo),l(2),h(r.turno)}}function an(i,t){if(i&1){let e=v();a(0,"div",76)(1,"div")(2,"h5",77),s(3,"Detalle por docente"),o(),a(4,"div",78),s(5),o()(),a(6,"button",79),f("click",function(){let r=_(e).$implicit;return g(r.dismiss("close"))}),o()(),a(7,"div",80)(8,"div",81)(9,"table",82)(10,"thead")(11,"tr")(12,"th",83),s(13,"#"),o(),a(14,"th"),s(15,"A\xF1o"),o(),a(16,"th"),s(17,"Curso"),o(),a(18,"th"),s(19,"Paralelo"),o(),a(20,"th"),s(21,"Nombre"),o(),a(22,"th",84),s(23,"CI"),o(),a(24,"th",85),s(25,"Edad"),o(),a(26,"th",86),s(27,"Sexo"),o(),a(28,"th",87),s(29,"Turno"),o()()(),a(30,"tbody"),p(31,rn,19,11,"tr",88),o()()()(),a(32,"div",89)(33,"button",90),f("click",function(){let r=_(e).$implicit;return g(r.close("ok"))}),s(34,"Cerrar"),o()()}if(i&2){let e=c();l(5),x(" ",e.detalleDocenteMeta==null?null:e.detalleDocenteMeta.docente_nombre," "),l(26),m("ngForOf",e.detalleDocenteRows)}}function ln(i,t){i&1&&(a(0,"div",94),s(1,"Sin resultados"),o())}function sn(i,t){if(i&1){let e=v();a(0,"div",95),f("click",function(r){let d=_(e).$implicit,u=c(2);return r.stopPropagation(),g(u.seleccionarDocenteEdicion(d))}),a(1,"div",96)(2,"div",97),s(3),o(),a(4,"small",98),s(5),o()(),a(6,"button",99),f("click",function(r){let d=_(e).$implicit,u=c(2);return g(u.abrirDetalleDocente(d,r))}),s(7,"Detalle"),o()()}if(i&2){let e=t.$implicit,n=c(2);U("disabled",n.docenteInactivo(e)),l(2),U("text-muted",n.docenteInactivo(e)),l(),h(n.getNombreCompletoDocente(e)),l(2),x("Estudiantes: ",n.getConteoDocente(e.id))}}function cn(i,t){if(i&1&&(a(0,"div",91),p(1,ln,2,0,"div",92)(2,sn,8,6,"div",93),o()),i&2){let e=c();y("top",e.docenteOverlayTop,"px")("left",e.docenteOverlayLeft,"px")("width",e.docenteOverlayWidth,"px"),l(),m("ngIf",e.docentesFiltradosEdicion.length===0),l(),m("ngForOf",e.docentesFiltradosEdicion)}}var z=class z{constructor(t,e,n,r,d,u,I,S,H){this._reportes=t;this._anios=e;this._tools=n;this._planteldoc=r;this._public=d;this._auth=u;this._inst=I;this._infoest=S;this._controles=H;this.ruta=X.ruta;this.est=[];this.estRespaldo=[];this.admin=[];this.filterpost="";this.ModoSimple=!1;this.materiaId=null;this.anioId=null;this.lvlCurso=null;this.paralelo=null;this.institucionId=null;this.modo="";this.verdetallado=!1;this.esxMateria=!0;this.nameInst="";this.siglaYMateria="";this.turno="";this.visionOpciones=!1;this.edicionDocentesActiva=!1;this.edicionDocenteActivo=null;this.docEdicionInput=new F("");this.mostrarListaDocEdicion=!1;this.docentesFiltradosEdicion=[];this.docenteOverlayTop=0;this.docenteOverlayLeft=0;this.docenteOverlayWidth=320;this.docenteOverlayAnchorEl=null;this.guardandoDocenteMap={};this.conteoDocentesMap={};this.InstrumentoMusicalOptions=[];this.InstrumentoMusicalSecundarioOptions=[];this.guardandoInstrumentoMap={};this.instrumentosOptionsCargando=!1;this.instrumentosOptionsCargadas=!1;this.detalleDocenteMeta=null;this.detalleDocenteRows=[];this.habilitarCamposMusicales=!1;this.paginaest=1;this.isLoadingest=!0;this.AnimacionCargabtnModalest=!1;this.filtertxtest="";this.collectionSizeest=0;this.pageSizeest=10;this.pageSizeOptionsest=[5,10,20,50];this.sortColumnsest=[];this.planteldocente=[];this.reportarconInstrumentos=!1;this.reportarcondocentesEspecialidad=!1;this.copiadoNombres=!1;this.copiadoEspecialidades=!1;this.copiadoSexos=!1;this.copiadoTodos=!1;this.copiadoCarnets=!1}ngOnInit(){this.materiaId=sessionStorage.getItem("HORARIOS_MATERIA_ID"),this.anioId=sessionStorage.getItem("HORARIOS_ANIO_ID"),this.lvlCurso=sessionStorage.getItem("HORARIOS_LVL_CURSO"),this.paralelo=sessionStorage.getItem("HORARIOS_PARALELO"),this.institucionId=sessionStorage.getItem("HORARIOS_INSTITUCION_ID"),this.modo=sessionStorage.getItem("HORARIOS_MODO"),this.nameInst=sessionStorage.getItem("HORARIOS_INSTITUCION_NOMBRE"),this.siglaYMateria=sessionStorage.getItem("HORARIOS_MATERIA_TITULO"),this.turno=sessionStorage.getItem("HORARIOS_TURNO"),(this.materiaId==null||this.materiaId==""||this.materiaId==null)&&(this.esxMateria=!1),this._auth.pedirPerfil().subscribe({next:t=>{console.log("perfil obtenido",t),t?(t.tipo=="usuarioslcchs"||t.tipo=="planteladministrativos"||t.tipo=="planteldocentes")&&(this.visionOpciones=!0,this.CargarPlantelDocente(),this.setupBuscadorDocenteEdicion(),this.esxMateria?this.CargarEstudiantesMateriaPrivado():this.CargarEstudiantesMezcladosMateriasPrivado(),this.verdetallado=!0):(this.esxMateria?this.CargarEstudiantesMateriaPublico():this.CargarEstudiantesMezcladosMateriasPublico(),this.verdetallado=!1),this.cargarCaractisticasInstitucionActual(this.institucionId)},error:t=>{console.error("Error al cargar",t),this.isLoadingest=!1,this.esxMateria?this.CargarEstudiantesMateriaPublico():this.CargarEstudiantesMezcladosMateriasPublico()}})}setupBuscadorDocenteEdicion(){this.docEdicionInput.valueChanges.subscribe(t=>{let e=(t??"").toString();if(e===""){this.docentesFiltradosEdicion=[];return}if(e.trim()===""){this.docentesFiltradosEdicion=this.filtrarPlantelDocentes("",!0);return}this.docentesFiltradosEdicion=this.filtrarPlantelDocentes(e.toLowerCase().trim()),this.reposicionarOverlayDocentes()})}abrirOverlayDocentes(t){let e=t?.target??null;e&&(this.docenteOverlayAnchorEl=e,this.mostrarListaDocEdicion=!0,this.reposicionarOverlayDocentes())}reposicionarOverlayDocentes(){if(!this.mostrarListaDocEdicion||!this.docenteOverlayAnchorEl)return;let t=this.docenteOverlayAnchorEl.getBoundingClientRect();this.docenteOverlayTop=t.bottom+2,this.docenteOverlayLeft=t.left,this.docenteOverlayWidth=Math.max(240,t.width)}salirModoEdicionDocente(){this.edicionDocenteActivo=null,this.mostrarListaDocEdicion=!1,this.docentesFiltradosEdicion=[],this.docEdicionInput.setValue("",{emitEvent:!1}),this.docenteOverlayAnchorEl=null}onToggleEdicionDocentes(){if(!this.edicionDocentesActiva){this.edicionDocenteActivo=null,this.docEdicionInput.setValue("",{emitEvent:!1}),this.docentesFiltradosEdicion=[],this.mostrarListaDocEdicion=!1;return}if(!this.visionOpciones){this.edicionDocentesActiva=!1,this._tools.MostrarMensaje("info","La edici\xF3n solo est\xE1 disponible en modo privado");return}if(!this.habilitarCamposMusicales){this.edicionDocentesActiva=!1,this._tools.MostrarMensaje("info","Edici\xF3n disponible solo para instituciones musicales");return}}activarEdicionDocente(t,e,n){if(n&&(n.preventDefault?.(),n.stopPropagation?.()),!this.edicionDocentesActiva||!this.visionOpciones)return;let r=Number(t?.id??t?.info_id??0);if(!Number.isFinite(r)||r<=0){this._tools.MostrarMensaje("warning","No se pudo identificar la inscripci\xF3n (infoestudiantesifas.id)");return}this.edicionDocenteActivo={infoId:r,field:e},this.docEdicionInput.setValue("",{emitEvent:!1}),this.docentesFiltradosEdicion=[],this.mostrarListaDocEdicion=!0,this.recalcularConteoDocentes(e)}isCeldaDocenteActiva(t,e){let n=Number(t??0);return!!this.edicionDocenteActivo&&this.edicionDocenteActivo.infoId===n&&this.edicionDocenteActivo.field===e}docenteInactivo(t){return this.normalizarTexto(t?.Estado)==="INACTIVO"}getNombreCompletoDocente(t){let e=(t?.Nombres??"").toString().trim(),n=(t?.Apellidos??"").toString().trim();return`${e} ${n}`.trim()}filtrarPlantelDocentes(t,e=!1){let n=String(this.institucionId??"").trim(),r=(this.planteldocente||[]).filter(d=>!(this.normalizarTexto(d?.Visibilidad)==="OCULTO"||n&&String(d?.instituciones_id)!==n)).sort((d,u)=>this.getNombreCompletoDocente(d).localeCompare(this.getNombreCompletoDocente(u)));return e?r.slice(0,50):t?r.filter(d=>this.getNombreCompletoDocente(d).toLowerCase().includes(t)).slice(0,25):[]}recalcularConteoDocentes(t){let e={};(this.est||[]).forEach(n=>{let r=Number(n?.[t]??0);if(!r)return;let d=String(r);e[d]=(e[d]??0)+1}),this.conteoDocentesMap=e}getConteoDocente(t){let e=String(t??"");return Number(this.conteoDocentesMap?.[e]??0)||0}seleccionarDocenteEdicion(t){if(!t||this.docenteInactivo(t))return;if(!this.edicionDocentesActiva||!this.edicionDocenteActivo){this._tools.MostrarMensaje("warning","Seleccione una celda de docente");return}let e=Number(t?.id??0);if(!Number.isFinite(e)||e<=0)return;let n=this.edicionDocenteActivo.infoId,r=this.edicionDocenteActivo.field;this.guardarDocenteEnFila(n,r,e,t),this.salirModoEdicionDocente()}aplicarDocenteEnRowVisual(t,e,n){if(!t)return;t[e]=Number(n?.id??0)||"";let r=(n?.Apellidos??"").toString().trim(),d=(n?.Nombres??"").toString().trim(),u=(n?.CelularTrabajo??"").toString().trim();if(e==="planteldocadmins_id"){t.Docente_Especialidad_Apellidos=r||null,t.Docente_Especialidad_Nombres=d||null,t.Docente_Especialidad_CelularTrabajo=u||null;return}if(e==="planteldocadmins_idPC"){t.Docente_Practica_Conjuntos_Apellidos=r||null,t.Docente_Practica_Conjuntos_Nombres=d||null,t.Docente_Practica_Conjuntos_CelularTrabajo=u||null;return}t.Docente_Instrumento_Complementario_Apellidos=r||null,t.Docente_Instrumento_Complementario_Nombres=d||null,t.Docente_Instrumento_Complementario_CelularTrabajo=u||null}guardarDocenteEnFila(t,e,n,r,d=!1){let u=`${t}:${e}`;this.guardandoDocenteMap[u]=!0;let I={id:t};I[e]=n,this._infoest.Modificarinfoestudiantesifas(I,t,{force:d}).subscribe({next:()=>{let S=(this.est||[]).find(H=>Number(H?.id??0)===Number(t));S&&this.aplicarDocenteEnRowVisual(S,e,r),this.guardandoDocenteMap[u]=!1,this._tools.MostrarMensaje("success","Docente actualizado"),this.recalcularConteoDocentes(e)},error:S=>{let H=S?.status,_e=!!S?.error?.requires_confirmation,ge=S?.error?.anio;if(H===409&&_e){this._tools.mostrarMensajeConfirm("Inscripci\xF3n duplicada",`Ya existe una inscripci\xF3n del estudiante en esta instituci\xF3n para la gesti\xF3n ${ge??"actual"}. \xBFDesea guardar igualmente?`,"warning","S\xED, guardar","No, cancelar").then(tt=>{tt?this.guardarDocenteEnFila(t,e,n,r,!0):this.guardandoDocenteMap[u]=!1});return}console.error("Error al actualizar docente",S),this.guardandoDocenteMap[u]=!1,this._tools.MostrarMensaje("error","No se pudo actualizar el docente")}})}onInstrumentoChange(t,e,n,r){if(r&&(r.preventDefault?.(),r.stopPropagation?.()),!this.edicionDocentesActiva||!this.visionOpciones)return;let d=Number(t?.id??t?.info_id??0);if(!Number.isFinite(d)||d<=0){this._tools.MostrarMensaje("warning","No se pudo identificar la inscripci\xF3n (infoestudiantesifas.id)");return}let u=(n??"").toString(),I=(t?.[e]??"").toString();u!==I&&this.guardarInstrumentoEnFila(d,e,u)}guardarInstrumentoEnFila(t,e,n,r=!1){let d=`${t}:${e}`;this.guardandoInstrumentoMap[d]=!0;let u={id:t};u[e]=n,this._infoest.Modificarinfoestudiantesifas(u,t,{force:r}).subscribe({next:()=>{let I=(this.est||[]).find(S=>Number(S?.id??0)===Number(t));I&&(I[e]=n),this.guardandoInstrumentoMap[d]=!1,this._tools.MostrarMensaje("success","Instrumento actualizado")},error:I=>{let S=I?.status,H=!!I?.error?.requires_confirmation,_e=I?.error?.anio;if(S===409&&H){this._tools.mostrarMensajeConfirm("Inscripci\xF3n duplicada",`Ya existe una inscripci\xF3n del estudiante en esta instituci\xF3n para la gesti\xF3n ${_e??"actual"}. \xBFDesea guardar igualmente?`,"warning","S\xED, guardar","No, cancelar").then(ge=>{ge?this.guardarInstrumentoEnFila(t,e,n,!0):this.guardandoInstrumentoMap[d]=!1});return}console.error("Error al actualizar instrumento",I),this.guardandoInstrumentoMap[d]=!1,this._tools.MostrarMensaje("error","No se pudo actualizar el instrumento")}})}isGuardandoInstrumento(t,e){let n=`${Number(t??0)}:${e}`;return!!this.guardandoInstrumentoMap?.[n]}isGuardandoDocente(t,e){let n=`${Number(t??0)}:${e}`;return!!this.guardandoDocenteMap?.[n]}abrirDetalleDocente(t,e){if(e&&(e.preventDefault?.(),e.stopPropagation?.()),!t)return;this.salirModoEdicionDocente();let n=Number(t?.id??0);if(!n)return;let r=this.edicionDocenteActivo?.field??"planteldocadmins_id";this.detalleDocenteMeta={docente_id:n,docente_nombre:this.getNombreCompletoDocente(t),field:r},this.detalleDocenteRows=(this.est||[]).filter(d=>Number(d?.[r]??0)===n),this.modalDetalleDocenteRef=this._tools.openModal(this.modalDetalleDocente,"xl")}closeMenu(t){let e=t?.target;e?.closest?.(".docente-edicion-buscador")||e?.closest?.(".docente-edicion-overlay")||this.salirModoEdicionDocente()}onResize(){this.reposicionarOverlayDocentes()}onScroll(){this.reposicionarOverlayDocentes()}onKeydown(t){t?.key==="Escape"&&this.mostrarListaDocEdicion&&(t.preventDefault(),this.salirModoEdicionDocente())}cargarCaractisticasInstitucionActual(t){if(!t){this.habilitarCamposMusicales=!1;return}this._inst.Seleccionarinstituciones(t).subscribe({next:e=>{console.log("ins",e);var r=(e?.data?.Caractisticas??"").toString();this.habilitarCamposMusicales=this.normalizarTexto(r).includes("INSTITUTO MUSICAL"),this.habilitarCamposMusicales&&this.cargarOptionsInstrumentosDesdeControles()},error:()=>{this.habilitarCamposMusicales=!1}})}cargarOptionsInstrumentosDesdeControles(){if(this.instrumentosOptionsCargando||this.instrumentosOptionsCargadas)return;this.instrumentosOptionsCargando=!0;let t=["ESPECIALIDAD","ESPECIALIDAD SECUNDARIA"];this._controles.ObtenerOptionsSelectPorCategorias(t).subscribe({next:e=>{this.InstrumentoMusicalOptions=e?.ESPECIALIDAD||[],this.InstrumentoMusicalSecundarioOptions=e?.["ESPECIALIDAD SECUNDARIA"]||[],this.instrumentosOptionsCargando=!1,this.instrumentosOptionsCargadas=!0},error:()=>{this.InstrumentoMusicalOptions=[],this.InstrumentoMusicalSecundarioOptions=[],this.instrumentosOptionsCargando=!1,this.instrumentosOptionsCargadas=!1}})}normalizarTexto(t){return(t??"").toString().trim().toUpperCase()}AnimarCargaTablaest(){this.est=[],this.isLoadingest=!0}onPageSizeChangeest(){this.paginaest=1}sortByest(t,e){this.sortColumnsest=this._tools.handleSort(t,e,this.sortColumnsest),this.est=this._tools.applyMultiSort(this.est,this.sortColumnsest)}isSortedest(t){return this._tools.isSorted(this.sortColumnsest,t)}getSortDirest(t){return this._tools.getSortDirection(this.sortColumnsest,t)}CargarEstudiantesMateriaPublico(){this.isLoadingest=!0;let t={materiaId:this.materiaId,anioId:this.anioId};this._public.CargarEstudiantesMateriaPublico(t).subscribe({next:e=>{this.est=e.data||[],this.collectionSizeest=this.est.length,this.isLoadingest=!1,this.recalcularConteoDocentes(this.edicionDocenteActivo?.field??"planteldocadmins_id"),console.log("estudiantes publicos",this.est)},error:e=>{console.error("Error al cargar",e),this.isLoadingest=!1}})}CargarEstudiantesMezcladosMateriasPublico(){this.isLoadingest=!0;let t={anioId:this.anioId,LvlCurso:this.lvlCurso,Paralelo:this.paralelo,institucionId:this.institucionId};this._public.CargarEstudiantesMezcladosMateriasPublico(t).subscribe({next:e=>{this.est=e.data||[],this.collectionSizeest=this.est.length,this.isLoadingest=!1,this.recalcularConteoDocentes(this.edicionDocenteActivo?.field??"planteldocadmins_id"),console.log("estudiantes publicos",this.est)},error:e=>{console.error("Error al cargar",e),this.isLoadingest=!1}})}CargarEstudiantesMateriaPrivado(){this.isLoadingest=!0;let t={materiaId:this.materiaId,anioId:this.anioId};this._public.CargarEstudiantesMateriaPrivado(t).subscribe({next:e=>{this.est=e.data||[],this.collectionSizeest=this.est.length,this.isLoadingest=!1,this.recalcularConteoDocentes(this.edicionDocenteActivo?.field??"planteldocadmins_id"),console.log("estudiantes Privados",this.est)},error:e=>{console.error("Error al cargar",e),this.isLoadingest=!1}})}CargarEstudiantesMezcladosMateriasPrivado(){this.isLoadingest=!0;let t={anioId:this.anioId,LvlCurso:this.lvlCurso,Paralelo:this.paralelo,institucionId:this.institucionId};this._public.CargarEstudiantesMezcladosMateriasPrivado(t).subscribe({next:e=>{this.est=e.data||[],this.collectionSizeest=this.est.length,this.isLoadingest=!1,this.recalcularConteoDocentes(this.edicionDocenteActivo?.field??"planteldocadmins_id"),console.log("estudiantes Privados",this.est)},error:e=>{console.error("Error al cargar",e),this.isLoadingest=!1}})}CargarPlantelDocente(){this._planteldoc.Obtenerplanteldocentes().subscribe({next:t=>{console.log("plateldoc",t),this.planteldocente=t.data??[]},error:t=>{console.error("Error al cargar",t)}})}GenerarQRDocente(t,e){console.log(t+" "+e),this._reportes.GeneradorQRDinamico("QR DEL NUMERO DE CELULAR DE "+t,"Numero de Celular de Trabajo: "+e,e)}GenerarReporteListaEstudiantes(){this._reportes.GenerarListaAlumnos2026(this.est,this.anioId,this.lvlCurso,this.paralelo,this.institucionId,this.modo,this.materiaId,this.reportarconInstrumentos,this.reportarcondocentesEspecialidad)}AccionCopiarNombres(){var t="";this.est.forEach(e=>{var n=e.Ap_Paterno+" "+e.Ap_Materno+" "+e.Nombre;t=t+n+`
`}),this.copyText(t),this.copiadoNombres=!0,setTimeout(()=>{this.copiadoNombres=!1},1500)}AccionCopiarEspecialidades(){var t="";this.est.forEach(e=>{var n=e.Especialidad;t=t+n+`
`}),this.copyText(t),this.copiadoEspecialidades=!0,setTimeout(()=>{this.copiadoEspecialidades=!1},1500)}AccionCopiarSexos(){var t="";this.est.forEach(e=>{var n=e.Sexo;t=t+n+`
`}),this.copyText(t),this.copiadoSexos=!0,setTimeout(()=>{this.copiadoSexos=!1},1500)}AccionCopiarTodos(){var t="";this.est.forEach(e=>{var n=e.CI,r=e.Especialidad,d=e.Sexo,u=e.Ap_Paterno+" "+e.Ap_Materno+" "+e.Nombre;d=="FEMENINO"?t=t+u+"	"+n+"	"+r+`		X
`:t=t+u+"	"+n+"	"+r+`	X	
`}),this.copyText(t),this.copiadoTodos=!0,setTimeout(()=>{this.copiadoTodos=!1},1500)}AccionCopiarCarnets(){var t="";this.est.forEach(e=>{var n=e.CI;t=t+n+`
`}),this.copyText(t),this.copiadoCarnets=!0,setTimeout(()=>{this.copiadoCarnets=!1},1500)}copyText(t){let e=document.createElement("textarea");e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.opacity="0",e.value=t,document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e),this.copy=!0,setTimeout(()=>{this.copy=!1},2e3)}};z.\u0275fac=function(e){return new(e||z)(b(Ze),b(ce),b(se),b(Je),b(de),b(le),b(ae),b(Xe),b(We))},z.\u0275cmp=q({type:z,selectors:[["app-paralelos"]],viewQuery:function(e,n){if(e&1&&ye(Qt,7),e&2){let r;Me(r=De())&&(n.modalDetalleDocente=r.first)}},hostBindings:function(e,n){e&1&&f("click",function(d){return n.closeMenu(d)},he)("resize",function(){return n.onResize()},fe)("scroll",function(){return n.onScroll()},fe)("keydown",function(d){return n.onKeydown(d)},he)},standalone:!1,decls:56,vars:25,consts:[["modalDetalleDocente",""],["editDocAdmin",""],["editDocPC",""],["editDocOtros",""],["editInstrumentoMusical",""],["editInstrumentoMusicalSec",""],[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","text-secondary","subtitulosGlobales"],[1,"fw-bold",2,"color","blue"],[2,"color","brown"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"w-100"],[1,"input-group"],[1,"input-group-text"],["width","30px","height","30px",3,"options"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"ngModelChange","ngModel"],["class","form-check mt-2",4,"ngIf"],["class","btn btn-secondary",3,"click",4,"ngIf"],["class","form-check form-check-inline text-dark fw-bold",4,"ngIf"],[1,"mt-4"],[1,"table-responsive"],[1,"table","table-striped","table-hover","table-sm","align-middle"],[1,""],[1,"text-center"],[2,"user-select","none","-webkit-user-select","none","-moz-user-select","none",3,"click"],["class","bi",3,"ngClass",4,"ngIf"],["title","Docente de Especialidad","style","user-select: none; -webkit-user-select: none; -moz-user-select: none;",3,"click",4,"ngIf"],["title","Docente de Pr\xE1ctica de Conjuntos","style","user-select: none; -webkit-user-select: none; -moz-user-select: none;",3,"click",4,"ngIf"],["title","Docente de Instrumento Complementario","style","user-select: none; -webkit-user-select: none; -moz-user-select: none;",3,"click",4,"ngIf"],["style","user-select: none; -webkit-user-select: none; -moz-user-select: none;",3,"click",4,"ngIf"],["title","Instrumento Complementario","style","user-select: none; -webkit-user-select: none; -moz-user-select: none;",3,"click",4,"ngIf"],["class","text-center",4,"ngIf"],[4,"ngIf"],["style","cursor: pointer;",3,"contextmenu",4,"ngFor","ngForOf"],["class","docente-edicion-overlay list-group",3,"top","left","width",4,"ngIf"],[1,"form-check","mt-2"],["type","checkbox","id","chkEdicionDocentes",1,"form-check-input",3,"ngModelChange","change","ngModel"],["for","chkEdicionDocentes",1,"form-check-label","fw-semibold","text-dark"],[1,"btn","btn-secondary",3,"click"],[1,"form-check","form-check-inline","text-dark","fw-bold"],["type","checkbox","id","reportarconInstrumentosxd",1,"form-check-input",3,"ngModelChange","ngModel"],["for","reportarconInstrumentosxd",1,"form-check-label"],["type","checkbox","id","reportarcondocentesEspecialidadxd",1,"form-check-input",3,"ngModelChange","ngModel"],["for","reportarcondocentesEspecialidadxd",1,"form-check-label"],[1,"bi",3,"ngClass"],["title","Docente de Especialidad",2,"user-select","none","-webkit-user-select","none","-moz-user-select","none",3,"click"],["title","Docente de Pr\xE1ctica de Conjuntos",2,"user-select","none","-webkit-user-select","none","-moz-user-select","none",3,"click"],["title","Docente de Instrumento Complementario",2,"user-select","none","-webkit-user-select","none","-moz-user-select","none",3,"click"],["title","Instrumento Complementario",2,"user-select","none","-webkit-user-select","none","-moz-user-select","none",3,"click"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[2,"cursor","pointer",3,"contextmenu"],["class","small text-muted",4,"ngIf"],["class","small text-muted","title","Cantidad de asignaciones",4,"ngIf"],["class","docente-cell","style","min-width: 240px;",3,"click",4,"ngIf"],["style","min-width: 210px;",4,"ngIf"],[1,"small","text-muted"],["title","Cantidad de asignaciones",1,"small","text-muted"],[1,"docente-cell",2,"min-width","240px",3,"click"],[4,"ngIf","ngIfElse"],["target","_blank","title","CONTACTARSE",1,"btn","btn-success","text-light",3,"href"],["target","_blank","title","CONTACTARSE",1,"btn","btn-success","text-light",3,"click","href"],[1,"bi","bi-whatsapp"],[1,"docente-edicion-buscador","position-relative"],["type","text","placeholder","Buscar docente...",1,"form-control","form-control-sm",3,"focus","click","keydown.escape","formControl"],["class","small text-muted mt-1",4,"ngIf"],[1,"small","text-muted","mt-1"],[2,"min-width","210px"],[1,"form-select","form-select-sm",3,"click","ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue","disabled",4,"ngFor","ngForOf"],[3,"ngValue","disabled"],[1,"modal-header"],[1,"modal-title"],[1,"text-muted","small"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[1,"table-responsive",2,"max-height","65vh"],[1,"table","table-sm","table-striped","align-middle"],[1,"text-center",2,"width","40px"],[1,"text-center",2,"width","120px"],[1,"text-center",2,"width","70px"],[1,"text-center",2,"width","90px"],[1,"text-center",2,"width","110px"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"docente-edicion-overlay","list-group"],["class","list-group-item text-muted",4,"ngIf"],["class","list-group-item list-group-item-action d-flex justify-content-between align-items-center",3,"disabled","click",4,"ngFor","ngForOf"],[1,"list-group-item","text-muted"],[1,"list-group-item","list-group-item-action","d-flex","justify-content-between","align-items-center",3,"click"],[1,"me-2"],[1,"fw-semibold"],[1,"text-muted"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"]],template:function(e,n){if(e&1){let r=v();a(0,"div",6)(1,"div",7)(2,"div",8)(3,"h1",9),s(4,"Lista de Estudiantes "),o(),a(5,"p",10)(6,"span",11),s(7),o(),s(8),a(9,"span",12),s(10),o()()()()(),a(11,"div",7)(12,"div",13)(13,"div",14)(14,"div",15)(15,"span",16),C(16,"ng-lottie",17),o(),a(17,"div",18)(18,"input",19),T("ngModelChange",function(u){return _(r),P(n.filtertxtest,u)||(n.filtertxtest=u),g(u)}),o(),a(19,"label"),s(20,"Buscar"),o()()(),p(21,Yt,4,1,"div",20),o()()(),p(22,Kt,2,0,"button",21)(23,Zt,4,1,"div",22)(24,Jt,4,1,"div",22),a(25,"div",23)(26,"div",24)(27,"table",25)(28,"thead",26)(29,"tr")(30,"th",27),s(31,"#"),o(),a(32,"th",28),f("click",function(u){return _(r),g(n.sortByest("Ap_Paterno",u))}),s(33," Ap_Paterno "),p(34,Xt,1,4,"i",29),o(),a(35,"th",28),f("click",function(u){return _(r),g(n.sortByest("Ap_Materno",u))}),s(36," Ap_Materno "),p(37,ei,1,4,"i",29),o(),a(38,"th",28),f("click",function(u){return _(r),g(n.sortByest("Nombre",u))}),s(39," Nombre "),p(40,ti,1,4,"i",29),o(),p(41,ni,3,1,"th",30)(42,ri,3,1,"th",31)(43,li,3,1,"th",32)(44,ci,3,1,"th",33)(45,mi,3,1,"th",34)(46,pi,2,0,"th",35)(47,ui,2,0,"th",35)(48,_i,2,0,"th",35),o()(),a(49,"tbody"),p(50,gi,5,1,"tr",36)(51,fi,3,1,"tr",36)(52,on,22,17,"tr",37),o()()()(),p(53,an,35,2,"ng-template",null,0,R)(55,cn,3,8,"div",38)}e&2&&(l(7),M("",n.lvlCurso," ",n.paralelo),l(),x(" Turno ",n.turno," "),l(2),h(n.siglaYMateria),l(6),m("options",n._tools.optionslupa),l(2),D("ngModel",n.filtertxtest),l(3),m("ngIf",n.visionOpciones&&n.habilitarCamposMusicales),l(),m("ngIf",n.visionOpciones),l(),m("ngIf",n.habilitarCamposMusicales),l(),m("ngIf",n.habilitarCamposMusicales),l(10),m("ngIf",n.isSortedest("Ap_Paterno")),l(3),m("ngIf",n.isSortedest("Ap_Materno")),l(3),m("ngIf",n.isSortedest("Nombre")),l(),m("ngIf",n.habilitarCamposMusicales),l(),m("ngIf",n.habilitarCamposMusicales),l(),m("ngIf",n.habilitarCamposMusicales),l(),m("ngIf",n.habilitarCamposMusicales),l(),m("ngIf",n.habilitarCamposMusicales),l(),m("ngIf",n.verdetallado),l(),m("ngIf",n.verdetallado),l(),m("ngIf",n.verdetallado),l(2),m("ngIf",n.isLoadingest),l(),m("ngIf",!n.isLoadingest&&(!n.est||n.est.length===0)),l(),m("ngForOf",n.est),l(3),m("ngIf",n.mostrarListaDocEdicion))},dependencies:[Ae,Z,J,oe,re,ee,Ne,ne,te,ie,Ve,Ue],styles:["[_nghost-%COMP%]     .docente-edicion-overlay{position:fixed;z-index:1200;max-height:280px;overflow:auto;box-shadow:0 6px 18px #0000001f;border-radius:.5rem;background:#fff}[_nghost-%COMP%]     .docente-edicion-buscador .list-group-item.disabled{pointer-events:none;opacity:.6}[_nghost-%COMP%]     td.docente-cell{position:relative;overflow:visible}"]});var pe=z;var dn=[{path:"inicio",component:Qe},{path:"horarios",component:me},{path:"paralelos",component:pe},{path:"planteldocentes",loadComponent:()=>import("./chunk-B7GVYCQY.js").then(i=>i.Planteldocentes)},{path:"planteladministrativos",loadComponent:()=>import("./chunk-VCNXVDHE.js").then(i=>i.Planteladministrativos)},{path:"eventos",loadComponent:()=>import("./chunk-KNK3P7TE.js").then(i=>i.EventosPublicosComponent)},{path:"eventos/:id",loadComponent:()=>import("./chunk-PLR37OTH.js").then(i=>i.EventoInscripcionComponent)}],L=class L{};L.\u0275fac=function(e){return new(e||L)},L.\u0275mod=Q({type:L}),L.\u0275inj=W({imports:[B.forChild(dn),B]});var ue=L;var j=class j{};j.\u0275fac=function(e){return new(e||j)},j.\u0275mod=Q({type:j}),j.\u0275inj=W({imports:[Oe,Le,je,ue,qe,$e,Be,ze,B,Ye,Ke]});var et=j;export{et as PublicosModule};
