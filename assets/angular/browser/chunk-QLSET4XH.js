import{a as Z,b as He,c as ft}from"./chunk-AG6534XP.js";import{a as Ee}from"./chunk-RGKKIZGC.js";import{a as _t}from"./chunk-ZDMVUCZQ.js";import{a as Se}from"./chunk-ZSNHXLZQ.js";import{a as W}from"./chunk-2THCIOO7.js";import{b as J}from"./chunk-MJQY6A63.js";import{a as gt}from"./chunk-OOC77CZV.js";import{b as U}from"./chunk-54WVOQJ7.js";import{h as ve}from"./chunk-M3KGNDQ5.js";import{b as fe,c as D,d as q,e as Ce,f as $e,g as A,h as K,i as xe,j as ze,k as ut,l as he,m as be,n as Q,o as Y,p as X}from"./chunk-NILQYPGY.js";import{a as Be}from"./chunk-OQPWVW4O.js";import{$a as re,Ab as pe,Bb as L,C as ie,Ha as l,Ia as n,Ja as r,Ka as C,O as De,Oa as Xe,P as Re,Pa as Je,Pb as $,R as Ne,Ra as h,Rb as z,Sb as H,Tb as ue,U as u,Ua as g,V as _,Vb as _e,Wa as m,Yb as ge,Zb as pt,_a as ne,a as ct,ab as oe,ac as je,b as dt,db as ke,dc as Ge,fb as Le,g as Ye,ga as F,ha as me,ia as s,ib as c,jb as x,kb as w,lb as Ze,mb as mt,nc as tt,o as ee,ob as E,pa as S,pb as y,q as te,qb as M,ra as B,sa as Fe,t as Pe,ub as et,vb as v,wa as f,xb as V,yb as T,za as k}from"./chunk-TNNFIFGQ.js";var Et=["modalgestioncarreras"],j=(o,i)=>({"bi-caret-up":o,"bi-caret-down":i}),yt=(o,i)=>({top:o,left:i});function Mt(o,i){if(o&1&&C(0,"i",32),o&2){let e=m(2);l("ngClass",v(1,j,e.getSortDircarreras("NombreInstitucion")==="asc",e.getSortDircarreras("NombreInstitucion")==="desc"))}}function wt(o,i){if(o&1){let e=h();n(0,"th",23),g("click",function(a){u(e);let d=m();return _(d.sortBycarreras("NombreInstitucion",a))}),c(1," Instituci\xF3n "),f(2,Mt,1,4,"i",24),r()}if(o&2){let e=m();s(2),l("ngIf",e.isSortedcarreras("NombreInstitucion"))}}function At(o,i){if(o&1&&C(0,"i",32),o&2){let e=m();l("ngClass",v(1,j,e.getSortDircarreras("NombreCarrera")==="asc",e.getSortDircarreras("NombreCarrera")==="desc"))}}function It(o,i){if(o&1&&C(0,"i",32),o&2){let e=m();l("ngClass",v(1,j,e.getSortDircarreras("Area")==="asc",e.getSortDircarreras("Area")==="desc"))}}function Vt(o,i){if(o&1&&C(0,"i",32),o&2){let e=m();l("ngClass",v(1,j,e.getSortDircarreras("Mencion")==="asc",e.getSortDircarreras("Mencion")==="desc"))}}function Tt(o,i){if(o&1&&C(0,"i",32),o&2){let e=m();l("ngClass",v(1,j,e.getSortDircarreras("Resolucion")==="asc",e.getSortDircarreras("Resolucion")==="desc"))}}function Ot(o,i){if(o&1&&C(0,"i",32),o&2){let e=m();l("ngClass",v(1,j,e.getSortDircarreras("Nivel")==="asc",e.getSortDircarreras("Nivel")==="desc"))}}function Pt(o,i){if(o&1&&C(0,"i",32),o&2){let e=m();l("ngClass",v(1,j,e.getSortDircarreras("HorasTotales")==="asc",e.getSortDircarreras("HorasTotales")==="desc"))}}function Dt(o,i){if(o&1&&C(0,"i",32),o&2){let e=m();l("ngClass",v(1,j,e.getSortDircarreras("Visibilidad")==="asc",e.getSortDircarreras("Visibilidad")==="desc"))}}function Rt(o,i){if(o&1&&C(0,"i",32),o&2){let e=m();l("ngClass",v(1,j,e.getSortDircarreras("Estado")==="asc",e.getSortDircarreras("Estado")==="desc"))}}function Nt(o,i){if(o&1&&(n(0,"tr")(1,"td",21)(2,"div",33)(3,"span",34),c(4,"Cargando..."),r()()()()),o&2){let e=m();s(),k("colspan",e.esSuperAdmin?11:10)}}function Ft(o,i){if(o&1&&(n(0,"tr")(1,"td",21),c(2,"No hay datos disponibles"),r()()),o&2){let e=m();s(),k("colspan",e.esSuperAdmin?11:10)}}function kt(o,i){if(o&1&&(n(0,"td"),c(1),r()),o&2){let e=m().$implicit;s(),x(e.NombreInstitucion)}}function Lt(o,i){if(o&1&&C(0,"img",41),o&2){let e=m(2);l("src",e._tools.rutabtniconsanimaciones+"pencil.svg",F)}}function jt(o,i){if(o&1&&C(0,"ng-lottie",42),o&2){let e=m(2);l("options",e._tools.optionsEditar)}}function Gt(o,i){if(o&1&&C(0,"img",41),o&2){let e=m(2);l("src",e._tools.rutabtniconsanimaciones+"delete.svg",F)}}function Bt(o,i){if(o&1&&C(0,"ng-lottie",42),o&2){let e=m(2);l("options",e._tools.optionsEliminar)}}function $t(o,i){if(o&1){let e=h();n(0,"tr",35),g("contextmenu",function(a){let d=u(e).$implicit,p=m();return _(p.abrirMenucarreras(a,d))}),n(1,"td",21),c(2),r(),f(3,kt,2,1,"td",25),n(4,"td"),c(5),r(),n(6,"td"),c(7),r(),n(8,"td"),c(9),r(),n(10,"td"),c(11),r(),n(12,"td"),c(13),r(),n(14,"td"),c(15),r(),n(16,"td"),c(17),r(),n(18,"td"),c(19),r(),n(20,"td",36)(21,"button",37),g("click",function(){let a=u(e).$implicit,d=m();return _(d.Seleccionarcarreras(a.id))})("mouseenter",function(){let a=u(e).$implicit,d=m();return _(d._tools.hoverBotonMap["edicioncarreras-"+a.id]=!0)})("mouseleave",function(){let a=u(e).$implicit,d=m();return _(d._tools.hoverBotonMap["edicioncarreras-"+a.id]=!1)}),f(22,Lt,1,1,"img",38)(23,jt,1,1,"ng-lottie",39),r(),n(24,"button",40),g("click",function(){let a=u(e).$implicit,d=m();return _(d.Eliminarcarreras(a.id))})("mouseenter",function(){let a=u(e).$implicit,d=m();return _(d._tools.hoverBotonMap["eliminacioncarreras-"+a.id]=!0)})("mouseleave",function(){let a=u(e).$implicit,d=m();return _(d._tools.hoverBotonMap["eliminacioncarreras-"+a.id]=!1)}),f(25,Gt,1,1,"img",38)(26,Bt,1,1,"ng-lottie",39),r()()()}if(o&2){let e=i.index,t=i.$implicit,a=m();s(2),x((a.paginacarreras-1)*a.pageSizecarreras+(e+1)),s(),l("ngIf",a.esSuperAdmin),s(2),x(t.NombreCarrera),s(2),x(t.Area),s(2),x(t.Mencion),s(2),x(t.Resolucion),s(2),x(t.Nivel),s(2),x(t.HorasTotales),s(2),x(t.Visibilidad),s(2),x(t.Estado),s(3),l("ngIf",!a._tools.hoverBotonMap["edicioncarreras-"+t.id]),s(),l("ngIf",a._tools.hoverBotonMap["edicioncarreras-"+t.id]),s(2),l("ngIf",!a._tools.hoverBotonMap["eliminacioncarreras-"+t.id]),s(),l("ngIf",a._tools.hoverBotonMap["eliminacioncarreras-"+t.id])}}function zt(o,i){if(o&1&&(n(0,"option",43),c(1),r()),o&2){let e=i.$implicit;l("value",e),s(),w("",e," por p\xE1gina")}}function Ht(o,i){if(o&1&&(n(0,"option",43),c(1),r()),o&2){let e=i.$implicit;l("value",e.id),s(),x(e.Nombre)}}function Wt(o,i){if(o&1&&(n(0,"div",75)(1,"select",84),f(2,Ht,2,2,"option",30),r(),n(3,"label"),c(4,"Instituci\xF3n"),r(),n(5,"div",52),c(6,"Este campo es obligatorio*"),r()()),o&2){let e=m(2);s(),l("ngClass",e.ValidacioncarrerasxElemento("instituciones_id")),s(),l("ngForOf",e.instituciones)}}function Ut(o,i){if(o&1&&(n(0,"option",85),c(1),r()),o&2){let e=i.$implicit;l("value",e.value)("disabled",e.disabled),s(),x(e.label)}}function qt(o,i){if(o&1&&(n(0,"option",85),c(1),r()),o&2){let e=i.$implicit;l("value",e.value)("disabled",e.disabled),s(),x(e.label)}}function Kt(o,i){if(o&1&&(n(0,"option",85),c(1),r()),o&2){let e=i.$implicit;l("value",e.value)("disabled",e.disabled),s(),x(e.label)}}function Qt(o,i){if(o&1&&(n(0,"option",85),c(1),r()),o&2){let e=i.$implicit;l("value",e.value)("disabled",e.disabled),s(),x(e.label)}}function Yt(o,i){if(o&1&&(n(0,"option",85),c(1),r()),o&2){let e=i.$implicit;l("value",e.value)("disabled",e.disabled),s(),x(e.label)}}function Xt(o,i){if(o&1){let e=h();n(0,"button",88),g("click",function(){u(e);let a=m(3);return _(a.AutoCompletarLastcarreras())}),n(1,"span",8),C(2,"ng-lottie",9),r(),n(3,"span"),c(4,"AUTO COMPLETAR "),r(),C(5,"span",10),r()}if(o&2){let e=m(3);s(2),l("options",e._tools.optionsautocompletar)}}function Jt(o,i){if(o&1&&(n(0,"div",86),f(1,Xt,6,1,"button",87),r()),o&2){let e=m(2);s(),l("ngIf",!e.AnimacionCargabtnModalcarreras)}}function Zt(o,i){if(o&1){let e=h();n(0,"button",89),g("click",function(){u(e);let a=m().$implicit,d=m();return a.dismiss(),_(d.resetcarreras())}),n(1,"span",8),C(2,"ng-lottie",9),r(),n(3,"span"),c(4,"CANCELAR"),r(),C(5,"span",10),r()}if(o&2){let e=m(2);s(2),l("options",e._tools.optionscancelar)}}function ei(o,i){if(o&1){let e=h();n(0,"button",90),g("click",function(){u(e);let a=m(2);return _(a.AgregarModificarcarreras())}),C(1,"span",91),r()}o&2&&l("disabled",!0)}function ti(o,i){if(o&1){let e=h();n(0,"button",92),g("click",function(){u(e);let a=m(2);return _(a.AgregarModificarcarreras())}),n(1,"span",8),C(2,"ng-lottie",9),r(),n(3,"span"),c(4),r(),C(5,"span",10),r()}if(o&2){let e,t,a=m(2);s(2),l("options",(e=a.newcarreras.get("id"))!=null&&e.value?a._tools.optionsEditar:a._tools.optionsAdicionar),s(2),x((t=a.newcarreras.get("id"))!=null&&t.value?"MODIFICAR":"REGISTRAR")}}function ii(o,i){if(o&1){let e=h();n(0,"div",44)(1,"h4",45),c(2),r(),n(3,"button",46),g("click",function(){let a=u(e).$implicit,d=m();return a.dismiss(),_(d.resetcarreras())}),r()(),n(4,"div",47)(5,"form",48),f(6,Wt,7,2,"div",49),n(7,"div",2)(8,"div",50)(9,"input",51),g("change",function(a){u(e);let d=m();return _(d._tools.EscribirEnMayuscula(a,d.newcarreras,"Area"))}),r(),n(10,"label"),c(11,"Area"),r(),n(12,"div",52),c(13,"Este campo es obligatorio*"),r()(),n(14,"div",50)(15,"input",53),g("change",function(a){u(e);let d=m();return _(d._tools.EscribirEnMayuscula(a,d.newcarreras,"Mencion"))}),r(),n(16,"label"),c(17,"Mencion"),r(),n(18,"div",52),c(19,"Este campo es obligatorio*"),r()(),n(20,"div",50)(21,"input",54),g("change",function(a){u(e);let d=m();return _(d._tools.EscribirEnMayuscula(a,d.newcarreras,"Resolucion"))}),r(),n(22,"label"),c(23,"Resolucion"),r(),n(24,"div",52),c(25,"Este campo es obligatorio*"),r()(),n(26,"div",50)(27,"input",55),g("change",function(a){u(e);let d=m();return _(d._tools.EscribirEnMayuscula(a,d.newcarreras,"NombreCarrera"))}),r(),n(28,"label"),c(29,"Nombre de Carrera"),r(),n(30,"div",52),c(31,"Este campo es obligatorio*"),r()()(),n(32,"div",2)(33,"div",56)(34,"input",57),g("change",function(a){u(e);let d=m();return _(d._tools.EscribirEnMayuscula(a,d.newcarreras,"HorasTotales"))}),r(),n(35,"label"),c(36,"Horas Totales"),r(),n(37,"div",52),c(38,"Este campo es obligatorio*"),r()(),n(39,"div",56)(40,"select",58)(41,"option",59),c(42,"Seleccione una opci\xF3n"),r(),f(43,Ut,2,3,"option",60),r(),n(44,"label"),c(45,"Nivel"),r(),n(46,"div",52),c(47,"Este campo es obligatorio*"),r()(),n(48,"div",56),C(49,"input",61),n(50,"label"),c(51,"Cantidad Evaluaciones"),r(),n(52,"div",52),c(53,"Este campo es obligatorio*"),r()()(),n(54,"div",2)(55,"div",50),C(56,"input",62),n(57,"label"),c(58,"Limite M\xE1ximo Te\xF3rico"),r(),n(59,"div",52),c(60,"Este campo es obligatorio*"),r()(),n(61,"div",50),C(62,"input",63),n(63,"label"),c(64,"Limite M\xE1ximo Pr\xE1ctico"),r(),n(65,"div",52),c(66,"Este campo es obligatorio*"),r()(),n(67,"div",50),C(68,"input",64),n(69,"label"),c(70,"Nota M\xEDnima Aprobaci\xF3n"),r(),n(71,"div",52),c(72,"Este campo es obligatorio*"),r()(),n(73,"div",50),C(74,"input",65),n(75,"label"),c(76,"Nota M\xEDnima 2da Instancia"),r(),n(77,"div",52),c(78,"Este campo es obligatorio*"),r()()(),n(79,"div",2)(80,"div",56)(81,"input",66),g("change",function(a){u(e);let d=m();return _(d._tools.EscribirEnMayuscula(a,d.newcarreras,"TituloOficial"))}),r(),n(82,"label"),c(83,"Titulo Oficial"),r(),n(84,"div",52),c(85,"Este campo es obligatorio*"),r()(),n(86,"div",56)(87,"select",67)(88,"option",59),c(89,"Seleccione una opci\xF3n"),r(),f(90,qt,2,3,"option",60),r(),n(91,"label"),c(92,"Programa"),r(),n(93,"div",52),c(94,"Este campo es obligatorio*"),r()(),n(95,"div",56)(96,"input",68),g("change",function(a){u(e);let d=m();return _(d._tools.EscribirEnMayuscula(a,d.newcarreras,"Duracion"))}),r(),n(97,"label"),c(98,"Duracion"),r(),n(99,"div",52),c(100,"Este campo es obligatorio*"),r()()(),n(101,"div",2)(102,"div",69)(103,"input",70),g("change",function(a){u(e);let d=m();return _(d._tools.EscribirEnMayuscula(a,d.newcarreras,"Capacitacion"))}),r(),n(104,"label"),c(105,"Capacitaci\xF3n"),r(),n(106,"div",52),c(107,"Este campo es obligatorio*"),r()(),n(108,"div",69)(109,"input",71),g("change",function(a){u(e);let d=m();return _(d._tools.EscribirEnMayuscula(a,d.newcarreras,"CarreraProfesional"))}),r(),n(110,"label"),c(111,"Carrera Profesional"),r(),n(112,"div",52),c(113,"Este campo es obligatorio*"),r()()(),n(114,"div",2)(115,"div",56)(116,"select",72)(117,"option",59),c(118,"Seleccione una opci\xF3n"),r(),f(119,Kt,2,3,"option",60),r(),n(120,"label"),c(121,"Modalidad"),r(),n(122,"div",52),c(123,"Este campo es obligatorio*"),r()(),n(124,"div",56)(125,"select",73)(126,"option",59),c(127,"Seleccione una opci\xF3n"),r(),f(128,Qt,2,3,"option",60),r(),n(129,"label"),c(130,"Visibilidad"),r(),n(131,"div",52),c(132,"Este campo es obligatorio*"),r()(),n(133,"div",56)(134,"select",74)(135,"option",59),c(136,"Seleccione una opci\xF3n"),r(),f(137,Yt,2,3,"option",60),r(),n(138,"label"),c(139,"Estado"),r(),n(140,"div",52),c(141,"Este campo es obligatorio*"),r()(),n(142,"div",75)(143,"textarea",76),g("change",function(a){u(e);let d=m();return _(d._tools.EscribirEnMayuscula(a,d.newcarreras,"Descripcion"))}),r(),n(144,"label"),c(145,"Descripci\xF3n"),r(),n(146,"div",52),c(147,"Este campo es obligatorio*"),r()()()()(),n(148,"div",77),f(149,Jt,2,1,"div",78),n(150,"div",79),f(151,Zt,6,1,"button",80),r(),n(152,"div",81),f(153,ei,2,1,"button",82)(154,ti,6,2,"button",83),r()()}if(o&2){let e,t=m();s(2),w("",(e=t.newcarreras.get("id"))!=null&&e.value?"Modificar":"Registrar"," carreras"),s(3),l("formGroup",t.newcarreras),s(),l("ngIf",t.esSuperAdmin),s(3),l("ngClass",t.ValidacioncarrerasxElemento("Area")),s(6),l("ngClass",t.ValidacioncarrerasxElemento("Mencion")),s(6),l("ngClass",t.ValidacioncarrerasxElemento("Resolucion")),s(6),l("ngClass",t.ValidacioncarrerasxElemento("NombreCarrera")),s(7),l("ngClass",t.ValidacioncarrerasxElemento("HorasTotales")),s(6),l("ngClass",t.ValidacioncarrerasxElemento("Nivel")),s(3),l("ngForOf",t.nivelcarreraOptions),s(6),l("ngClass",t.ValidacioncarrerasxElemento("CantidadEvaluaciones")),s(7),l("ngClass",t.ValidacioncarrerasxElemento("LimiteMaxTeorico")),s(6),l("ngClass",t.ValidacioncarrerasxElemento("LimiteMaxPractico")),s(6),l("ngClass",t.ValidacioncarrerasxElemento("NotaAprobacion")),s(6),l("ngClass",t.ValidacioncarrerasxElemento("NotaMinRevalida")),s(7),l("ngClass",t.ValidacioncarrerasxElemento("TituloOficial")),s(6),l("ngClass",t.ValidacioncarrerasxElemento("Programa")),s(3),l("ngForOf",t.programaOptions),s(6),l("ngClass",t.ValidacioncarrerasxElemento("Duracion")),s(7),l("ngClass",t.ValidacioncarrerasxElemento("Capacitacion")),s(6),l("ngClass",t.ValidacioncarrerasxElemento("CarreraProfesional")),s(7),l("ngClass",t.ValidacioncarrerasxElemento("Modalidad")),s(3),l("ngForOf",t.modalidadOptions),s(6),l("ngClass",t.ValidacioncarrerasxElemento("Visibilidad")),s(3),l("ngForOf",t.visibilidadOptions),s(6),l("ngClass",t.ValidacioncarrerasxElemento("Estado")),s(3),l("ngForOf",t.estadoOptions),s(6),l("ngClass",t.ValidacioncarrerasxElemento("Descripcion")),s(6),l("ngIf",!t.newcarreras.get("id").value),s(2),l("ngIf",!t.AnimacionCargabtnModalcarreras),s(2),l("ngIf",t.AnimacionCargabtnModalcarreras),s(),l("ngIf",!t.AnimacionCargabtnModalcarreras)}}function ni(o,i){if(o&1){let e=h();n(0,"button",95),g("click",function(){let a=u(e).$implicit;return _(a.action())}),c(1),r()}if(o&2){let e=i.$implicit;s(),w(" ",e.label," ")}}function ri(o,i){if(o&1&&(n(0,"div",93),V(1,"async"),V(2,"async"),f(3,ni,2,1,"button",94),V(4,"async"),r()),o&2){let e,t,a=m();l("ngStyle",v(8,yt,((e=T(1,2,a.menuStatecarreras$))==null?null:e.y)+"px",((e=T(2,4,a.menuStatecarreras$))==null?null:e.x)+"px")),s(3),l("ngForOf",(t=T(4,6,a.menuStatecarreras$))==null?null:t.items)}}var ye=class ye{constructor(i,e,t,a,d){this._carr=i;this._tools=e;this._inst=t;this._controles=a;this._auth=d;this.esSuperAdmin=!1;this.estadoOptions=[];this.visibilidadOptions=[];this.programaOptions=[];this.modalidadOptions=[];this.nivelcarreraOptions=[];this.carreras=[];this.paginacarreras=1;this.isLoadingcarreras=!0;this.AnimacionCargabtnModalcarreras=!1;this.filtertxtcarreras="";this.collectionSizecarreras=0;this.pageSizecarreras=10;this.pageSizeOptionscarreras=[5,10,20,50];this.sortColumnscarreras=[];this.menuStatecarreras$=this._tools.state$;this.instituciones=[];this.newcarreras=this._carr.createFormGroupcarreras(),this.newcarrerasAnteriorAccion=this._carr.createFormGroupcarreras()}ngOnInit(){this.Cargarcarreras(),this.cargarInstituciones(),this.cargarOptionsDesdeControles(),this._auth.revisarSiEsSuperAdmin().subscribe(i=>this.esSuperAdmin=i)}cargarOptionsDesdeControles(){let i=["ESTADO","VISIBILIDAD","PROGRAMA","MODALIDAD","NIVEL CARRERA"];this._controles.ObtenerOptionsSelectPorCategorias(i).subscribe({next:e=>{this.estadoOptions=e?.ESTADO||[],this.visibilidadOptions=e?.VISIBILIDAD||[],this.programaOptions=e?.PROGRAMA||[],this.modalidadOptions=e?.MODALIDAD||[],this.nivelcarreraOptions=e?.NIVEL_CARRERA||[]},error:()=>{this.estadoOptions=[],this.visibilidadOptions=[],this.programaOptions=[],this.modalidadOptions=[],this.nivelcarreraOptions=[]}})}abrirModalNuevoCarreras(){this.modalGestioncarrerasRef=this._tools.openModal(this.modalgestioncarreras,"xl")}Cargarcarreras(){this.isLoadingcarreras=!0,this._carr.Obtenercarreras().subscribe({next:i=>{console.log(i),this.carreras=i.data||[],this.collectionSizecarreras=this.carreras.length,this.isLoadingcarreras=!1},error:i=>{console.error("Error al cargar carreras",i),this.isLoadingcarreras=!1}})}AgregarModificarcarreras(){if(this.newcarreras.invalid){this.ValidacionTodoElementocarreras(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalcarreras=!1;return}else{this.AnimarCargaTablacarreras(),this.AnimacionCargabtnModalcarreras=!0,this._tools.MostrarMensajeLoading(),this.newcarrerasAnteriorAccion.setValue(this.newcarreras.value);let i=this.newcarreras.controls.id.value;console.log("INFO A PROCESAR",this.newcarreras.value),i?this._carr.Modificarcarreras(this.newcarreras.value,this.newcarreras.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE carreras",e.data),this.Cargarcarreras(),this.resetcarreras(),this.AnimacionCargabtnModalcarreras=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR carreras",e),this.AnimacionCargabtnModalcarreras=!1,this._tools.MostrarMensajeError()}):this._carr.Agregarcarreras(this.newcarreras.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE carreras",e.data),this.Cargarcarreras(),this.resetcarreras(),this.AnimacionCargabtnModalcarreras=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR carreras",e),this.AnimacionCargabtnModalcarreras=!1,this._tools.MostrarMensajeError()})}}Seleccionarcarreras(i){if(this._tools.MostrarMensajeLoading(),i){if(!this.carreras.find(t=>t.id===i))return;this._carr.Seleccionarcarreras(i).subscribe(t=>{Object.keys(this.newcarreras.controls).forEach(a=>{this.newcarreras.controls[a].setValue(t.data[a])}),console.log("SELECCION DE carreras EXITOSA",this.newcarreras.value),this.newcarrerasAnteriorAccion.setValue(this.newcarreras.value),this.modalGestioncarrerasRef=this._tools.openModal(this.modalgestioncarreras,"xl"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR carreras",t),this._tools.MostrarMensajeError()})}}Eliminarcarreras(i){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._carr.Eliminarcarreras(i).subscribe(t=>{console.log(t.data),this.Cargarcarreras(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR carreras",t),this._tools.MostrarMensajeError()}))})}resetcarreras(){this.newcarreras=this._carr.createFormGroupcarreras(),this._tools.closeModal(this.modalGestioncarrerasRef)}AutoCompletarLastcarreras(){this.newcarreras.setValue(this.newcarrerasAnteriorAccion.value),this.newcarreras.patchValue({id:0}),console.log("listo",this.newcarreras.value)}AnimarCargaTablacarreras(){this.carreras=[],this.isLoadingcarreras=!0}ValidacioncarrerasxElemento(i){return this._tools.obtenerValidationClass(this.newcarreras,i)}ValidacionTodoElementocarreras(){Object.values(this.newcarreras.controls).forEach(i=>{i.markAsTouched(),i.markAsDirty()})}onPageSizeChangecarreras(){this.paginacarreras=1}sortBycarreras(i,e){this.sortColumnscarreras=this._tools.handleSort(i,e,this.sortColumnscarreras),this.carreras=this._tools.applyMultiSort(this.carreras,this.sortColumnscarreras)}isSortedcarreras(i){return this._tools.isSorted(this.sortColumnscarreras,i)}getSortDircarreras(i){return this._tools.getSortDirection(this.sortColumnscarreras,i)}closeMenu(){this._tools.close()}abrirMenucarreras(i,e){i.preventDefault(),i.stopPropagation(),console.log("aS",e);let t=[{label:"\u270F Editar",action:()=>this.Seleccionarcarreras(e.id)},{label:"\u{1F5D1}\uFE0F Eliminar",action:()=>this.Eliminarcarreras(e.id)}];this._tools.open(i.clientX,i.clientY,t)}cargarInstituciones(){this._inst.Obtenerinstituciones().subscribe({next:i=>{console.log(i),this.instituciones=i.data||[]},error:i=>{console.error("Error al cargar instituciones",i)}})}};ye.\u0275fac=function(e){return new(e||ye)(S(Z),S(J),S(_t),S(Se),S(W))},ye.\u0275cmp=B({type:ye,selectors:[["app-carreras"]],viewQuery:function(e,t){if(e&1&&ne(Et,7),e&2){let a;re(a=oe())&&(t.modalgestioncarreras=a.first)}},hostBindings:function(e,t){e&1&&g("click",function(){return t.closeMenu()},me)},standalone:!1,decls:70,vars:31,consts:[["modalgestioncarreras",""],[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","text-secondary","subtitulosGlobales"],[1,"button","col-sm-3","d-flex","justify-content-start"],[1,"btn","mouse-dir","primary","d-flex","align-items-center",2,"gap","8px",3,"click"],[2,"display","flex","align-items","center","justify-content","center","width","30px","height","30px"],["width","50px","height","50px",3,"options"],[1,"dir-part"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],["width","30px","height","30px",3,"options"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"mt-4"],[1,"table-responsive"],[1,"table","table-striped","table-hover","table-sm","align-middle"],[1,""],[1,"text-center"],["style","user-select: none; -webkit-user-select: none; -moz-user-select: none;",3,"click",4,"ngIf"],[2,"user-select","none","-webkit-user-select","none","-moz-user-select","none",3,"click"],["class","bi",3,"ngClass",4,"ngIf"],[4,"ngIf"],["style","cursor: pointer;",3,"contextmenu",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","mt-3"],["previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange","page","collectionSize","pageSize","maxSize","rotate","ellipses","boundaryLinks"],[1,"form-select",2,"width","auto",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","context-menu",3,"ngStyle",4,"ngIf"],[1,"bi",3,"ngClass"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[2,"cursor","pointer",3,"contextmenu"],[1,"text-center","d-flex","justify-content-center","align-items-center",2,"gap","5px"],["title","Modificar informaci\xF3n",1,"btn","btn-outline-warning","btn-sm","d-flex","justify-content-center","align-items-center","p-0",2,"width","40px","height","40px","overflow","hidden",3,"click","mouseenter","mouseleave"],["width","20",3,"src",4,"ngIf"],["width","30px","height","35px",3,"options",4,"ngIf"],["title","Eliminar informaci\xF3n",1,"btn","btn-outline-danger","btn-sm","d-flex","justify-content-center","align-items-center","p-0",2,"width","40px","height","40px","overflow","hidden",3,"click","mouseenter","mouseleave"],["width","20",3,"src"],["width","30px","height","35px",3,"options"],[3,"value"],[1,"modal-header"],[1,"modal-title"],["type","button","title","cerrar",1,"btn-close",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup"],["class","form-floating mb-3 col-sm-12",4,"ngIf"],[1,"form-floating","mb-3","col-sm-3"],["type","text","placeholder","","formControlName","Area",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"invalid-feedback"],["type","text","placeholder","","formControlName","Mencion",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","Resolucion",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","NombreCarrera",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"form-floating","mb-3","col-sm-4"],["type","text","placeholder","","formControlName","HorasTotales",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["formControlName","Nivel",1,"form-control",3,"ngClass"],["disabled","",3,"value"],[3,"value","disabled",4,"ngFor","ngForOf"],["type","number","placeholder","","formControlName","CantidadEvaluaciones",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","LimiteMaxTeorico",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","LimiteMaxPractico",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","NotaAprobacion",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","NotaMinRevalida",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","TituloOficial",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["formControlName","Programa",1,"form-control",3,"ngClass"],["type","text","placeholder","","formControlName","Duracion",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"form-floating","mb-3","col-sm-6"],["type","text","placeholder","","formControlName","Capacitacion",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","CarreraProfesional",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["formControlName","Modalidad",1,"form-control",3,"ngClass"],["formControlName","Visibilidad",1,"form-control",3,"ngClass"],["formControlName","Estado",1,"form-control",3,"ngClass"],[1,"form-floating","mb-3","col-sm-12"],["placeholder","","formControlName","Descripcion",1,"form-control",2,"text-transform","uppercase","height","100px",3,"change","ngClass"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"button","me-2"],["title","Cancelar y cerrar","class","btn mouse-dir secondary d-flex align-items-center","style"," gap: 8px;",3,"click",4,"ngIf"],[1,"button"],["class","btn mouse-dir success","title","Procesando informaci\xF3n",3,"disabled","click",4,"ngIf"],["class","btn mouse-dir primary d-flex align-items-center","style"," gap: 8px;","title","Accionar",3,"click",4,"ngIf"],["formControlName","instituciones_id",1,"form-control",3,"ngClass"],[3,"value","disabled"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n","class","btn mouse-dir secondary d-flex align-items-center","style"," gap: 8px;",3,"click",4,"ngIf"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","secondary","d-flex","align-items-center",2,"gap","8px",3,"click"],["title","Cancelar y cerrar",1,"btn","mouse-dir","secondary","d-flex","align-items-center",2,"gap","8px",3,"click"],["title","Procesando informaci\xF3n",1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["title","Accionar",1,"btn","mouse-dir","primary","d-flex","align-items-center",2,"gap","8px",3,"click"],[1,"context-menu",3,"ngStyle"],["class","context-item",3,"click",4,"ngFor","ngForOf"],[1,"context-item",3,"click"]],template:function(e,t){if(e&1){let a=h();n(0,"div",1)(1,"div",2)(2,"div",3)(3,"h1",4),c(4,"Gesti\xF3n de carreras"),r(),n(5,"p",5),c(6,"Administra la informaci\xF3n de los carreras de manera sencilla y eficiente"),r()()()(),n(7,"div",2)(8,"div",6)(9,"button",7),g("click",function(){return u(a),_(t.abrirModalNuevoCarreras())}),n(10,"span",8),C(11,"ng-lottie",9),r(),n(12,"span"),c(13,"A\xF1adir carreras "),r(),C(14,"span",10),r()(),n(15,"div",11)(16,"div",12)(17,"span",13),C(18,"ng-lottie",14),r(),n(19,"div",15)(20,"input",16),g("input",function(){return u(a),_(t.paginacarreras=1)}),M("ngModelChange",function(p){return u(a),y(t.filtertxtcarreras,p)||(t.filtertxtcarreras=p),_(p)}),r(),n(21,"label"),c(22,"Buscar"),r()()()()(),n(23,"div",17)(24,"div",18)(25,"table",19)(26,"thead",20)(27,"tr")(28,"th",21),c(29,"#"),r(),f(30,wt,3,1,"th",22),n(31,"th",23),g("click",function(p){return u(a),_(t.sortBycarreras("NombreCarrera",p))}),c(32," NombreCarrera "),f(33,At,1,4,"i",24),r(),n(34,"th",23),g("click",function(p){return u(a),_(t.sortBycarreras("Area",p))}),c(35," Area "),f(36,It,1,4,"i",24),r(),n(37,"th",23),g("click",function(p){return u(a),_(t.sortBycarreras("Mencion",p))}),c(38," Mencion "),f(39,Vt,1,4,"i",24),r(),n(40,"th",23),g("click",function(p){return u(a),_(t.sortBycarreras("Resolucion",p))}),c(41," Resolucion "),f(42,Tt,1,4,"i",24),r(),n(43,"th",23),g("click",function(p){return u(a),_(t.sortBycarreras("Nivel",p))}),c(44," Nivel "),f(45,Ot,1,4,"i",24),r(),n(46,"th",23),g("click",function(p){return u(a),_(t.sortBycarreras("HorasTotales",p))}),c(47," HorasTotales "),f(48,Pt,1,4,"i",24),r(),n(49,"th",23),g("click",function(p){return u(a),_(t.sortBycarreras("Visibilidad",p))}),c(50," Visibilidad "),f(51,Dt,1,4,"i",24),r(),n(52,"th",23),g("click",function(p){return u(a),_(t.sortBycarreras("Estado",p))}),c(53," Estado "),f(54,Rt,1,4,"i",24),r(),n(55,"th",21),c(56,"ACCIONES"),r()()(),n(57,"tbody"),f(58,Nt,5,1,"tr",25)(59,Ft,3,1,"tr",25)(60,$t,27,14,"tr",26),V(61,"slice"),r()()(),n(62,"div",27)(63,"ngb-pagination",28),M("pageChange",function(p){return u(a),y(t.paginacarreras,p)||(t.paginacarreras=p),_(p)}),r(),n(64,"select",29),M("ngModelChange",function(p){return u(a),y(t.pageSizecarreras,p)||(t.pageSizecarreras=p),_(p)}),g("change",function(){return u(a),_(t.onPageSizeChangecarreras())}),f(65,zt,2,2,"option",30),r()()(),f(66,ii,155,32,"ng-template",null,0,L)(68,ri,5,11,"div",31),V(69,"async")}if(e&2){let a;s(11),l("options",t._tools.optionsAdicionar),s(7),l("options",t._tools.optionslupa),s(2),E("ngModel",t.filtertxtcarreras),s(10),l("ngIf",t.esSuperAdmin),s(3),l("ngIf",t.isSortedcarreras("NombreCarrera")),s(3),l("ngIf",t.isSortedcarreras("Area")),s(3),l("ngIf",t.isSortedcarreras("Mencion")),s(3),l("ngIf",t.isSortedcarreras("Resolucion")),s(3),l("ngIf",t.isSortedcarreras("Nivel")),s(3),l("ngIf",t.isSortedcarreras("HorasTotales")),s(3),l("ngIf",t.isSortedcarreras("Visibilidad")),s(3),l("ngIf",t.isSortedcarreras("Estado")),s(4),l("ngIf",t.isLoadingcarreras),s(),l("ngIf",!t.isLoadingcarreras&&(!t.carreras||t.carreras.length===0)),s(),l("ngForOf",pe(61,25,t.carreras,(t.paginacarreras-1)*t.pageSizecarreras,t.paginacarreras*t.pageSizecarreras)),s(3),E("page",t.paginacarreras),l("collectionSize",t.collectionSizecarreras)("pageSize",t.pageSizecarreras)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0),s(),E("ngModel",t.pageSizecarreras),s(),l("ngForOf",t.pageSizeOptionscarreras),s(3),l("ngIf",(a=T(69,29,t.menuStatecarreras$))==null?null:a.visible)}},dependencies:[$,z,H,ue,xe,Y,X,fe,ze,Q,q,Ce,K,he,be,ve,U,_e,ge],encapsulation:2});var Me=ye;var se=class se{constructor(i){this.http=i;this.ruta=Be.ruta}Obtenerplandeestudios(i){let e=new je,t=i||{};return t?.anio_id&&(e=e.set("anio_id",String(t.anio_id))),t?.resolucion&&(e=e.set("resolucion",String(t.resolucion))),t?.instituciones_id&&(e=e.set("instituciones_id",String(t.instituciones_id))),this.http.get(this.ruta+"api/plandeestudios/",{params:e})}Agregarplandeestudios(i){return this.http.post(this.ruta+"api/plandeestudios/",i)}Modificarplandeestudios(i,e){return this.http.put(this.ruta+"api/plandeestudios/"+e,i)}Seleccionarplandeestudios(i){return this.http.get(this.ruta+"api/plandeestudios/"+i)}Eliminarplandeestudios(i){return this.http.delete(this.ruta+"api/plandeestudios/"+i)}createFormGroupplandeestudios(){return new $e({id:new A(0),carreras_id:new A("",[D.required]),Rango:new A("",[D.required]),RangoLvlCurso:new A("",[D.required]),LvlCurso:new A("",[D.required]),Horas:new A("",[D.required]),anio_id:new A("",[D.required]),ModoMateria:new A("1 DOCENTE x MATERIA",[D.required]),NombreMateria:new A("",[D.required]),SiglaMateria:new A("",[D.required]),Prerrequisitos:new A(""),SiglasPrerrequisitos:new A(""),TipoMateria:new A("TE\xD3RICO",[D.required]),RelacionDocenteCursoAEstudiante:new A("NINGUNA",[D.required])})}};se.\u0275fac=function(e){return new(e||se)(Ne(Ge))},se.\u0275prov=De({token:se,factory:se.\u0275fac,providedIn:"root"});var we=se;var li=["modalAccionesMaterias"],ci=["modalgestionmaterias"],Oe=(o,i)=>({"bi-caret-up":o,"bi-caret-down":i}),di=(o,i)=>({top:o,left:i});function mi(o,i){if(o&1&&(n(0,"option",15),c(1),r()),o&2){let e=i.$implicit;l("ngValue",e.id),s(),x(e.Anio)}}function pi(o,i){if(o&1&&(n(0,"option",15),c(1),r()),o&2){let e=i.$implicit;l("ngValue",e.key),s(),x(e.label)}}function ui(o,i){if(o&1&&C(0,"i",39),o&2){let e=m();l("ngClass",v(1,Oe,e.getSortDirmaterias("LvlCurso")==="asc",e.getSortDirmaterias("LvlCurso")==="desc"))}}function _i(o,i){if(o&1&&C(0,"i",39),o&2){let e=m();l("ngClass",v(1,Oe,e.getSortDirmaterias("Paralelo")==="asc",e.getSortDirmaterias("Paralelo")==="desc"))}}function gi(o,i){if(o&1&&C(0,"i",39),o&2){let e=m();l("ngClass",v(1,Oe,e.getSortDirmaterias("NombreMateria")==="asc",e.getSortDirmaterias("NombreMateria")==="desc"))}}function fi(o,i){if(o&1&&C(0,"i",39),o&2){let e=m();l("ngClass",v(1,Oe,e.getSortDirmaterias("EstadoHabilitacion")==="asc",e.getSortDirmaterias("EstadoHabilitacion")==="desc"))}}function Ci(o,i){if(o&1&&C(0,"i",39),o&2){let e=m();l("ngClass",v(1,Oe,e.getSortDirmaterias("EstadoEnvio")==="asc",e.getSortDirmaterias("EstadoEnvio")==="desc"))}}function xi(o,i){o&1&&(n(0,"tr")(1,"td",29)(2,"div",40)(3,"span",41),c(4,"Cargando..."),r()()()()),o&2&&(s(),k("colspan",7))}function hi(o,i){o&1&&(n(0,"tr")(1,"td",29),c(2,"No hay datos disponibles"),r()()),o&2&&(s(),k("colspan",7))}function bi(o,i){if(o&1&&C(0,"img",48),o&2){let e=m(2);l("src",e._tools.rutabtniconsanimaciones+"pencil.svg",F)}}function vi(o,i){if(o&1&&C(0,"ng-lottie",49),o&2){let e=m(2);l("options",e._tools.optionsEditar)}}function Si(o,i){if(o&1&&C(0,"img",48),o&2){let e=m(2);l("src",e._tools.rutabtniconsanimaciones+"delete.svg",F)}}function Ei(o,i){if(o&1&&C(0,"ng-lottie",49),o&2){let e=m(2);l("options",e._tools.optionsEliminar)}}function yi(o,i){if(o&1){let e=h();n(0,"tr",42),g("contextmenu",function(a){let d=u(e).$implicit,p=m();return _(p.abrirMenumaterias(a,d))}),n(1,"td",29),c(2),r(),n(3,"td"),c(4),r(),n(5,"td"),c(6),r(),n(7,"td"),c(8),r(),n(9,"td"),c(10),r(),n(11,"td"),c(12),r(),n(13,"td",43)(14,"button",44),g("click",function(){let a=u(e).$implicit,d=m();return _(d.Seleccionarmaterias(a.id))})("mouseenter",function(){let a=u(e).$implicit,d=m();return _(d._tools.hoverBotonMap["edicionmaterias-"+a.id]=!0)})("mouseleave",function(){let a=u(e).$implicit,d=m();return _(d._tools.hoverBotonMap["edicionmaterias-"+a.id]=!1)}),f(15,bi,1,1,"img",45)(16,vi,1,1,"ng-lottie",46),r(),n(17,"button",47),g("click",function(){let a=u(e).$implicit,d=m();return _(d.Eliminarmaterias(a.id))})("mouseenter",function(){let a=u(e).$implicit,d=m();return _(d._tools.hoverBotonMap["eliminacionmaterias-"+a.id]=!0)})("mouseleave",function(){let a=u(e).$implicit,d=m();return _(d._tools.hoverBotonMap["eliminacionmaterias-"+a.id]=!1)}),f(18,Si,1,1,"img",45)(19,Ei,1,1,"ng-lottie",46),r()()()}if(o&2){let e=i.index,t=i.$implicit,a=m();s(2),x((a.paginamaterias-1)*a.pageSizematerias+(e+1)),s(2),x(t.LvlCurso),s(2),x(t.Paralelo),s(2),x(t.NombreMateria),s(2),x(t.EstadoHabilitacion),s(2),x(t.EstadoEnvio),s(3),l("ngIf",!a._tools.hoverBotonMap["edicionmaterias-"+t.id]),s(),l("ngIf",a._tools.hoverBotonMap["edicionmaterias-"+t.id]),s(2),l("ngIf",!a._tools.hoverBotonMap["eliminacionmaterias-"+t.id]),s(),l("ngIf",a._tools.hoverBotonMap["eliminacionmaterias-"+t.id])}}function Mi(o,i){if(o&1&&(n(0,"option",50),c(1),r()),o&2){let e=i.$implicit;l("value",e),s(),w("",e," por p\xE1gina")}}function wi(o,i){if(o&1){let e=h();n(0,"div",76),g("click",function(){let a=u(e).$implicit,d=m(3);return _(d.seleccionarPlan(a))}),n(1,"div",77)(2,"h6",78),c(3),r(),n(4,"small"),c(5),r()(),n(6,"p",78),c(7),r()()}if(o&2){let e=i.$implicit;s(3),mt(" ",e.RangoLvlCurso," | ",e.NombreMateria," (",e.SiglaMateria,") "),s(2),x(e.Anio),s(2),w(" Resoluci\xF3n: ",e.Resolucion," ")}}function Ai(o,i){if(o&1&&(n(0,"div",74),f(1,wi,8,5,"div",75),r()),o&2){let e=m(2);s(),l("ngForOf",e.planesFiltrados)}}function Ii(o,i){o&1&&(n(0,"div",79),c(1," Este campo es obligatorio* "),r())}function Vi(o,i){if(o&1&&(n(0,"option",80),c(1),r()),o&2){let e=i.$implicit;l("value",e.value)("disabled",e.disabled),s(),x(e.label)}}function Ti(o,i){if(o&1&&(n(0,"option",80),c(1),r()),o&2){let e=i.$implicit;l("value",e.value)("disabled",e.disabled),s(),x(e.label)}}function Oi(o,i){if(o&1){let e=h();n(0,"button",83),g("click",function(){u(e);let a=m(3);return _(a.AutoCompletarLastmaterias())}),n(1,"span",9),C(2,"ng-lottie",10),r(),n(3,"span"),c(4,"AUTO COMPLETAR "),r(),C(5,"span",11),r()}if(o&2){let e=m(3);s(2),l("options",e._tools.optionsautocompletar)}}function Pi(o,i){if(o&1&&(n(0,"div",81),f(1,Oi,6,1,"button",82),r()),o&2){let e=m(2);s(),l("ngIf",!e.AnimacionCargabtnModalmaterias)}}function Di(o,i){if(o&1){let e=h();n(0,"button",84),g("click",function(){u(e);let a=m().$implicit,d=m();return a.dismiss(),_(d.resetmaterias())}),n(1,"span",9),C(2,"ng-lottie",10),r(),n(3,"span"),c(4,"CANCELAR"),r(),C(5,"span",11),r()}if(o&2){let e=m(2);s(2),l("options",e._tools.optionscancelar)}}function Ri(o,i){if(o&1){let e=h();n(0,"button",85),g("click",function(){u(e);let a=m(2);return _(a.AgregarModificarmaterias())}),C(1,"span",86),r()}o&2&&l("disabled",!0)}function Ni(o,i){if(o&1){let e=h();n(0,"button",87),g("click",function(){u(e);let a=m(2);return _(a.AgregarModificarmaterias())}),n(1,"span",9),C(2,"ng-lottie",10),r(),n(3,"span"),c(4),r(),C(5,"span",11),r()}if(o&2){let e,t,a=m(2);s(2),l("options",(e=a.newmaterias.get("id"))!=null&&e.value?a._tools.optionsEditar:a._tools.optionsAdicionar),s(2),x((t=a.newmaterias.get("id"))!=null&&t.value?"MODIFICAR":"REGISTRAR")}}function Fi(o,i){if(o&1){let e=h();n(0,"div",51)(1,"h4",52),c(2),r(),n(3,"button",53),g("click",function(){let a=u(e).$implicit,d=m();return a.dismiss(),_(d.resetmaterias())}),r()(),n(4,"div",54)(5,"form",55)(6,"div",56)(7,"input",57),g("focus",function(){u(e);let a=m();return _(a.mostrarLista=!0)}),r(),f(8,Ai,2,1,"div",58)(9,Ii,2,0,"div",59),r(),n(10,"div",60)(11,"input",61),g("change",function(a){u(e);let d=m();return _(d._tools.EscribirEnMayuscula(a,d.newmaterias,"Paralelo"))}),r(),n(12,"label"),c(13,"Paralelo"),r(),n(14,"div",62),c(15,"Este campo es obligatorio*"),r()(),n(16,"div",60)(17,"select",63)(18,"option",64),c(19,"Seleccione una opci\xF3n"),r(),f(20,Vi,2,3,"option",65),r(),n(21,"label"),c(22,"EstadoHabilitacion"),r(),n(23,"div",62),c(24,"Este campo es obligatorio*"),r()(),n(25,"div",60)(26,"select",66)(27,"option",64),c(28,"Seleccione una opci\xF3n"),r(),f(29,Ti,2,3,"option",65),r(),n(30,"label"),c(31,"EstadoEnvio"),r(),n(32,"div",62),c(33,"Este campo es obligatorio*"),r()()()(),n(34,"div",67),f(35,Pi,2,1,"div",68),n(36,"div",69),f(37,Di,6,1,"button",70),r(),n(38,"div",71),f(39,Ri,2,1,"button",72)(40,Ni,6,2,"button",73),r()()}if(o&2){let e,t,a=m();s(2),w("",(e=a.newmaterias.get("id"))!=null&&e.value?"Modificar":"Registrar"," materias"),s(3),l("formGroup",a.newmaterias),s(2),l("formControl",a.planInput),s(),l("ngIf",a.mostrarLista&&a.planInput.value),s(),l("ngIf",(t=a.newmaterias.get("plandeestudios_id"))==null?null:t.invalid),s(2),l("ngClass",a.ValidacionmateriasxElemento("Paralelo")),s(6),l("ngClass",a.ValidacionmateriasxElemento("EstadoHabilitacion")),s(3),l("ngForOf",a.estadoHabilitacionOptions),s(6),l("ngClass",a.ValidacionmateriasxElemento("EstadoEnvio")),s(3),l("ngForOf",a.estadoEnvioOptions),s(6),l("ngIf",!a.newmaterias.get("id").value),s(2),l("ngIf",!a.AnimacionCargabtnModalmaterias),s(2),l("ngIf",a.AnimacionCargabtnModalmaterias),s(),l("ngIf",!a.AnimacionCargabtnModalmaterias)}}function ki(o,i){if(o&1){let e=h();n(0,"button",90),g("click",function(){let a=u(e).$implicit;return _(a.action())}),c(1),r()}if(o&2){let e=i.$implicit;s(),w(" ",e.label," ")}}function Li(o,i){if(o&1&&(n(0,"div",88),V(1,"async"),V(2,"async"),f(3,ki,2,1,"button",89),V(4,"async"),r()),o&2){let e,t,a=m();l("ngStyle",v(8,di,((e=T(1,2,a.menuStatematerias$))==null?null:e.y)+"px",((e=T(2,4,a.menuStatematerias$))==null?null:e.x)+"px")),s(3),l("ngForOf",(t=T(4,6,a.menuStatematerias$))==null?null:t.items)}}function ji(o,i){if(o&1&&(n(0,"option",15),c(1),r()),o&2){let e=i.$implicit;l("ngValue",e),s(),x(e)}}function Gi(o,i){if(o&1&&(n(0,"option",15),c(1),r()),o&2){let e=i.$implicit;l("ngValue",e),s(),x(e)}}function Bi(o,i){if(o&1){let e=h();n(0,"div",93)(1,"div",23)(2,"select",100),M("ngModelChange",function(a){u(e);let d=m(2);return y(d.paraleloActualGrupal,a)||(d.paraleloActualGrupal=a),_(a)}),n(3,"option",15),c(4,"Seleccione una opci\xF3n"),r(),f(5,Gi,2,2,"option",16),r(),n(6,"label"),c(7,"Paralelo actual"),r()()()}if(o&2){let e=m(2);s(2),E("ngModel",e.paraleloActualGrupal),s(),l("ngValue",""),s(2),l("ngForOf",e.paralelosGrupalOptions)}}function $i(o,i){if(o&1){let e=h();n(0,"div",93)(1,"div",23)(2,"input",101),M("ngModelChange",function(a){u(e);let d=m(2);return y(d.paraleloNuevoGrupal,a)||(d.paraleloNuevoGrupal=a),_(a)}),r(),n(3,"label"),c(4,"Nuevo paralelo"),r()(),n(5,"div",102),c(6,"Se valida que no exista en el mismo A\xF1o + Resoluci\xF3n."),r()()}if(o&2){let e=m(2);s(2),E("ngModel",e.paraleloNuevoGrupal)}}function zi(o,i){o&1&&(n(0,"button",103),C(1,"span",86),r()),o&2&&l("disabled",!0)}function Hi(o,i){if(o&1){let e=h();n(0,"button",104),g("click",function(){u(e);let a=m(2);return _(a.ejecutarAccionGrupal())}),n(1,"span",9),C(2,"ng-lottie",10),r(),n(3,"span"),c(4,"EJECUTAR"),r(),C(5,"span",11),r()}if(o&2){let e=m(2);s(2),l("options",e._tools.optionstrengranaje)}}function Wi(o,i){if(o&1){let e=h();n(0,"div",51)(1,"h5",52),c(2,"Acciones grupales de materias"),r(),n(3,"button",91),g("click",function(){let a=u(e).$implicit;return _(a.dismiss())}),r()(),n(4,"div",54)(5,"div",92),c(6,"Se aplicar\xE1 sobre el filtro actual (A\xF1o + Resoluci\xF3n)."),r(),n(7,"div",3)(8,"div",93)(9,"div",23)(10,"select",94),M("ngModelChange",function(a){u(e);let d=m();return y(d.accionGrupal,a)||(d.accionGrupal=a),_(a)}),n(11,"option",15),c(12,"A\xF1adir todas las materias del curso"),r(),n(13,"option",15),c(14,"Modificar paralelo del curso"),r(),n(15,"option",15),c(16,"Eliminar materias del curso (por paralelo)"),r()(),n(17,"label"),c(18,"Acci\xF3n"),r()()(),n(19,"div",93)(20,"div",23)(21,"select",95),M("ngModelChange",function(a){u(e);let d=m();return y(d.cursoGrupal,a)||(d.cursoGrupal=a),_(a)}),g("ngModelChange",function(){u(e);let a=m();return _(a.onCursoGrupalChange())}),n(22,"option",15),c(23,"Seleccione una opci\xF3n"),r(),f(24,ji,2,2,"option",16),r(),n(25,"label"),c(26,"Curso (LvlCurso)"),r()()(),f(27,Bi,8,3,"div",96)(28,$i,7,1,"div",96),r()(),n(29,"div",67)(30,"div",69)(31,"button",97),g("click",function(){let a=u(e).$implicit;return _(a.dismiss())}),n(32,"span",9),C(33,"ng-lottie",10),r(),n(34,"span"),c(35,"CANCELAR"),r(),C(36,"span",11),r()(),n(37,"div",71),f(38,zi,2,1,"button",98)(39,Hi,6,1,"button",99),r()()}if(o&2){let e=m();s(10),E("ngModel",e.accionGrupal),s(),l("ngValue","agregar"),s(2),l("ngValue","modificar"),s(2),l("ngValue","eliminar"),s(6),E("ngModel",e.cursoGrupal),s(),l("ngValue",""),s(2),l("ngForOf",e.cursosGrupalOptions),s(3),l("ngIf",e.accionGrupal!=="agregar"),s(),l("ngIf",e.accionGrupal!=="eliminar"),s(3),l("disabled",e.isProcesandoAccionGrupal),s(2),l("options",e._tools.optionscancelar),s(5),l("ngIf",e.isProcesandoAccionGrupal),s(),l("ngIf",!e.isProcesandoAccionGrupal)}}var Ae=class Ae{constructor(i,e,t,a,d,p,b){this._mat=i;this._tools=e;this._planest=t;this._controles=a;this._carr=d;this._anios=p;this._auth=b;this.esSuperAdmin=!1;this.estadoHabilitacionOptions=[];this.estadoEnvioOptions=[];this.accionGrupal="agregar";this.cursoGrupal="";this.paraleloActualGrupal="";this.paraleloNuevoGrupal="";this.cursosGrupalOptions=[];this.paralelosGrupalOptions=[];this.planesFiltroActual=[];this.isProcesandoAccionGrupal=!1;this.materias=[];this.paginamaterias=1;this.isLoadingmaterias=!1;this.AnimacionCargabtnModalmaterias=!1;this.filtertxtmaterias="";this.filtroAnioId=null;this.filtroResolucionKey="";this.filtroResolucion=null;this.filtroInstitucionId=null;this.resolucionOptions=[];this.collectionSizematerias=0;this.pageSizematerias=10;this.pageSizeOptionsmaterias=[5,10,20,50];this.sortColumnsmaterias=[];this.menuStatematerias$=this._tools.state$;this.carreras=[];this.anios=[];this.plandeestudios=[];this.planInput=new A("");this.planesFiltrados=[];this.mostrarLista=!1;this.newmaterias=this._mat.createFormGroupmaterias(),this.newmateriasAnteriorAccion=this._mat.createFormGroupmaterias()}ngOnInit(){this.cargarCarreras(),this.cargarAnios(),this.cargarplandeestudios(),this.cargarOptionsDesdeControles(),this._auth.revisarSiEsSuperAdmin().subscribe(i=>{this.esSuperAdmin=i,this.rebuildResolucionOptions(),this.onFiltroChange()}),this.planesFiltrados=[],this.planInput.valueChanges.subscribe(i=>{let e=i?.toLowerCase()||"";if(!e){this.planesFiltrados=[];return}this.planesFiltrados=this.plandeestudios.filter(t=>`${t.RangoLvlCurso} ${t.NombreMateria} ${t.SiglaMateria} ${t.Anio} ${t.Resolucion}`.toLowerCase().includes(e))})}cargarOptionsDesdeControles(){let i=["ESTADO DE HABILITACI\xD3N","ESTADO DE ENVIO"];this._controles.ObtenerOptionsSelectPorCategorias(i).subscribe({next:e=>{this.estadoHabilitacionOptions=e?.["ESTADO DE HABILITACI\xD3N"]||[],this.estadoEnvioOptions=e?.["ESTADO DE ENVIO"]||[]},error:()=>{this.estadoHabilitacionOptions=[],this.estadoEnvioOptions=[]}})}abrirModalNuevoMaterias(){this.modalGestionmateriasRef=this._tools.openModal(this.modalgestionmaterias,"xl")}abrirModalAccionesMaterias(){let i=this.getFiltroParams();if(!i){this._tools.MostrarMensaje("warning","Seleccione A\xF1o y Resoluci\xF3n para continuar");return}this.isProcesandoAccionGrupal=!0,this._tools.MostrarMensajeLoading(),Pe({materias:this._mat.Obtenermaterias(i).pipe(te(e=>e?.data||[]),ie(e=>(console.error("Error cargando materias (modal grupal)",e),ee([])))),planes:this._planest.Obtenerplandeestudios(i).pipe(te(e=>e?.data||[]),ie(e=>(console.error("Error cargando planes (modal grupal)",e),ee([]))))}).subscribe({next:({materias:e,planes:t})=>{this.materias=e||[],this.collectionSizematerias=this.materias.length,this.planesFiltroActual=t||[];let a=new Set;for(let d of this.planesFiltroActual){let p=(d?.LvlCurso??"").toString().trim();p&&a.add(p)}this.cursosGrupalOptions=Array.from(a.values()).sort((d,p)=>d.localeCompare(p)),this.accionGrupal="agregar",this.cursoGrupal="",this.paraleloActualGrupal="",this.paraleloNuevoGrupal="",this.paralelosGrupalOptions=[],this.modalAccionesMateriasRef=this._tools.openModal(this.modalAccionesMaterias,"xl")},error:e=>{console.error(e),this._tools.MostrarMensajeError()},complete:()=>{this.isProcesandoAccionGrupal=!1}})}onCursoGrupalChange(){let i=this.upper(this.cursoGrupal),e=new Set;for(let t of this.materias||[]){let a=this.upper(t?.LvlCurso),d=this.upper(t?.Paralelo);i&&a===i&&d&&e.add(d)}this.paralelosGrupalOptions=Array.from(e.values()).sort((t,a)=>t.localeCompare(a)),this.paraleloActualGrupal=""}ejecutarAccionGrupal(){let i=this.getFiltroParams();if(!i){this._tools.MostrarMensaje("warning","Seleccione A\xF1o y Resoluci\xF3n para continuar");return}let e=this.upper(this.cursoGrupal),t=this.upper(this.paraleloNuevoGrupal),a=this.upper(this.paraleloActualGrupal);if(!e){this._tools.MostrarMensaje("warning","Seleccione un curso (LvlCurso)");return}if(this.accionGrupal!=="eliminar"&&!t){this._tools.MostrarMensaje("warning","Ingrese el nuevo paralelo");return}if(this.accionGrupal!=="agregar"&&!a){this._tools.MostrarMensaje("warning","Seleccione el paralelo actual");return}this.isProcesandoAccionGrupal=!0,this._tools.MostrarMensajeLoading(),this._mat.Obtenermaterias(i).pipe(te(d=>d?.data||[]),ie(d=>(console.error("Error refrescando materias (acci\xF3n grupal)",d),ee([])))).subscribe({next:d=>{let p=(P,I=[])=>{let R=new Set(I.map(G=>Number(G)));return(d||[]).some(G=>{let Qe=Number(G?.id);return R.has(Qe)?!1:this.upper(G?.Paralelo)===P})},b=P=>(d||[]).filter(I=>this.upper(I?.LvlCurso)===e&&this.upper(I?.Paralelo)===P);if(this.accionGrupal==="agregar"){if(p(t)){this.isProcesandoAccionGrupal=!1,this._tools.MostrarMensaje("warning","Ese paralelo ya existe para el mismo A\xF1o y Resoluci\xF3n");return}this._mat.AgregarMateriasGrupal({anio_id:i.anio_id,resolucion:i.resolucion,instituciones_id:i.instituciones_id,lvlcurso:e,paralelo_nuevo:t}).subscribe({next:()=>{this._tools.MostrarMensajeSuccess(),this.Cargarmaterias(),this._tools.closeModal(this.modalAccionesMateriasRef)},error:P=>{console.error("Error en alta grupal de materias (bulk)",P);let I=P?.error?.message;I?this._tools.MostrarMensaje("warning",I):this._tools.MostrarMensajeError(),this.isProcesandoAccionGrupal=!1},complete:()=>{this.isProcesandoAccionGrupal=!1}});return}let O=b(a);if(!O.length){this.isProcesandoAccionGrupal=!1,this._tools.MostrarMensaje("warning","No hay materias para ese curso y paralelo");return}if(this.accionGrupal==="modificar"){let P=O.map(I=>Number(I?.id)).filter(I=>Number.isFinite(I));if(p(t,P)){this.isProcesandoAccionGrupal=!1,this._tools.MostrarMensaje("warning","Ese paralelo ya existe para el mismo A\xF1o y Resoluci\xF3n");return}this._mat.ActualizarParaleloGrupal({anio_id:i.anio_id,resolucion:i.resolucion,instituciones_id:i.instituciones_id,lvlcurso:e,paralelo_actual:a,paralelo_nuevo:t}).subscribe({next:()=>{this._tools.MostrarMensajeSuccess(),this.Cargarmaterias(),this._tools.closeModal(this.modalAccionesMateriasRef)},error:I=>{console.error("Error en modificaci\xF3n grupal de paralelo (bulk)",I);let R=I?.error?.message;R?this._tools.MostrarMensaje("warning",R):this._tools.MostrarMensajeError(),this.isProcesandoAccionGrupal=!1},complete:()=>{this.isProcesandoAccionGrupal=!1}});return}this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","Se eliminar\xE1n todas las materias del curso/paralelo seleccionado","warning","SI, ESTOY SEGURO","NO").then(P=>{if(!P){this.isProcesandoAccionGrupal=!1;return}this._mat.EliminarMateriasGrupal({anio_id:i.anio_id,resolucion:i.resolucion,instituciones_id:i.instituciones_id,lvlcurso:e,paralelo_actual:a}).subscribe({next:()=>{this._tools.MostrarMensajeSuccess(),this.Cargarmaterias(),this._tools.closeModal(this.modalAccionesMateriasRef)},error:I=>{console.error("Error en eliminaci\xF3n grupal de materias (bulk)",I);let R=I?.error?.message;R?this._tools.MostrarMensaje("warning",R):this._tools.MostrarMensajeError(),this.isProcesandoAccionGrupal=!1},complete:()=>{this.isProcesandoAccionGrupal=!1}})})},error:()=>{this.isProcesandoAccionGrupal=!1,this._tools.MostrarMensajeError()}})}upper(i){return(i??"").toString().trim().toUpperCase()}getFiltroParams(){let i=this.filtroAnioId,e=!!(this.filtroResolucionKey&&this.filtroResolucionKey.toString().trim());return!i||!e||(this.parseResolucionKey(),!this.filtroResolucion)?null:{anio_id:i,resolucion:this.filtroResolucion,instituciones_id:this.esSuperAdmin?this.filtroInstitucionId??void 0:void 0}}rebuildResolucionOptions(){let i=new Map;for(let e of this.carreras){let t=(e?.Resolucion??"").toString().trim();if(!t)continue;let a=e?.instituciones_id,d=a!=null&&a!==""?Number(a):null,p=(e?.NombreInstitucion??"").toString().trim(),b=this.esSuperAdmin&&d?`${d}|${t}`:t,O=this.esSuperAdmin&&d?`${t}${p?" ("+p+")":""}`:t;i.has(b)||i.set(b,{key:b,label:O,resolucion:t,instituciones_id:d})}this.resolucionOptions=Array.from(i.values()).sort((e,t)=>e.label.localeCompare(t.label))}onFiltroChange(){this.paginamaterias=1;let i=!!this.filtroAnioId,e=!!(this.filtroResolucionKey&&this.filtroResolucionKey.toString().trim());if(!i||!e){this.materias=[],this.collectionSizematerias=0;return}this.parseResolucionKey(),this.Cargarmaterias()}parseResolucionKey(){let i=(this.filtroResolucionKey??"").toString();if(!i){this.filtroResolucion=null,this.filtroInstitucionId=null;return}let e=i.split("|");if(e.length>=2){let t=Number(e[0]),a=e.slice(1).join("|");this.filtroInstitucionId=Number.isFinite(t)?t:null,this.filtroResolucion=a||null}else this.filtroInstitucionId=null,this.filtroResolucion=i}Cargarmaterias(){let i=this.filtroAnioId,e=this.filtroResolucion;if(!i||!e){this.materias=[],this.collectionSizematerias=0;return}this.isLoadingmaterias=!0,this._mat.Obtenermaterias({anio_id:i,resolucion:e,instituciones_id:this.esSuperAdmin?this.filtroInstitucionId??void 0:void 0}).subscribe({next:t=>{console.log(t),this.materias=t.data||[],this.collectionSizematerias=this.materias.length,this.isLoadingmaterias=!1},error:t=>{console.error("Error al cargar materias",t),this.isLoadingmaterias=!1}})}AgregarModificarmaterias(){if(this.newmaterias.invalid){this.ValidacionTodoElementomaterias(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalmaterias=!1;return}else{this.AnimarCargaTablamaterias(),this.AnimacionCargabtnModalmaterias=!0,this._tools.MostrarMensajeLoading(),this.newmateriasAnteriorAccion.setValue(this.newmaterias.value);let i=this.newmaterias.controls.id.value;console.log("INFO A PROCESAR",this.newmaterias.value),i?this._mat.Modificarmaterias(this.newmaterias.value,this.newmaterias.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE materias",e.data),this.Cargarmaterias(),this.resetmaterias(),this.AnimacionCargabtnModalmaterias=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR materias",e),this.AnimacionCargabtnModalmaterias=!1,this._tools.MostrarMensajeError()}):this._mat.Agregarmaterias(this.newmaterias.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE materias",e.data),this.Cargarmaterias(),this.resetmaterias(),this.AnimacionCargabtnModalmaterias=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR materias",e),this.AnimacionCargabtnModalmaterias=!1,this._tools.MostrarMensajeError()})}}Seleccionarmaterias(i){if(this._tools.MostrarMensajeLoading(),i){if(!this.materias.find(t=>t.id===i))return;this._mat.Seleccionarmaterias(i).subscribe(t=>{Object.keys(this.newmaterias.controls).forEach(a=>{this.newmaterias.controls[a].setValue(t.data[a])}),console.log("SELECCION DE materias EXITOSA",this.newmaterias.value),this.newmateriasAnteriorAccion.setValue(this.newmaterias.value),this.modalGestionmateriasRef=this._tools.openModal(this.modalgestionmaterias,"xl"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR materias",t),this._tools.MostrarMensajeError()})}}Eliminarmaterias(i){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._mat.Eliminarmaterias(i).subscribe(t=>{console.log(t.data),this.Cargarmaterias(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR materias",t),this._tools.MostrarMensajeError()}))})}resetmaterias(){this.newmaterias=this._mat.createFormGroupmaterias(),this._tools.closeModal(this.modalGestionmateriasRef)}AutoCompletarLastmaterias(){this.newmaterias.setValue(this.newmateriasAnteriorAccion.value),this.newmaterias.patchValue({id:0}),console.log("listo",this.newmaterias.value)}AnimarCargaTablamaterias(){this.materias=[],this.isLoadingmaterias=!0}ValidacionmateriasxElemento(i){return this._tools.obtenerValidationClass(this.newmaterias,i)}ValidacionTodoElementomaterias(){Object.values(this.newmaterias.controls).forEach(i=>{i.markAsTouched(),i.markAsDirty()})}onPageSizeChangematerias(){this.paginamaterias=1}sortBymaterias(i,e){this.sortColumnsmaterias=this._tools.handleSort(i,e,this.sortColumnsmaterias),this.materias=this._tools.applyMultiSort(this.materias,this.sortColumnsmaterias)}isSortedmaterias(i){return this._tools.isSorted(this.sortColumnsmaterias,i)}getSortDirmaterias(i){return this._tools.getSortDirection(this.sortColumnsmaterias,i)}closeMenu(){this._tools.close()}abrirMenumaterias(i,e){i.preventDefault(),i.stopPropagation(),console.log("aS",e);let t=[{label:"\u270F Editar",action:()=>this.Seleccionarmaterias(e.id)},{label:"\u{1F5D1}\uFE0F Eliminar",action:()=>this.Eliminarmaterias(e.id)}];this._tools.open(i.clientX,i.clientY,t)}cargarCarreras(){this._carr.Obtenercarreras().subscribe({next:i=>{this.carreras=i.data||[],this.rebuildResolucionOptions()},error:i=>{console.error("Error al cargar carreras",i)}})}cargarAnios(){this._anios.Obteneranios().subscribe({next:i=>{this.anios=i.data||[]},error:i=>{console.error("Error al cargar anios",i)}})}cargarplandeestudios(){this._planest.Obtenerplandeestudios().subscribe({next:i=>{console.log(i.data),this.plandeestudios=i.data||[]},error:i=>{console.error("Error al cargar plandeestudios",i)}})}seleccionarPlan(i){this.planInput.setValue(`${i.NombreMateria} (${i.SiglaMateria})`,{emitEvent:!1}),this.newmaterias.get("plandeestudios_id")?.setValue(i.id),this.mostrarLista=!1}};Ae.\u0275fac=function(e){return new(e||Ae)(S(He),S(J),S(we),S(Se),S(Z),S(Ee),S(W))},Ae.\u0275cmp=B({type:Ae,selectors:[["app-materias"]],viewQuery:function(e,t){if(e&1&&(ne(li,7),ne(ci,7)),e&2){let a;re(a=oe())&&(t.modalAccionesMaterias=a.first),re(a=oe())&&(t.modalgestionmaterias=a.first)}},hostBindings:function(e,t){e&1&&g("click",function(){return t.closeMenu()},me)},standalone:!1,decls:83,vars:34,consts:[["modalgestionmaterias",""],["modalAccionesMaterias",""],[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","text-secondary","subtitulosGlobales"],[1,"col-sm-6","d-flex","justify-content-start","button",2,"gap","10px"],[1,"btn","mouse-dir","primary","d-flex","align-items-center",2,"gap","8px",3,"click"],[2,"display","flex","align-items","center","justify-content","center","width","30px","height","30px"],["width","50px","height","50px",3,"options"],[1,"dir-part"],[1,"col-sm-3","d-flex","justify-content-end",2,"gap","10px"],[1,"form-floating",2,"min-width","140px"],["title","Filtrar por A\xF1o",1,"form-control",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-floating",2,"min-width","180px"],["title","Filtrar por Resoluci\xF3n",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-sm-3","ms-auto","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],["width","30px","height","30px",3,"options"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"mt-4"],[1,"table-responsive"],[1,"table","table-striped","table-hover","table-sm","align-middle"],[1,""],[1,"text-center"],[2,"user-select","none","-webkit-user-select","none","-moz-user-select","none",3,"click"],["class","bi",3,"ngClass",4,"ngIf"],[4,"ngIf"],["style","cursor: pointer;",3,"contextmenu",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","mt-3"],["previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange","page","collectionSize","pageSize","maxSize","rotate","ellipses","boundaryLinks"],[1,"form-select",2,"width","auto",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","context-menu",3,"ngStyle",4,"ngIf"],[1,"bi",3,"ngClass"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[2,"cursor","pointer",3,"contextmenu"],[1,"text-center","d-flex","justify-content-center","align-items-center",2,"gap","5px"],["title","Modificar informaci\xF3n",1,"btn","btn-outline-warning","btn-sm","d-flex","justify-content-center","align-items-center","p-0",2,"width","40px","height","40px","overflow","hidden",3,"click","mouseenter","mouseleave"],["width","20",3,"src",4,"ngIf"],["width","30px","height","35px",3,"options",4,"ngIf"],["title","Eliminar informaci\xF3n",1,"btn","btn-outline-danger","btn-sm","d-flex","justify-content-center","align-items-center","p-0",2,"width","40px","height","40px","overflow","hidden",3,"click","mouseenter","mouseleave"],["width","20",3,"src"],["width","30px","height","35px",3,"options"],[3,"value"],[1,"modal-header"],[1,"modal-title"],["type","button","title","cerrar",1,"btn-close",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup"],[1,"col-sm-12","mb-3","position-relative"],["type","text","placeholder","Buscar plan de estudios","autocomplete","off",1,"form-control",3,"focus","formControl"],["class","list-group position-absolute w-100","style","z-index: 1000;",4,"ngIf"],["class","invalid-feedback d-block",4,"ngIf"],[1,"form-floating","mb-3","col-sm-12"],["type","text","placeholder","","formControlName","Paralelo",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"invalid-feedback"],["formControlName","EstadoHabilitacion",1,"form-control",3,"ngClass"],["disabled","",3,"value"],[3,"value","disabled",4,"ngFor","ngForOf"],["formControlName","EstadoEnvio",1,"form-control",3,"ngClass"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"button","me-2"],["title","Cancelar y cerrar","class","btn mouse-dir secondary d-flex align-items-center","style"," gap: 8px;",3,"click",4,"ngIf"],[1,"button"],["class","btn mouse-dir success","title","Procesando informaci\xF3n",3,"disabled","click",4,"ngIf"],["class","btn mouse-dir primary d-flex align-items-center","style"," gap: 8px;","title","Accionar",3,"click",4,"ngIf"],[1,"list-group","position-absolute","w-100",2,"z-index","1000"],["class","list-group-item list-group-item-action",3,"click",4,"ngFor","ngForOf"],[1,"list-group-item","list-group-item-action",3,"click"],[1,"d-flex","w-100","justify-content-between"],[1,"mb-1"],[1,"invalid-feedback","d-block"],[3,"value","disabled"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n","class","btn mouse-dir secondary d-flex align-items-center","style"," gap: 8px;",3,"click",4,"ngIf"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","secondary","d-flex","align-items-center",2,"gap","8px",3,"click"],["title","Cancelar y cerrar",1,"btn","mouse-dir","secondary","d-flex","align-items-center",2,"gap","8px",3,"click"],["title","Procesando informaci\xF3n",1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["title","Accionar",1,"btn","mouse-dir","primary","d-flex","align-items-center",2,"gap","8px",3,"click"],[1,"context-menu",3,"ngStyle"],["class","context-item",3,"click",4,"ngFor","ngForOf"],[1,"context-item",3,"click"],["type","button","aria-label","Cerrar",1,"btn-close",3,"click"],[1,"text-muted","mb-3"],[1,"col-sm-6","mb-3"],["title","Acci\xF3n",1,"form-control",3,"ngModelChange","ngModel"],["title","Curso",1,"form-control",3,"ngModelChange","ngModel"],["class","col-sm-6 mb-3",4,"ngIf"],["title","Cancelar",1,"btn","mouse-dir","secondary","d-flex","align-items-center",2,"gap","8px",3,"click","disabled"],["class","btn mouse-dir success","title","Procesando",3,"disabled",4,"ngIf"],["class","btn mouse-dir primary d-flex align-items-center","style","gap: 8px;","title","Ejecutar",3,"click",4,"ngIf"],["title","Paralelo actual",1,"form-control",3,"ngModelChange","ngModel"],["type","text","placeholder","",1,"form-control",2,"text-transform","uppercase",3,"ngModelChange","ngModel"],[1,"form-text"],["title","Procesando",1,"btn","mouse-dir","success",3,"disabled"],["title","Ejecutar",1,"btn","mouse-dir","primary","d-flex","align-items-center",2,"gap","8px",3,"click"]],template:function(e,t){if(e&1){let a=h();n(0,"div",2)(1,"div",3)(2,"div",4)(3,"h1",5),c(4,"Gesti\xF3n de materias"),r(),n(5,"p",6),c(6,"Administra la informaci\xF3n de los materias de manera sencilla y eficiente"),r()()()(),n(7,"div",3)(8,"div",7)(9,"button",8),g("click",function(){return u(a),_(t.abrirModalNuevoMaterias())}),n(10,"span",9),C(11,"ng-lottie",10),r(),n(12,"span"),c(13,"A\xF1adir materias "),r(),C(14,"span",11),r(),n(15,"button",8),g("click",function(){return u(a),_(t.abrirModalAccionesMaterias())}),n(16,"span",9),C(17,"ng-lottie",10),r(),n(18,"span"),c(19,"Mostrar Acciones"),r(),C(20,"span",11),r()(),n(21,"div",12)(22,"div",13)(23,"select",14),M("ngModelChange",function(p){return u(a),y(t.filtroAnioId,p)||(t.filtroAnioId=p),_(p)}),g("ngModelChange",function(){return u(a),t.paginamaterias=1,_(t.onFiltroChange())}),n(24,"option",15),c(25,"Seleccione una opci\xF3n"),r(),f(26,mi,2,2,"option",16),r(),n(27,"label"),c(28,"A\xF1o"),r()(),n(29,"div",17)(30,"select",18),M("ngModelChange",function(p){return u(a),y(t.filtroResolucionKey,p)||(t.filtroResolucionKey=p),_(p)}),g("ngModelChange",function(){return u(a),t.paginamaterias=1,_(t.onFiltroChange())}),n(31,"option",15),c(32,"Seleccione una opci\xF3n"),r(),f(33,pi,2,2,"option",16),r(),n(34,"label"),c(35,"Resoluci\xF3n"),r()()(),n(36,"div",19)(37,"div",20)(38,"span",21),C(39,"ng-lottie",22),r(),n(40,"div",23)(41,"input",24),g("input",function(){return u(a),_(t.paginamaterias=1)}),M("ngModelChange",function(p){return u(a),y(t.filtertxtmaterias,p)||(t.filtertxtmaterias=p),_(p)}),r(),n(42,"label"),c(43,"Buscar"),r()()()()(),n(44,"div",25)(45,"div",26)(46,"table",27)(47,"thead",28)(48,"tr")(49,"th",29),c(50,"#"),r(),n(51,"th",30),g("click",function(p){return u(a),_(t.sortBymaterias("LvlCurso",p))}),c(52," LvlCurso "),f(53,ui,1,4,"i",31),r(),n(54,"th",30),g("click",function(p){return u(a),_(t.sortBymaterias("Paralelo",p))}),c(55," Paralelo "),f(56,_i,1,4,"i",31),r(),n(57,"th",30),g("click",function(p){return u(a),_(t.sortBymaterias("NombreMateria",p))}),c(58," NombreMateria "),f(59,gi,1,4,"i",31),r(),n(60,"th",30),g("click",function(p){return u(a),_(t.sortBymaterias("EstadoHabilitacion",p))}),c(61," EstadoHabilitacion "),f(62,fi,1,4,"i",31),r(),n(63,"th",30),g("click",function(p){return u(a),_(t.sortBymaterias("EstadoEnvio",p))}),c(64," EstadoEnvio "),f(65,Ci,1,4,"i",31),r(),n(66,"th",29),c(67,"ACCIONES"),r()()(),n(68,"tbody"),f(69,xi,5,1,"tr",32)(70,hi,3,1,"tr",32)(71,yi,20,10,"tr",33),V(72,"slice"),r()()(),n(73,"div",34)(74,"ngb-pagination",35),M("pageChange",function(p){return u(a),y(t.paginamaterias,p)||(t.paginamaterias=p),_(p)}),r(),n(75,"select",36),M("ngModelChange",function(p){return u(a),y(t.pageSizematerias,p)||(t.pageSizematerias=p),_(p)}),g("change",function(){return u(a),_(t.onPageSizeChangematerias())}),f(76,Mi,2,2,"option",37),r()()(),f(77,Fi,41,14,"ng-template",null,0,L)(79,Li,5,11,"div",38),V(80,"async"),f(81,Wi,40,13,"ng-template",null,1,L)}if(e&2){let a;s(11),l("options",t._tools.optionsAdicionar),s(6),l("options",t._tools.optionssubgestion),s(6),E("ngModel",t.filtroAnioId),s(),l("ngValue",null),s(2),l("ngForOf",t.anios),s(4),E("ngModel",t.filtroResolucionKey),s(),l("ngValue",null),s(2),l("ngForOf",t.resolucionOptions),s(6),l("options",t._tools.optionslupa),s(2),E("ngModel",t.filtertxtmaterias),s(12),l("ngIf",t.isSortedmaterias("LvlCurso")),s(3),l("ngIf",t.isSortedmaterias("Paralelo")),s(3),l("ngIf",t.isSortedmaterias("NombreMateria")),s(3),l("ngIf",t.isSortedmaterias("EstadoHabilitacion")),s(3),l("ngIf",t.isSortedmaterias("EstadoEnvio")),s(4),l("ngIf",t.isLoadingmaterias),s(),l("ngIf",!t.isLoadingmaterias&&(!t.materias||t.materias.length===0)),s(),l("ngForOf",pe(72,28,t.materias,(t.paginamaterias-1)*t.pageSizematerias,t.paginamaterias*t.pageSizematerias)),s(3),E("page",t.paginamaterias),l("collectionSize",t.collectionSizematerias)("pageSize",t.pageSizematerias)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0),s(),E("ngModel",t.pageSizematerias),s(),l("ngForOf",t.pageSizeOptionsmaterias),s(3),l("ngIf",(a=T(80,32,t.menuStatematerias$))==null?null:a.visible)}},dependencies:[$,z,H,ue,xe,Y,X,fe,Q,q,Ce,K,ut,he,be,ve,U,_e,ge],styles:[".dropdown-list[_ngcontent-%COMP%]{position:absolute;width:100%;max-height:280px;overflow-y:auto;background:#fff;border:1px solid #ced4da;z-index:1000}.dropdown-item[_ngcontent-%COMP%]{padding:8px 12px;cursor:pointer}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}.row-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 80px 140px;gap:12px;align-items:center}.center[_ngcontent-%COMP%]{text-align:center;font-weight:500}.right[_ngcontent-%COMP%]{text-align:right;white-space:nowrap}"]});var Ie=Ae;var qi=["modalgestionplandeestudios"],N=(o,i)=>({"bi-caret-up":o,"bi-caret-down":i}),Ki=(o,i)=>({top:o,left:i});function Qi(o,i){if(o&1&&(n(0,"option",16),c(1),r()),o&2){let e=i.$implicit;l("ngValue",e.id),s(),x(e.Anio)}}function Yi(o,i){if(o&1&&(n(0,"option",16),c(1),r()),o&2){let e=i.$implicit;l("ngValue",e.key),s(),x(e.label)}}function Xi(o,i){if(o&1&&C(0,"i",42),o&2){let e=m(2);l("ngClass",v(1,N,e.getSortDirplandeestudios("NombreInstitucion")==="asc",e.getSortDirplandeestudios("NombreInstitucion")==="desc"))}}function Ji(o,i){if(o&1){let e=h();n(0,"th",32),g("click",function(a){u(e);let d=m();return _(d.sortByplandeestudios("NombreInstitucion",a))}),c(1," Nombre Institucion "),f(2,Xi,1,4,"i",33),r()}if(o&2){let e=m();s(2),l("ngIf",e.isSortedplandeestudios("NombreInstitucion"))}}function Zi(o,i){if(o&1&&C(0,"i",42),o&2){let e=m();l("ngClass",v(1,N,e.getSortDirplandeestudios("RangoLvlCurso")==="asc",e.getSortDirplandeestudios("RangoLvlCurso")==="desc"))}}function en(o,i){if(o&1&&C(0,"i",42),o&2){let e=m();l("ngClass",v(1,N,e.getSortDirplandeestudios("Rango")==="asc",e.getSortDirplandeestudios("Rango")==="desc"))}}function tn(o,i){if(o&1&&C(0,"i",42),o&2){let e=m();l("ngClass",v(1,N,e.getSortDirplandeestudios("LvlCurso")==="asc",e.getSortDirplandeestudios("LvlCurso")==="desc"))}}function nn(o,i){if(o&1&&C(0,"i",42),o&2){let e=m();l("ngClass",v(1,N,e.getSortDirplandeestudios("NombreMateria")==="asc",e.getSortDirplandeestudios("NombreMateria")==="desc"))}}function rn(o,i){if(o&1&&C(0,"i",42),o&2){let e=m();l("ngClass",v(1,N,e.getSortDirplandeestudios("Horas")==="asc",e.getSortDirplandeestudios("Horas")==="desc"))}}function on(o,i){if(o&1&&C(0,"i",42),o&2){let e=m();l("ngClass",v(1,N,e.getSortDirplandeestudios("ModoMateria")==="asc",e.getSortDirplandeestudios("ModoMateria")==="desc"))}}function an(o,i){if(o&1&&C(0,"i",42),o&2){let e=m();l("ngClass",v(1,N,e.getSortDirplandeestudios("SiglaMateria")==="asc",e.getSortDirplandeestudios("SiglaMateria")==="desc"))}}function sn(o,i){if(o&1&&C(0,"i",42),o&2){let e=m();l("ngClass",v(1,N,e.getSortDirplandeestudios("SiglasPrerrequisitos")==="asc",e.getSortDirplandeestudios("SiglasPrerrequisitos")==="desc"))}}function ln(o,i){if(o&1&&C(0,"i",42),o&2){let e=m();l("ngClass",v(1,N,e.getSortDirplandeestudios("TipoMateria")==="asc",e.getSortDirplandeestudios("TipoMateria")==="desc"))}}function cn(o,i){if(o&1&&(n(0,"tr")(1,"td",30)(2,"div",43)(3,"span",44),c(4,"Cargando..."),r()()()()),o&2){let e=m();s(),k("colspan",e.esSuperAdmin?14:13)}}function dn(o,i){if(o&1&&(n(0,"tr")(1,"td",30),c(2,"No hay datos disponibles"),r()()),o&2){let e=m();s(),k("colspan",e.esSuperAdmin?14:13)}}function mn(o,i){if(o&1&&(n(0,"td"),c(1),r()),o&2){let e=m().$implicit;s(),x(e.NombreInstitucion)}}function pn(o,i){if(o&1&&C(0,"img",51),o&2){let e=m(2);l("src",e._tools.rutabtniconsanimaciones+"pencil.svg",F)}}function un(o,i){if(o&1&&C(0,"ng-lottie",52),o&2){let e=m(2);l("options",e._tools.optionsEditar)}}function _n(o,i){if(o&1&&C(0,"img",51),o&2){let e=m(2);l("src",e._tools.rutabtniconsanimaciones+"delete.svg",F)}}function gn(o,i){if(o&1&&C(0,"ng-lottie",52),o&2){let e=m(2);l("options",e._tools.optionsEliminar)}}function fn(o,i){if(o&1){let e=h();n(0,"tr",45),g("contextmenu",function(a){let d=u(e).$implicit,p=m();return _(p.abrirMenuplandeestudios(a,d))}),n(1,"td",30),c(2),r(),f(3,mn,2,1,"td",35),n(4,"td",30),c(5),r(),n(6,"td",30),c(7),r(),n(8,"td"),c(9),r(),n(10,"td"),c(11),r(),n(12,"td",30),c(13),r(),n(14,"td"),c(15),r(),n(16,"td"),c(17),r(),n(18,"td"),c(19),r(),n(20,"td"),c(21),r(),n(22,"td",46)(23,"button",47),g("click",function(){let a=u(e).$implicit,d=m();return _(d.Seleccionarplandeestudios(a.id))})("mouseenter",function(){let a=u(e).$implicit,d=m();return _(d._tools.hoverBotonMap["edicionplandeestudios-"+a.id]=!0)})("mouseleave",function(){let a=u(e).$implicit,d=m();return _(d._tools.hoverBotonMap["edicionplandeestudios-"+a.id]=!1)}),f(24,pn,1,1,"img",48)(25,un,1,1,"ng-lottie",49),r(),n(26,"button",50),g("click",function(){let a=u(e).$implicit,d=m();return _(d.Eliminarplandeestudios(a.id))})("mouseenter",function(){let a=u(e).$implicit,d=m();return _(d._tools.hoverBotonMap["eliminacionplandeestudios-"+a.id]=!0)})("mouseleave",function(){let a=u(e).$implicit,d=m();return _(d._tools.hoverBotonMap["eliminacionplandeestudios-"+a.id]=!1)}),f(27,_n,1,1,"img",48)(28,gn,1,1,"ng-lottie",49),r()()()}if(o&2){let e=i.index,t=i.$implicit,a=m();s(2),x((a.paginaplandeestudios-1)*a.pageSizeplandeestudios+(e+1)),s(),l("ngIf",a.esSuperAdmin),s(2),x(t.RangoLvlCurso),s(2),x(t.Rango),s(2),x(t.LvlCurso),s(2),x(t.NombreMateria),s(2),x(t.Horas),s(2),x(t.ModoMateria),s(2),x(t.SiglaMateria),s(2),x(t.SiglasPrerrequisitos),s(2),x(t.TipoMateria),s(3),l("ngIf",!a._tools.hoverBotonMap["edicionplandeestudios-"+t.id]),s(),l("ngIf",a._tools.hoverBotonMap["edicionplandeestudios-"+t.id]),s(2),l("ngIf",!a._tools.hoverBotonMap["eliminacionplandeestudios-"+t.id]),s(),l("ngIf",a._tools.hoverBotonMap["eliminacionplandeestudios-"+t.id])}}function Cn(o,i){if(o&1&&(n(0,"option",53),c(1),r()),o&2){let e=i.$implicit;l("value",e),s(),w("",e," por p\xE1gina")}}function xn(o,i){if(o&1&&(n(0,"option",53),c(1),r()),o&2){let e=i.$implicit;l("value",e.id),s(),x(e.Anio)}}function hn(o,i){if(o&1&&(n(0,"option",53),c(1),r()),o&2){let e=i.$implicit,t=m(2);l("value",e.id),s(),x(t.esSuperAdmin?e.NombreCarrera+" ("+e.NombreInstitucion+" | "+e.Resolucion+")":e.NombreCarrera+" ("+e.Resolucion+")")}}function bn(o,i){if(o&1&&(n(0,"option",88),c(1),r()),o&2){let e=i.$implicit;l("value",e.value)("disabled",e.disabled),s(),x(e.label)}}function vn(o,i){if(o&1&&(n(0,"option",88),c(1),r()),o&2){let e=i.$implicit;l("value",e.value)("disabled",e.disabled),s(),x(e.label)}}function Sn(o,i){if(o&1&&(n(0,"option",88),c(1),r()),o&2){let e=i.$implicit;l("value",e.value)("disabled",e.disabled),s(),x(e.label)}}function En(o,i){if(o&1&&(n(0,"option",88),c(1),r()),o&2){let e=i.$implicit;l("value",e.value)("disabled",e.disabled),s(),x(e.label)}}function yn(o,i){if(o&1){let e=h();n(0,"button",91),g("click",function(){u(e);let a=m(3);return _(a.AutoCompletarLastplandeestudios())}),n(1,"span",10),C(2,"ng-lottie",11),r(),n(3,"span"),c(4,"AUTO COMPLETAR "),r(),C(5,"span",12),r()}if(o&2){let e=m(3);s(2),l("options",e._tools.optionsautocompletar)}}function Mn(o,i){if(o&1&&(n(0,"div",89),f(1,yn,6,1,"button",90),r()),o&2){let e=m(2);s(),l("ngIf",!e.AnimacionCargabtnModalplandeestudios)}}function wn(o,i){if(o&1){let e=h();n(0,"button",92),g("click",function(){u(e);let a=m().$implicit,d=m();return a.dismiss(),_(d.resetplandeestudios())}),n(1,"span",10),C(2,"ng-lottie",11),r(),n(3,"span"),c(4,"CANCELAR"),r(),C(5,"span",12),r()}if(o&2){let e=m(2);s(2),l("options",e._tools.optionscancelar)}}function An(o,i){if(o&1){let e=h();n(0,"button",93),g("click",function(){u(e);let a=m(2);return _(a.AgregarModificarplandeestudios())}),C(1,"span",94),r()}o&2&&l("disabled",!0)}function In(o,i){if(o&1){let e=h();n(0,"button",95),g("click",function(){u(e);let a=m(2);return _(a.AgregarModificarplandeestudios())}),n(1,"span",10),C(2,"ng-lottie",11),r(),n(3,"span"),c(4),r(),C(5,"span",12),r()}if(o&2){let e,t,a=m(2);s(2),l("options",(e=a.newplandeestudios.get("id"))!=null&&e.value?a._tools.optionsEditar:a._tools.optionsAdicionar),s(2),x((t=a.newplandeestudios.get("id"))!=null&&t.value?"MODIFICAR":"REGISTRAR")}}function Vn(o,i){if(o&1){let e=h();n(0,"div",54)(1,"h4",55),c(2),r(),n(3,"button",56),g("click",function(){let a=u(e).$implicit,d=m();return a.dismiss(),_(d.resetplandeestudios())}),r()(),n(4,"div",57)(5,"form",58)(6,"div",4)(7,"div",59)(8,"select",60)(9,"option",61),c(10,"Seleccione una opci\xF3n"),r(),f(11,xn,2,2,"option",40),r(),n(12,"label"),c(13,"A\xF1o"),r(),n(14,"div",62),c(15,"Este campo es obligatorio*"),r()(),n(16,"div",59)(17,"select",63)(18,"option",61),c(19,"Seleccione una opci\xF3n"),r(),f(20,hn,2,2,"option",40),r(),n(21,"label"),c(22,"Carrera"),r(),n(23,"div",62),c(24,"Este campo es obligatorio*"),r()()(),n(25,"div",4)(26,"div",64),C(27,"input",65),n(28,"label"),c(29,"Nivel"),r(),n(30,"div",62),c(31,"Este campo es obligatorio*"),r()(),n(32,"div",64),C(33,"input",66),n(34,"label"),c(35,"Rango"),r(),n(36,"div",62),c(37,"Este campo es obligatorio*"),r()(),n(38,"div",67)(39,"select",68)(40,"option",69),c(41,"Seleccione una opci\xF3n"),r(),f(42,bn,2,3,"option",70),r(),n(43,"label"),c(44,"Nivel del Curso"),r(),n(45,"div",62),c(46,"Este campo es obligatorio*"),r()(),n(47,"div",67)(48,"input",71),g("change",function(a){u(e);let d=m();return _(d._tools.EscribirEnMayuscula(a,d.newplandeestudios,"NombreMateria"))}),r(),n(49,"label"),c(50,"Nombre Materia"),r(),n(51,"div",62),c(52,"Este campo es obligatorio*"),r()(),n(53,"div",72)(54,"input",73),g("change",function(a){u(e);let d=m();return _(d._tools.EscribirEnMayuscula(a,d.newplandeestudios,"SiglaMateria"))}),r(),n(55,"label"),c(56,"Sigla Materia"),r(),n(57,"div",62),c(58,"Este campo es obligatorio*"),r()()(),n(59,"div",4)(60,"div",72),C(61,"input",74),n(62,"label"),c(63,"Horas"),r(),n(64,"div",62),c(65,"Este campo es obligatorio*"),r()(),n(66,"div",75)(67,"input",76),g("change",function(a){u(e);let d=m();return _(d._tools.EscribirEnMayuscula(a,d.newplandeestudios,"Prerrequisitos"))}),r(),n(68,"label"),c(69,"Prerrequisitos"),r(),n(70,"div",62),c(71,"Este campo es obligatorio*"),r()(),n(72,"div",75)(73,"input",77),g("change",function(a){u(e);let d=m();return _(d._tools.EscribirEnMayuscula(a,d.newplandeestudios,"SiglasPrerrequisitos"))}),r(),n(74,"label"),c(75,"Siglas Prerrequisitos"),r(),n(76,"div",62),c(77,"Este campo es obligatorio*"),r()()(),n(78,"div",4)(79,"div",72)(80,"select",78)(81,"option",69),c(82,"Seleccione una opci\xF3n"),r(),f(83,vn,2,3,"option",70),r(),n(84,"label"),c(85,"Tipo de Materia"),r(),n(86,"div",62),c(87,"Este campo es obligatorio*"),r()(),n(88,"div",67)(89,"select",79)(90,"option",69),c(91,"Seleccione una opci\xF3n"),r(),f(92,Sn,2,3,"option",70),r(),n(93,"label"),c(94,"Modo de Materia"),r(),n(95,"div",62),c(96,"Este campo es obligatorio*"),r()(),n(97,"div",59)(98,"select",80)(99,"option",69),c(100,"Seleccione una opci\xF3n"),r(),f(101,En,2,3,"option",70),r(),n(102,"label"),c(103,"Relaci\xF3n Docente Estudiante"),r(),n(104,"div",62),c(105,"Este campo es obligatorio*"),r()()()()(),n(106,"div",81),f(107,Mn,2,1,"div",82),n(108,"div",83),f(109,wn,6,1,"button",84),r(),n(110,"div",85),f(111,An,2,1,"button",86)(112,In,6,2,"button",87),r()()}if(o&2){let e,t=m();s(2),w("",(e=t.newplandeestudios.get("id"))!=null&&e.value?"Modificar":"Registrar"," plandeestudios"),s(3),l("formGroup",t.newplandeestudios),s(3),l("ngClass",t.ValidacionplandeestudiosxElemento("anio_id")),s(3),l("ngForOf",t.anios),s(6),l("ngClass",t.ValidacionplandeestudiosxElemento("carreras_id")),s(3),l("ngForOf",t.carreras),s(7),l("ngClass",t.ValidacionplandeestudiosxElemento("RangoLvlCurso")),s(6),l("ngClass",t.ValidacionplandeestudiosxElemento("Rango")),s(6),l("ngClass",t.ValidacionplandeestudiosxElemento("LvlCurso")),s(3),l("ngForOf",t.LvlCursoOptions),s(6),l("ngClass",t.ValidacionplandeestudiosxElemento("NombreMateria")),s(6),l("ngClass",t.ValidacionplandeestudiosxElemento("SiglaMateria")),s(7),l("ngClass",t.ValidacionplandeestudiosxElemento("Horas")),s(6),l("ngClass",t.ValidacionplandeestudiosxElemento("Prerrequisitos")),s(6),l("ngClass",t.ValidacionplandeestudiosxElemento("SiglasPrerrequisitos")),s(7),l("ngClass",t.ValidacionplandeestudiosxElemento("TipoMateria")),s(3),l("ngForOf",t.tipoMateriaOptions),s(6),l("ngClass",t.ValidacionplandeestudiosxElemento("ModoMateria")),s(3),l("ngForOf",t.modoMateriaOptions),s(6),l("ngClass",t.ValidacionplandeestudiosxElemento("RelacionDocenteCursoAEstudiante")),s(3),l("ngForOf",t.relacionDocenteEstudianteOptions),s(6),l("ngIf",!t.newplandeestudios.get("id").value),s(2),l("ngIf",!t.AnimacionCargabtnModalplandeestudios),s(2),l("ngIf",t.AnimacionCargabtnModalplandeestudios),s(),l("ngIf",!t.AnimacionCargabtnModalplandeestudios)}}function Tn(o,i){if(o&1){let e=h();n(0,"button",98),g("click",function(){let a=u(e).$implicit;return _(a.action())}),c(1),r()}if(o&2){let e=i.$implicit;s(),w(" ",e.label," ")}}function On(o,i){if(o&1&&(n(0,"div",96),V(1,"async"),V(2,"async"),f(3,Tn,2,1,"button",97),V(4,"async"),r()),o&2){let e,t,a=m();l("ngStyle",v(8,Ki,((e=T(1,2,a.menuStateplandeestudios$))==null?null:e.y)+"px",((e=T(2,4,a.menuStateplandeestudios$))==null?null:e.x)+"px")),s(3),l("ngForOf",(t=T(4,6,a.menuStateplandeestudios$))==null?null:t.items)}}function Pn(o,i){if(o&1){let e=h();n(0,"div",54)(1,"h5",55),c(2,"Componente Gestion de Carreras"),r(),n(3,"button",99),g("click",function(){let a=u(e).$implicit;return _(a.dismiss())}),r()(),n(4,"div",57),C(5,"app-carreras",100),r()}o&2&&(s(5),l("modo","uno")("idAnio","ASDASD"))}function Dn(o,i){if(o&1){let e=h();n(0,"div",54)(1,"h5",55),c(2,"Componente Gestion de Materias"),r(),n(3,"button",99),g("click",function(){let a=u(e).$implicit;return _(a.dismiss())}),r()(),n(4,"div",57),C(5,"app-materias",100),r()}o&2&&(s(5),l("modo","uno")("idAnio","ASDASD"))}var Ve=class Ve{constructor(i,e,t,a,d,p){this._controles=i;this._planest=e;this._tools=t;this._carr=a;this._anios=d;this._auth=p;this.tipoMateriaOptions=[];this.modoMateriaOptions=[];this.relacionDocenteEstudianteOptions=[];this.LvlCursoOptions=[];this.esSuperAdmin=!1;this.plandeestudios=[];this.paginaplandeestudios=1;this.isLoadingplandeestudios=!1;this.AnimacionCargabtnModalplandeestudios=!1;this.filtertxtplandeestudios="";this.filtroAnioId=null;this.filtroResolucionKey="";this.filtroResolucion=null;this.filtroInstitucionId=null;this.resolucionOptions=[];this.collectionSizeplandeestudios=0;this.pageSizeplandeestudios=10;this.pageSizeOptionsplandeestudios=[5,10,20,50];this.sortColumnsplandeestudios=[];this.menuStateplandeestudios$=this._tools.state$;this.carreras=[];this.anios=[];this.newplandeestudios=this._planest.createFormGroupplandeestudios(),this.newplandeestudiosAnteriorAccion=this._planest.createFormGroupplandeestudios()}ngOnInit(){this.cargarCarreras(),this.cargarAnios(),this.cargarOptionsDesdeControles(),this._auth.revisarSiEsSuperAdmin().subscribe(i=>{this.esSuperAdmin=i,this.rebuildResolucionOptions(),this.onFiltroChange()})}cargarOptionsDesdeControles(){let i=["TIPOS MATERIAS","MODOS MATERIAS","RELACI\xD3N DOCENTE ESTUDIANTES","LVLCURSO"];this._controles.ObtenerOptionsSelectPorCategorias(i).subscribe({next:e=>{this.tipoMateriaOptions=e?.["TIPOS MATERIAS"]||[],this.modoMateriaOptions=e?.["MODOS MATERIAS"]||[],this.relacionDocenteEstudianteOptions=e?.["RELACI\xD3N DOCENTE ESTUDIANTES"]||[],this.LvlCursoOptions=e?.LVLCURSO||[]},error:()=>{this.tipoMateriaOptions=[],this.modoMateriaOptions=[],this.relacionDocenteEstudianteOptions=[],this.LvlCursoOptions=[]}})}rebuildResolucionOptions(){let i=new Map;for(let e of this.carreras){let t=(e?.Resolucion??"").toString().trim();if(!t)continue;let a=e?.instituciones_id,d=a!=null&&a!==""?Number(a):null,p=(e?.NombreInstitucion??"").toString().trim(),b=this.esSuperAdmin&&d?`${d}|${t}`:t,O=this.esSuperAdmin&&d?`${t}${p?" \xB7 "+p:""}`:t;i.has(b)||i.set(b,{key:b,label:O,resolucion:t,instituciones_id:d})}this.resolucionOptions=Array.from(i.values()).sort((e,t)=>e.label.localeCompare(t.label))}onFiltroChange(){this.paginaplandeestudios=1;let i=!!this.filtroAnioId,e=!!(this.filtroResolucionKey&&this.filtroResolucionKey.trim());if(!i||!e){this.plandeestudios=[],this.collectionSizeplandeestudios=0;return}this.parseResolucionKey(),this.Cargarplandeestudios()}parseResolucionKey(){let i=(this.filtroResolucionKey??"").toString();if(!i){this.filtroResolucion=null,this.filtroInstitucionId=null;return}let e=i.split("|");if(e.length>=2){let t=Number(e[0]),a=e.slice(1).join("|");this.filtroInstitucionId=Number.isFinite(t)?t:null,this.filtroResolucion=a||null}else this.filtroInstitucionId=null,this.filtroResolucion=i}Cargarplandeestudios(){let i=this.filtroAnioId,e=this.filtroResolucion;if(!i||!e){this.plandeestudios=[],this.collectionSizeplandeestudios=0;return}this.isLoadingplandeestudios=!0,this._planest.Obtenerplandeestudios({anio_id:i,resolucion:e,instituciones_id:this.esSuperAdmin?this.filtroInstitucionId??void 0:void 0}).subscribe({next:t=>{console.log("planes de estudio",t.data),this.plandeestudios=t.data||[],this.collectionSizeplandeestudios=this.plandeestudios.length,this.isLoadingplandeestudios=!1},error:t=>{console.error("Error al cargar plandeestudios",t),this.isLoadingplandeestudios=!1}})}AgregarModificarplandeestudios(){if(this.newplandeestudios.invalid){this.ValidacionTodoElementoplandeestudios(),this._tools.MostrarMensajeFrmIncompleto(),this.AnimacionCargabtnModalplandeestudios=!1;return}else{this.AnimarCargaTablaplandeestudios(),this.AnimacionCargabtnModalplandeestudios=!0,this._tools.MostrarMensajeLoading(),this.newplandeestudiosAnteriorAccion.setValue(this.newplandeestudios.value);let i=this.newplandeestudios.controls.id.value;console.log("INFO A PROCESAR",this.newplandeestudios.value),i?this._planest.Modificarplandeestudios(this.newplandeestudios.value,this.newplandeestudios.value.id).subscribe(e=>{console.log("SE MODIFICO CORRECTAMENTE plandeestudios",e.data),this.Cargarplandeestudios(),this.resetplandeestudios(),this.AnimacionCargabtnModalplandeestudios=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL MODIFICAR plandeestudios",e),this.AnimacionCargabtnModalplandeestudios=!1,this._tools.MostrarMensajeError()}):this._planest.Agregarplandeestudios(this.newplandeestudios.value).subscribe(e=>{console.log("SE A\xD1ADIO CORRECTAMENTE plandeestudios",e.data),this.Cargarplandeestudios(),this.resetplandeestudios(),this.AnimacionCargabtnModalplandeestudios=!1,this._tools.MostrarMensajeSuccess()},e=>{console.log("ERROR AL A\xD1ADIR plandeestudios",e),this.AnimacionCargabtnModalplandeestudios=!1,this._tools.MostrarMensajeError()})}}Seleccionarplandeestudios(i){if(this._tools.MostrarMensajeLoading(),i){if(!this.plandeestudios.find(t=>t.id===i))return;this._planest.Seleccionarplandeestudios(i).subscribe(t=>{Object.keys(this.newplandeestudios.controls).forEach(a=>{this.newplandeestudios.controls[a].setValue(t.data[a])}),console.log("SELECCION DE plandeestudios EXITOSA",this.newplandeestudios.value),this.newplandeestudiosAnteriorAccion.setValue(this.newplandeestudios.value),this.modalGestionplandeestudiosRef=this._tools.openModal(this.modalgestionplandeestudios,"xl"),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL SELECCIONAR plandeestudios",t),this._tools.MostrarMensajeError()})}}Eliminarplandeestudios(i){this._tools.mostrarMensajeConfirm("\xBFSEGURO QUE DESEA ELIMINAR?","SE ELIMINARA EL DATO Y NO SE PODR\xC1 RECUPERAR EL DATO","warning","SI, ESTOY SEGURO","NO").then(e=>{e&&(this._tools.MostrarMensajeLoading(),this._planest.Eliminarplandeestudios(i).subscribe(t=>{console.log(t.data),this.Cargarplandeestudios(),this._tools.MostrarMensajeSuccess()},t=>{console.log("ERROR AL ELIMINAR plandeestudios",t),this._tools.MostrarMensajeError()}))})}resetplandeestudios(){this.newplandeestudios=this._planest.createFormGroupplandeestudios(),this._tools.closeModal(this.modalGestionplandeestudiosRef)}AutoCompletarLastplandeestudios(){this.newplandeestudios.setValue(this.newplandeestudiosAnteriorAccion.value),this.newplandeestudios.patchValue({id:0}),console.log("listo",this.newplandeestudios.value)}AnimarCargaTablaplandeestudios(){this.plandeestudios=[],this.isLoadingplandeestudios=!0}ValidacionplandeestudiosxElemento(i){return this._tools.obtenerValidationClass(this.newplandeestudios,i)}ValidacionTodoElementoplandeestudios(){Object.values(this.newplandeestudios.controls).forEach(i=>{i.markAsTouched(),i.markAsDirty()})}onPageSizeChangeplandeestudios(){this.paginaplandeestudios=1}sortByplandeestudios(i,e){this.sortColumnsplandeestudios=this._tools.handleSort(i,e,this.sortColumnsplandeestudios),this.plandeestudios=this._tools.applyMultiSort(this.plandeestudios,this.sortColumnsplandeestudios)}isSortedplandeestudios(i){return this._tools.isSorted(this.sortColumnsplandeestudios,i)}getSortDirplandeestudios(i){return this._tools.getSortDirection(this.sortColumnsplandeestudios,i)}closeMenu(){this._tools.close()}abrirMenuplandeestudios(i,e){i.preventDefault(),i.stopPropagation();let t=[{label:"\u270F Editar",action:()=>this.Seleccionarplandeestudios(e.id)},{label:"\u{1F5D1}\uFE0F Eliminar",action:()=>this.Eliminarplandeestudios(e.id)}];this._tools.open(i.clientX,i.clientY,t)}cargarCarreras(){this._carr.Obtenercarreras().subscribe({next:i=>{console.log("data carreras",i),this.carreras=i.data||[],this.rebuildResolucionOptions()},error:i=>{console.error("Error al cargar carreras",i),this.resolucionOptions=[]}})}cargarAnios(){this._anios.Obteneranios().subscribe({next:i=>{console.log("data anios",i),this.anios=i.data||[]},error:i=>{console.error("Error al cargar anios",i)}})}};Ve.\u0275fac=function(e){return new(e||Ve)(S(Se),S(we),S(J),S(Z),S(Ee),S(W))},Ve.\u0275cmp=B({type:Ve,selectors:[["app-plandeestudios"]],viewQuery:function(e,t){if(e&1&&ne(qi,7),e&2){let a;re(a=oe())&&(t.modalgestionplandeestudios=a.first)}},hostBindings:function(e,t){e&1&&g("click",function(){return t.closeMenu()},me)},standalone:!1,decls:104,vars:40,consts:[["modalgestionplandeestudios",""],["modalOtroComponentecarreras",""],["modalOtroComponentematerias",""],[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"lead","text-secondary","subtitulosGlobales"],[1,"col-sm-6","d-flex","justify-content-start","button",2,"gap","10px"],[1,"btn","mouse-dir","primary","d-flex","align-items-center",2,"gap","8px",3,"click"],[2,"display","flex","align-items","center","justify-content","center","width","30px","height","30px"],["width","50px","height","50px",3,"options"],[1,"dir-part"],[1,"col-sm-3","d-flex","justify-content-end",2,"gap","10px"],[1,"form-floating",2,"min-width","140px"],["title","Filtrar por A\xF1o",1,"form-control",3,"ngModelChange","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],[1,"form-floating",2,"min-width","180px"],["title","Filtrar por Resoluci\xF3n",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-sm-3","d-flex","justify-content-end"],[1,"input-group"],[1,"input-group-text"],["width","30px","height","30px",3,"options"],[1,"form-floating"],["type","text","placeholder","Buscar","title","Filtrar/Buscar",1,"form-control",3,"input","ngModelChange","ngModel"],[1,"mt-4"],[1,"table-responsive"],[1,"table","table-striped","table-hover","table-sm","align-middle"],[1,""],[1,"text-center"],["style","user-select: none; -webkit-user-select: none; -moz-user-select: none;",3,"click",4,"ngIf"],[2,"user-select","none","-webkit-user-select","none","-moz-user-select","none",3,"click"],["class","bi",3,"ngClass",4,"ngIf"],["title","Sigla Prerrequisitos",2,"user-select","none","-webkit-user-select","none","-moz-user-select","none",3,"click"],[4,"ngIf"],["style","cursor: pointer;",3,"contextmenu",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","mt-3"],["previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange","page","collectionSize","pageSize","maxSize","rotate","ellipses","boundaryLinks"],[1,"form-select",2,"width","auto",3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","context-menu",3,"ngStyle",4,"ngIf"],[1,"bi",3,"ngClass"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[2,"cursor","pointer",3,"contextmenu"],[1,"text-center","d-flex","justify-content-center","align-items-center",2,"gap","5px"],["title","Modificar informaci\xF3n",1,"btn","btn-outline-warning","btn-sm","d-flex","justify-content-center","align-items-center","p-0",2,"width","40px","height","40px","overflow","hidden",3,"click","mouseenter","mouseleave"],["width","20",3,"src",4,"ngIf"],["width","30px","height","35px",3,"options",4,"ngIf"],["title","Eliminar informaci\xF3n",1,"btn","btn-outline-danger","btn-sm","d-flex","justify-content-center","align-items-center","p-0",2,"width","40px","height","40px","overflow","hidden",3,"click","mouseenter","mouseleave"],["width","20",3,"src"],["width","30px","height","35px",3,"options"],[3,"value"],[1,"modal-header"],[1,"modal-title"],["type","button","title","cerrar",1,"btn-close",3,"click"],[1,"modal-body"],["novalidate","",3,"formGroup"],[1,"form-floating","mb-3","col-sm-6"],["formControlName","anio_id",1,"form-control",3,"ngClass"],["disabled","","selected","",3,"value"],[1,"invalid-feedback"],["formControlName","carreras_id",1,"form-control",3,"ngClass"],[1,"form-floating","mb-3","col-sm-1"],["type","number","placeholder","","formControlName","RangoLvlCurso",1,"form-control",3,"ngClass"],["type","number","placeholder","","formControlName","Rango",1,"form-control",3,"ngClass"],[1,"form-floating","mb-3","col-sm-4"],["formControlName","LvlCurso",1,"form-control",3,"ngClass"],["disabled","",3,"value"],[3,"value","disabled",4,"ngFor","ngForOf"],["type","text","placeholder","","formControlName","NombreMateria",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],[1,"form-floating","mb-3","col-sm-2"],["type","text","placeholder","","formControlName","SiglaMateria",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","number","placeholder","","formControlName","Horas",1,"form-control",3,"ngClass"],[1,"form-floating","mb-3","col-sm-5"],["type","text","placeholder","","formControlName","Prerrequisitos",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["type","text","placeholder","","formControlName","SiglasPrerrequisitos",1,"form-control",2,"text-transform","uppercase",3,"change","ngClass"],["formControlName","TipoMateria",1,"form-control",3,"ngClass"],["formControlName","ModoMateria",1,"form-control",3,"ngClass"],["formControlName","RelacionDocenteCursoAEstudiante",1,"form-control",3,"ngClass"],[1,"modal-footer"],["class","button d-flex justify-content-start",4,"ngIf"],[1,"button","me-2"],["title","Cancelar y cerrar","class","btn mouse-dir secondary d-flex align-items-center","style"," gap: 8px;",3,"click",4,"ngIf"],[1,"button"],["class","btn mouse-dir success","title","Procesando informaci\xF3n",3,"disabled","click",4,"ngIf"],["class","btn mouse-dir primary d-flex align-items-center","style"," gap: 8px;","title","Accionar",3,"click",4,"ngIf"],[3,"value","disabled"],[1,"button","d-flex","justify-content-start"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n","class","btn mouse-dir secondary d-flex align-items-center","style"," gap: 8px;",3,"click",4,"ngIf"],["title","Se Autocompletar\xE1 la ultima informaci\xF3n",1,"btn","mouse-dir","secondary","d-flex","align-items-center",2,"gap","8px",3,"click"],["title","Cancelar y cerrar",1,"btn","mouse-dir","secondary","d-flex","align-items-center",2,"gap","8px",3,"click"],["title","Procesando informaci\xF3n",1,"btn","mouse-dir","success",3,"click","disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],["title","Accionar",1,"btn","mouse-dir","primary","d-flex","align-items-center",2,"gap","8px",3,"click"],[1,"context-menu",3,"ngStyle"],["class","context-item",3,"click",4,"ngFor","ngForOf"],[1,"context-item",3,"click"],["type","button","aria-label","Cerrar",1,"btn-close",3,"click"],[3,"modo","idAnio"]],template:function(e,t){if(e&1){let a=h();n(0,"div",3)(1,"div",4)(2,"div",5)(3,"h1",6),c(4,"Gesti\xF3n de Plan de Estudios"),r(),n(5,"p",7),c(6,'Administra la informaci\xF3n de los "Planes de estudios", "Materias" y "Carreras" de manera sencilla y eficiente'),r()()()(),n(7,"div",4)(8,"div",8)(9,"button",9),g("click",function(){u(a);let p=ke(97);return _(t.modalGestionplandeestudiosRef=t._tools.openModal(p,"xl"))}),n(10,"span",10),C(11,"ng-lottie",11),r(),n(12,"span"),c(13,"A\xF1adir plandeestudios "),r(),C(14,"span",12),r(),n(15,"button",9),g("click",function(){u(a);let p=ke(101);return _(t._tools.openModal(p,"xl"))}),n(16,"span",10),C(17,"ng-lottie",11),r(),n(18,"span"),c(19,"GESTIONAR CARRERAS"),r(),C(20,"span",12),r(),n(21,"button",9),g("click",function(){u(a);let p=ke(103);return _(t._tools.openModal(p,"xl"))}),n(22,"span",10),C(23,"ng-lottie",11),r(),n(24,"span"),c(25,"GESTIONAR MATERIAS"),r(),C(26,"span",12),r()(),n(27,"div",13)(28,"div",14)(29,"select",15),M("ngModelChange",function(p){return u(a),y(t.filtroAnioId,p)||(t.filtroAnioId=p),_(p)}),g("ngModelChange",function(){return u(a),t.paginaplandeestudios=1,_(t.onFiltroChange())}),n(30,"option",16),c(31,"Seleccione una opci\xF3n"),r(),f(32,Qi,2,2,"option",17),r(),n(33,"label"),c(34,"A\xF1o"),r()(),n(35,"div",18)(36,"select",19),M("ngModelChange",function(p){return u(a),y(t.filtroResolucionKey,p)||(t.filtroResolucionKey=p),_(p)}),g("ngModelChange",function(){return u(a),t.paginaplandeestudios=1,_(t.onFiltroChange())}),n(37,"option",16),c(38,"Seleccione una opci\xF3n"),r(),f(39,Yi,2,2,"option",17),r(),n(40,"label"),c(41,"Resoluci\xF3n"),r()()(),n(42,"div",20)(43,"div",21)(44,"span",22),C(45,"ng-lottie",23),r(),n(46,"div",24)(47,"input",25),g("input",function(){return u(a),_(t.paginaplandeestudios=1)}),M("ngModelChange",function(p){return u(a),y(t.filtertxtplandeestudios,p)||(t.filtertxtplandeestudios=p),_(p)}),r(),n(48,"label"),c(49,"Buscar"),r()()()()(),n(50,"div",26)(51,"div",27)(52,"table",28)(53,"thead",29)(54,"tr")(55,"th",30),c(56,"#"),r(),f(57,Ji,3,1,"th",31),n(58,"th",32),g("click",function(p){return u(a),_(t.sortByplandeestudios("RangoLvlCurso",p))}),c(59," Nivel "),f(60,Zi,1,4,"i",33),r(),n(61,"th",32),g("click",function(p){return u(a),_(t.sortByplandeestudios("Rango",p))}),c(62," Rango "),f(63,en,1,4,"i",33),r(),n(64,"th",32),g("click",function(p){return u(a),_(t.sortByplandeestudios("LvlCurso",p))}),c(65," Nivel Curso "),f(66,tn,1,4,"i",33),r(),n(67,"th",32),g("click",function(p){return u(a),_(t.sortByplandeestudios("NombreMateria",p))}),c(68," NombreMateria "),f(69,nn,1,4,"i",33),r(),n(70,"th",32),g("click",function(p){return u(a),_(t.sortByplandeestudios("Horas",p))}),c(71," Horas "),f(72,rn,1,4,"i",33),r(),n(73,"th",32),g("click",function(p){return u(a),_(t.sortByplandeestudios("ModoMateria",p))}),c(74," Modo Materia "),f(75,on,1,4,"i",33),r(),n(76,"th",32),g("click",function(p){return u(a),_(t.sortByplandeestudios("SiglaMateria",p))}),c(77," Sigla "),f(78,an,1,4,"i",33),r(),n(79,"th",34),g("click",function(p){return u(a),_(t.sortByplandeestudios("SiglasPrerrequisitos",p))}),c(80," Sigla Pre. "),f(81,sn,1,4,"i",33),r(),n(82,"th",32),g("click",function(p){return u(a),_(t.sortByplandeestudios("TipoMateria",p))}),c(83," TipoMateria "),f(84,ln,1,4,"i",33),r(),n(85,"th",30),c(86,"ACCIONES"),r()()(),n(87,"tbody"),f(88,cn,5,1,"tr",35)(89,dn,3,1,"tr",35)(90,fn,29,15,"tr",36),V(91,"slice"),r()()(),n(92,"div",37)(93,"ngb-pagination",38),M("pageChange",function(p){return u(a),y(t.paginaplandeestudios,p)||(t.paginaplandeestudios=p),_(p)}),r(),n(94,"select",39),M("ngModelChange",function(p){return u(a),y(t.pageSizeplandeestudios,p)||(t.pageSizeplandeestudios=p),_(p)}),g("change",function(){return u(a),_(t.onPageSizeChangeplandeestudios())}),f(95,Cn,2,2,"option",40),r()()(),f(96,Vn,113,25,"ng-template",null,0,L)(98,On,5,11,"div",41),V(99,"async"),f(100,Pn,6,2,"ng-template",null,1,L)(102,Dn,6,2,"ng-template",null,2,L)}if(e&2){let a;s(11),l("options",t._tools.optionsAdicionar),s(6),l("options",t._tools.optionssubgestion),s(6),l("options",t._tools.optionssubgestion),s(6),E("ngModel",t.filtroAnioId),s(),l("ngValue",null),s(2),l("ngForOf",t.anios),s(4),E("ngModel",t.filtroResolucionKey),s(),l("ngValue",null),s(2),l("ngForOf",t.resolucionOptions),s(6),l("options",t._tools.optionslupa),s(2),E("ngModel",t.filtertxtplandeestudios),s(10),l("ngIf",t.esSuperAdmin),s(3),l("ngIf",t.isSortedplandeestudios("RangoLvlCurso")),s(3),l("ngIf",t.isSortedplandeestudios("Rango")),s(3),l("ngIf",t.isSortedplandeestudios("LvlCurso")),s(3),l("ngIf",t.isSortedplandeestudios("NombreMateria")),s(3),l("ngIf",t.isSortedplandeestudios("Horas")),s(3),l("ngIf",t.isSortedplandeestudios("ModoMateria")),s(3),l("ngIf",t.isSortedplandeestudios("SiglaMateria")),s(3),l("ngIf",t.isSortedplandeestudios("SiglasPrerrequisitos")),s(3),l("ngIf",t.isSortedplandeestudios("TipoMateria")),s(4),l("ngIf",t.isLoadingplandeestudios),s(),l("ngIf",!t.isLoadingplandeestudios&&(!t.plandeestudios||t.plandeestudios.length===0)),s(),l("ngForOf",pe(91,34,t.plandeestudios,(t.paginaplandeestudios-1)*t.pageSizeplandeestudios,t.paginaplandeestudios*t.pageSizeplandeestudios)),s(3),E("page",t.paginaplandeestudios),l("collectionSize",t.collectionSizeplandeestudios)("pageSize",t.pageSizeplandeestudios)("maxSize",5)("rotate",!0)("ellipses",!1)("boundaryLinks",!0),s(),E("ngModel",t.pageSizeplandeestudios),s(),l("ngForOf",t.pageSizeOptionsplandeestudios),s(3),l("ngIf",(a=T(99,38,t.menuStateplandeestudios$))==null?null:a.visible)}},dependencies:[$,z,H,ue,xe,Y,X,fe,ze,Q,q,Ce,K,he,be,ve,U,Me,Ie,_e,ge],encapsulation:2});var We=Ve;var le=class le{constructor(i){this.http=i;this.ruta=Be.ruta}Obtenerplanteldocentesmaterias(i){let e=new je,t=i;return t?.planteldocentes_id&&(e=e.set("planteldocentes_id",String(t.planteldocentes_id))),t?.anio_id&&(e=e.set("anio_id",String(t.anio_id))),t?.resolucion&&(e=e.set("resolucion",String(t.resolucion))),t?.instituciones_id&&(e=e.set("instituciones_id",String(t.instituciones_id))),this.http.get(this.ruta+"api/planteldocentesmaterias/",{params:e})}ObtenerplanteldocentesmateriasPorDocente(i){return this.Obtenerplanteldocentesmaterias({planteldocentes_id:i})}AsignarMateriaADocente(i){return this.http.post(this.ruta+"api/planteldocentesmaterias/assign",i)}QuitarMateriaADocente(i){return this.http.post(this.ruta+"api/planteldocentesmaterias/unassign",i)}Agregarplanteldocentesmaterias(i){return this.http.post(this.ruta+"api/planteldocentesmaterias/",i)}Modificarplanteldocentesmaterias(i,e){return this.http.put(this.ruta+"api/planteldocentesmaterias/"+e,i)}Seleccionarplanteldocentesmaterias(i){return this.http.get(this.ruta+"api/planteldocentesmaterias/"+i)}Eliminarplanteldocentesmaterias(i){return this.http.delete(this.ruta+"api/planteldocentesmaterias/"+i)}createFormGroupplanteldocentesmaterias(){return new $e({id:new A(0),planteldocentes_id:new A(""),materias_id:new A("")})}};le.\u0275fac=function(e){return new(e||le)(Ne(Ge))},le.\u0275prov=De({token:le,factory:le.\u0275fac,providedIn:"root"});var Ue=le;var vt=o=>({checked:o,"custom-border":!0});function Nn(o,i){if(o&1&&(n(0,"option",12),c(1),r()),o&2){let e=i.$implicit;l("ngValue",e.id),s(),x(e.Anio)}}function Fn(o,i){if(o&1&&(n(0,"option",12),c(1),r()),o&2){let e=i.$implicit;l("ngValue",e.key),s(),x(e.label)}}function kn(o,i){if(o&1){let e=h();n(0,"tr")(1,"td"),c(2),r(),n(3,"td"),c(4),r(),n(5,"td")(6,"button",49),g("click",function(){let a=u(e).$implicit,d=m(2);return _(d.seleccionarDocenteDemo(a))}),c(7," Seleccionar "),r()()()}if(o&2){let e=i.$implicit,t=m(2);s(2),Ze("",e.nombre," (#",e.id,")"),s(2),x(e.cantMaterias||0),s(2),l("disabled",!t.esDocenteSeleccionable(e))}}function Ln(o,i){o&1&&(n(0,"tr")(1,"td",50),c(2,"Sin pendientes"),r()())}function jn(o,i){if(o&1){let e=h();n(0,"div",41)(1,"div",42)(2,"span"),c(3,"DOCENTES SIN ASIGNACIONES (sin materias asignadas)"),r()(),n(4,"div",23)(5,"div",7)(6,"span",8),C(7,"i",27),r(),n(8,"div",10)(9,"input",43),g("input",function(a){u(e);let d=m();return _(d.filterPendientesDocentes=a.target.value)}),r(),n(10,"label"),c(11,"Buscar (nombre)"),r()()()(),n(12,"div",44)(13,"table",45)(14,"thead")(15,"tr")(16,"th"),c(17,"Docente"),r(),n(18,"th",46),c(19,"Materias asignadas"),r(),n(20,"th",47),c(21,"Acci\xF3n"),r()()(),n(22,"tbody"),f(23,kn,8,4,"tr",48)(24,Ln,3,0,"tr",39),r()()()()}if(o&2){let e=m();s(9),l("value",e.filterPendientesDocentes),s(14),l("ngForOf",e.docentesPendientesFiltrados())("ngForTrackBy",e.trackById),s(),l("ngIf",e.docentesPendientesFiltrados().length===0)}}function Gn(o,i){if(o&1){let e=h();n(0,"button",51),g("click",function(){let a=u(e).$implicit,d=m();return _(d.seleccionarDocenteDemo(a))}),c(1),n(2,"span",52),c(3),r()()}if(o&2){let e=i.$implicit,t=m();Le("active",(t.docenteSeleccionadoDemo==null?null:t.docenteSeleccionadoDemo.id)===e.id),l("disabled",!t.esDocenteSeleccionable(e)),s(),Ze(" ",e.nombre," (#",e.id,") "),s(2),w(" - ",e.cantMaterias||0," materias")}}function Bn(o,i){o&1&&(n(0,"small",52),c(1,"Selecciona un docente para habilitar los toggles."),r())}function $n(o,i){if(o&1&&(n(0,"h3",53),c(1," Docente Seleccionado: "),n(2,"b"),c(3),r()()),o&2){let e=m();s(3),x(e.docenteSeleccionadoDemo.nombre)}}function zn(o,i){if(o&1&&(n(0,"option",12),c(1),r()),o&2){let e=i.$implicit;l("ngValue",e.id),s(),x(e.Anio)}}function Hn(o,i){if(o&1&&(n(0,"option",12),c(1),r()),o&2){let e=i.$implicit;l("ngValue",e.key),s(),x(e.label)}}function Wn(o,i){if(o&1){let e=h();n(0,"div",54)(1,"div",6)(2,"div",7)(3,"span",8),C(4,"i",9),r(),n(5,"div",10)(6,"select",55),M("ngModelChange",function(a){u(e);let d=m();return y(d.filtroAnioId,a)||(d.filtroAnioId=a),_(a)}),g("change",function(){u(e);let a=m();return _(a.onCambioFiltrosAsignacion())}),n(7,"option",12),c(8,"-- Seleccione --"),r(),f(9,zn,2,2,"option",13),r(),n(10,"label",56),c(11,"A\xF1o (Gesti\xF3n)"),r()()()(),n(12,"div",57)(13,"div",7)(14,"span",8),C(15,"i",15),r(),n(16,"div",10)(17,"select",58),M("ngModelChange",function(a){u(e);let d=m();return y(d.filtroResolucionKey,a)||(d.filtroResolucionKey=a),_(a)}),g("change",function(){u(e);let a=m();return _(a.onCambioFiltrosAsignacion())}),n(18,"option",12),c(19,"-- Seleccione --"),r(),f(20,Hn,2,2,"option",13),r(),n(21,"label",59),c(22,"Resoluci\xF3n"),r()()()()()}if(o&2){let e=m();s(6),E("ngModel",e.filtroAnioId),s(),l("ngValue",null),s(2),l("ngForOf",e.aniosOptions),s(8),E("ngModel",e.filtroResolucionKey),s(),l("ngValue",""),s(2),l("ngForOf",e.resolucionOptions)}}function Un(o,i){if(o&1){let e=h();n(0,"button",71),g("click",function(){let a=u(e).$implicit,d=m(2);return _(d.toggleLvlCurso(a))}),c(1),r()}if(o&2){let e=i.$implicit,t=m(2);Le("active",t.isLvlCursoSeleccionado(e)),s(),w(" ",e," ")}}function qn(o,i){if(o&1){let e=h();n(0,"button",72),g("click",function(){let a=u(e).$implicit,d=m(2);return _(d.toggleParalelo(a))}),c(1),r()}if(o&2){let e=i.$implicit,t=m(2);Le("active",t.isParaleloSeleccionado(e)),s(),w(" ",e," ")}}function Kn(o,i){if(o&1&&(n(0,"div",82),c(1),r()),o&2){let e=i.ngIf;s(),w(" Docentes: ",e," ")}}function Qn(o,i){o&1&&(n(0,"div",83)(1,"span",84),c(2,"Cargando..."),r()())}function Yn(o,i){if(o&1){let e=h();n(0,"div",77)(1,"button",78),g("click",function(a){let d=u(e).$implicit,p=m(4);return _(p.toggleAsignacionDemo(d,a))}),n(2,"span",79),c(3),r(),n(4,"span"),c(5),r()(),f(6,Kn,2,1,"div",80)(7,Qn,3,0,"div",81),r()}if(o&2){let e=i.$implicit,t=m(4);l("ngClass",et(7,vt,t.isAsignadaDemo(e.id))),s(),l("disabled",!t.docenteSeleccionadoDemo||t.isLoadingMateria[e.id]),s(),l("ngClass",t.isAsignadaDemo(e.id)?"bg-success":"bg-secondary"),s(),w(" ",t.isAsignadaDemo(e.id)?"ASIGNADO":"NO"," "),s(2),x((e.sigla?e.sigla+" - ":"")+e.nombre),s(),l("ngIf",t.docentesAsignadosEnMateriaTexto(e.id)),s(),l("ngIf",t.isLoadingMateria[e.id])}}function Xn(o,i){if(o&1&&(n(0,"div")(1,"h5",74),c(2),r(),n(3,"div",75),f(4,Yn,8,9,"div",76),r(),C(5,"hr"),r()),o&2){let e=i.$implicit,t=m(3);s(2),x(e),s(2),l("ngForOf",t.materiasPorCategoria(e))}}function Jn(o,i){if(o&1&&(Xe(0),f(1,Xn,6,2,"div",73),Je()),o&2){let e=m(2);s(),l("ngForOf",e.categoriasDemo())}}function Zn(o,i){if(o&1&&(n(0,"span"),c(1),r()),o&2){let e=m().$implicit;s(),x(e.lvlCurso)}}function er(o,i){if(o&1&&(n(0,"span"),c(1),r()),o&2){let e=m().$implicit;s(),w(" - ",e.paralelo)}}function tr(o,i){if(o&1&&(n(0,"div",82),c(1),r()),o&2){let e=i.ngIf;s(),w(" Docentes: ",e," ")}}function ir(o,i){o&1&&(n(0,"div",83)(1,"span",84),c(2,"Cargando..."),r()())}function nr(o,i){if(o&1){let e=h();n(0,"div",77)(1,"button",78),g("click",function(a){let d=u(e).$implicit,p=m(3);return _(p.toggleAsignacionDemo(d,a))}),n(2,"span",79),c(3),r(),n(4,"span"),c(5),r()(),n(6,"div",82),f(7,Zn,2,1,"span",39)(8,er,2,1,"span",39),r(),f(9,tr,2,1,"div",80)(10,ir,3,0,"div",81),r()}if(o&2){let e=i.$implicit,t=m(3);l("ngClass",et(9,vt,t.isAsignadaDemo(e.id))),s(),l("disabled",!t.docenteSeleccionadoDemo||t.isLoadingMateria[e.id]),s(),l("ngClass",t.isAsignadaDemo(e.id)?"bg-success":"bg-secondary"),s(),w(" ",t.isAsignadaDemo(e.id)?"ASIGNADO":"NO"," "),s(2),x((e.sigla?e.sigla+" - ":"")+e.nombre),s(2),l("ngIf",e.lvlCurso),s(),l("ngIf",e.paralelo),s(),l("ngIf",t.docentesAsignadosEnMateriaTexto(e.id)),s(),l("ngIf",t.isLoadingMateria[e.id])}}function rr(o,i){if(o&1&&(Xe(0),n(1,"div",75),f(2,nr,11,11,"div",76),r(),Je()),o&2){let e=m(2);s(2),l("ngForOf",e.materiasFiltradasDemo())}}function or(o,i){if(o&1){let e=h();n(0,"div")(1,"div",54)(2,"div",60)(3,"div",7)(4,"span",8),C(5,"i",61),r(),n(6,"div",10)(7,"input",62),g("input",function(a){u(e);let d=m();return _(d.filterMateria=a.target.value)}),r(),n(8,"label"),c(9,"Buscar materia (sigla/nombre/ID)"),r()()()(),n(10,"div",63)(11,"div",64)(12,"input",65),g("change",function(){u(e);let a=m();return _(a.toggleModoCategorias())}),r(),n(13,"label",66),c(14,"Con categor\xEDas"),r()(),n(15,"div",67)(16,"small",68),c(17,"Cursos:"),r(),f(18,Un,2,3,"button",69),r(),n(19,"div",67)(20,"small",68),c(21,"Paralelos:"),r(),f(22,qn,2,3,"button",70),r()()(),f(23,Jn,2,1,"ng-container",39)(24,rr,3,1,"ng-container",39),r()}if(o&2){let e=m();s(7),l("value",e.filterMateria),s(5),l("checked",e.modoCategorias),s(6),l("ngForOf",e.lvlCursosDetectados()),s(4),l("ngForOf",e.paralelosDetectados()),s(),l("ngIf",e.modoCategorias),s(),l("ngIf",!e.modoCategorias)}}function ar(o,i){o&1&&(n(0,"tr")(1,"td",87),c(2," Selecciona un docente para ver asignaciones. "),r()())}function sr(o,i){if(o&1){let e=h();n(0,"tr")(1,"td"),c(2),r(),n(3,"td"),c(4),r(),n(5,"td"),c(6),r(),n(7,"td"),c(8),r(),n(9,"td"),c(10),r(),n(11,"td")(12,"button",88),g("click",function(){let a=u(e).$implicit,d=m(2);return _(d.quitarAsignacionTabla(a.materiaId))}),c(13," Quitar "),r()()()}if(o&2){let e=i.$implicit,t=i.index,a=m(2);s(2),x(t+1),s(2),x(e.docente),s(2),x(e.categoria),s(2),x(e.materia),s(2),x(e.paralelo),s(2),l("disabled",!a.docenteSeleccionadoDemo||a.isLoadingMateria[e.materiaId])}}function lr(o,i){o&1&&(n(0,"tr")(1,"td",89),c(2,"Sin asignaciones (demo)"),r()())}function cr(o,i){if(o&1&&(n(0,"div",44)(1,"table",85)(2,"thead")(3,"tr")(4,"th"),c(5,"#"),r(),n(6,"th"),c(7,"Docente"),r(),n(8,"th"),c(9,"Categoria"),r(),n(10,"th"),c(11,"Materia"),r(),n(12,"th"),c(13,"Paralelo"),r(),n(14,"th"),c(15,"Acci\xF3n"),r()()(),n(16,"tbody",86),f(17,ar,3,0,"tr",39)(18,sr,14,6,"tr",73)(19,lr,3,0,"tr",39),r()()()),o&2){let e=m();s(17),l("ngIf",!e.docenteSeleccionadoDemo),s(),l("ngForOf",e.tablaAsignacionesDemo()),s(),l("ngIf",e.docenteSeleccionadoDemo&&e.tablaAsignacionesDemo().length===0)}}var Te=class Te{constructor(i,e,t,a,d,p,b){this._mat=i;this._tools=e;this._planteldoc=t;this._planteldocmat=a;this._carreras=d;this._anios=p;this._auth=b;this.ModoBoolean=!1;this.filterDocente="";this.filterMateria="";this.docentesDemo=[];this.materiasDemo=[];this.docenteSeleccionadoDemo=null;this.paraleloDemo="";this.modoCategorias=!0;this.aniosOptions=[];this.filtroAnioId=null;this.filtroResolucionKey="";this.filtroResolucion=null;this.filtroInstitucionId=null;this.resolucionOptions=[];this.esSuperAdmin=!1;this.carreras=[];this.verPendientesDocentes=!1;this.filterPendientesDocentes="";this.selectedLvlCursos=new Set;this.selectedParalelos=new Set;this.asignacionesDemo=new Map;this.docentesPorMateria=new Map;this.isLoadingMateria={};this.docentes=[];this.materias=[]}ngOnInit(){this.cargarFiltrosAsignacion(),this.cargardocentes(),this._auth.revisarSiEsSuperAdmin().subscribe(i=>{this.esSuperAdmin=i,this.rebuildResolucionOptions(),this.onCambioFiltrosAsignacion()})}cargarFiltrosAsignacion(){this._anios.Obteneranios().subscribe({next:i=>{let e=Array.isArray(i?.data)?i.data:[];this.aniosOptions=e.map(t=>({id:Number(t?.id),Anio:String(t?.Anio??"").trim()})).filter(t=>Number.isFinite(t.id)&&t.id>0&&t.Anio)},error:()=>{this.aniosOptions=[]}}),this._carreras.Obtenercarreras().subscribe({next:i=>{this.carreras=Array.isArray(i?.data)?i.data:[],this.rebuildResolucionOptions()},error:()=>{this.carreras=[],this.rebuildResolucionOptions()}})}rebuildResolucionOptions(){let i=new Map;for(let e of this.carreras||[]){let t=(e?.Resolucion??"").toString().trim();if(!t)continue;let a=e?.instituciones_id,d=a!=null&&a!==""?Number(a):null,p=(e?.NombreInstitucion??"").toString().trim(),b=this.esSuperAdmin&&d?`${d}|${t}`:t,O=this.esSuperAdmin&&d?`${t}${p?" ("+p+")":""}`:t;i.has(b)||i.set(b,{key:b,label:O,resolucion:t,instituciones_id:d})}this.resolucionOptions=Array.from(i.values()).sort((e,t)=>e.label.localeCompare(t.label))}onCambioFiltrosAsignacion(){this.selectedLvlCursos.clear(),this.selectedParalelos.clear(),this.recargarDatosPorFiltro()}togglePendientesDocentes(){this.verPendientesDocentes=!this.verPendientesDocentes}docentesPendientesFiltrados(){let i=(this.filterPendientesDocentes??"").trim().toLowerCase(),e=this.docentesDemo.filter(t=>(t.cantMaterias??0)===0);return i?e.filter(t=>`${t.id} ${t.nombre}`.toLowerCase().includes(i)):e}esDocenteSeleccionable(i){return i?(i.estado??"").toString().trim().toUpperCase()!=="INACTIVO":!1}cargardocentes(){this._planteldoc.Obtenerplanteldocentes().subscribe({next:i=>{if(console.log("data plantel docente",i.data),this.docentes=i.data,this.docentesDemo=(Array.isArray(i.data)?i.data:[]).map(e=>{let t=(e?.Nombres??"").toString().trim(),a=(e?.Apellidos??"").toString().trim(),d=`${t} ${a}`.trim()||`Docente #${e?.id}`,p=(e?.Visibilidad??"").toString().trim().toUpperCase(),b=(e?.Estado??"").toString().trim().toUpperCase();return{id:Number(e?.id),nombre:d,cantMaterias:0,visibilidad:p,estado:b}}).filter(e=>Number.isFinite(e.id)&&(e.visibilidad??"").toString().trim().toUpperCase()==="VISIBLE"),this.docenteSeleccionadoDemo){let e=this.docentesDemo.find(t=>t.id===this.docenteSeleccionadoDemo?.id);(!e||!this.esDocenteSeleccionable(e))&&(this.docenteSeleccionadoDemo=null)}this.recalcularConteosDocentes()},error:i=>{console.error("Error al cargar los docentes:",i)}})}parseResolucionKey(){let i=(this.filtroResolucionKey??"").toString();if(!i){this.filtroResolucion=null,this.filtroInstitucionId=null;return}let e=i.split("|");if(e.length>=2){let t=Number(e[0]),a=e.slice(1).join("|");this.filtroInstitucionId=Number.isFinite(t)?t:null,this.filtroResolucion=a||null}else this.filtroInstitucionId=null,this.filtroResolucion=i}getFiltroParams(){let i=this.filtroAnioId,e=!!(this.filtroResolucionKey&&this.filtroResolucionKey.toString().trim());return!i||!e||(this.parseResolucionKey(),!this.filtroResolucion)?null:{anio_id:i,resolucion:this.filtroResolucion,instituciones_id:this.esSuperAdmin?this.filtroInstitucionId??void 0:void 0}}recargarDatosPorFiltro(){let i=this.getFiltroParams();if(!i){this.materias=[],this.materiasDemo=[],this.asignacionesDemo.clear(),this.docentesPorMateria.clear(),this.recalcularConteosDocentes();return}Pe({materias:this._mat.Obtenermaterias(i).pipe(te(e=>e?.data||[]),ie(e=>(console.error("Error al cargar materias (filtro global)",e),ee([])))),asignaciones:this._planteldocmat.Obtenerplanteldocentesmaterias(i).pipe(te(e=>e?.data||[]),ie(e=>(console.error("Error al cargar asignaciones (filtro global)",e),ee([]))))}).subscribe({next:({materias:e,asignaciones:t})=>{this.materias=e||[],this.materiasDemo=(Array.isArray(e)?e:[]).map(d=>{let p=(d?.NombreMateria??"").toString().trim()||`Materia #${d?.id}`,b=(d?.SiglaMateria??"").toString().trim()||void 0,O=(d?.ModoMateria??"").toString().trim()||void 0,P=(d?.Anio??"SIN ASIGNAR").toString().trim()||"SIN ASIGNAR",I=(d?.Resolucion??"SIN RESOLUCION").toString().trim()||"SIN RESOLUCION",R=(d?.LvlCurso??"SIN CURSO").toString().trim()||"SIN CURSO",G=(d?.Paralelo??"").toString().trim(),Qe=G?`${R} ${G}`:R;return{id:Number(d?.id),categoria:Qe,sigla:b,nombre:p,modoMateria:O,lvlCurso:R,paralelo:G,anio:P,resolucion:I}}).filter(d=>Number.isFinite(d.id));let a=new Set(this.materiasDemo.map(d=>d.id));this.asignacionesDemo.clear(),this.docentesPorMateria.clear();for(let d of Array.isArray(t)?t:[]){let p=Number(d.planteldocentes_id??d.planteldocente_id),b=Number(d.materias_id??d.materia_id);!Number.isFinite(p)||!Number.isFinite(b)||a.has(b)&&(this.asignacionesDemo.has(p)||this.asignacionesDemo.set(p,new Set),this.asignacionesDemo.get(p)?.add(b),this.docentesPorMateria.has(b)||this.docentesPorMateria.set(b,new Set),this.docentesPorMateria.get(b)?.add(p))}this.recalcularConteosDocentes()},error:e=>{console.error(e)}})}recalcularConteosDocentes(){Array.isArray(this.docentesDemo)&&(this.docentesDemo=this.docentesDemo.map(i=>{let e=(this.asignacionesDemo.get(i.id)??new Set).size;return dt(ct({},i),{cantMaterias:e})}))}trackById(i,e){return e.id}onToggleChange(i){let e=i.target.checked;this.ModoBoolean=e}docentesFiltradosDemo(){let i=(this.filterDocente??"").trim().toLowerCase();return i?this.docentesDemo.filter(e=>`${e.id} ${e.nombre}`.toLowerCase().includes(i)):this.docentesDemo}seleccionarDocenteDemo(i){this.esDocenteSeleccionable(i)&&(this.docenteSeleccionadoDemo=i)}limpiarDocenteDemo(){this.docenteSeleccionadoDemo=null}materiasFiltradasDemo(){let i=(this.filterMateria??"").trim().toLowerCase(),e=this.materiasDemo;return i&&(e=e.filter(t=>`${t.id} ${t.sigla??""} ${t.nombre} ${t.categoria} ${t.lvlCurso??""} ${t.paralelo??""} ${this.docentesAsignadosEnMateriaTexto(t.id)}`.toLowerCase().includes(i))),this.selectedLvlCursos.size>0&&(e=e.filter(t=>this.selectedLvlCursos.has((t.lvlCurso??"").toString()))),this.selectedParalelos.size>0&&(e=e.filter(t=>this.selectedParalelos.has((t.paralelo??"").toString()))),e}materiasPorCategoria(i){return this.materiasFiltradasDemo().filter(e=>e.categoria===i)}categoriasDemo(){return Array.from(new Set(this.materiasFiltradasDemo().map(i=>i.categoria))).sort((i,e)=>i.localeCompare(e))}toggleModoCategorias(){this.modoCategorias=!this.modoCategorias}lvlCursosDetectados(){return Array.from(new Set(this.materiasDemo.map(i=>i.lvlCurso).filter(Boolean))).sort((i,e)=>i.localeCompare(e))}paralelosDetectados(){return Array.from(new Set(this.materiasDemo.map(i=>i.paralelo).filter(i=>!!i))).sort((i,e)=>i.localeCompare(e))}isLvlCursoSeleccionado(i){return this.selectedLvlCursos.has(i)}toggleLvlCurso(i){this.selectedLvlCursos.has(i)?this.selectedLvlCursos.delete(i):this.selectedLvlCursos.add(i)}isParaleloSeleccionado(i){return this.selectedParalelos.has(i)}toggleParalelo(i){this.selectedParalelos.has(i)?this.selectedParalelos.delete(i):this.selectedParalelos.add(i)}docentesAsignadosEnMateriaTexto(i){let e=this.docentesPorMateria.get(i);return!e||e.size===0?"":Array.from(e).map(a=>this.docentesDemo.find(d=>d.id===a)?.nombre??`#${a}`).filter(Boolean).join(", ")}normalizeModoMateria(i){return(i??"").toString().trim().toUpperCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}esModoInstrumentoEspecialidad(i){let e=this.normalizeModoMateria(i.modoMateria);return e.includes("INSTRUMENT")&&e.includes("ESPECIAL")}esModoPracticaConjuntos(i){let e=this.normalizeModoMateria(i.modoMateria);return e.includes("PRACTICA")&&e.includes("CONJUNTO")}esModoUnDocentePorMateria(i){let e=this.normalizeModoMateria(i.modoMateria);return e.includes("1")&&e.includes("DOCENTE")}isAsignadaDemo(i){let e=this.docenteSeleccionadoDemo;return e?(this.asignacionesDemo.get(e.id)??new Set).has(i):!1}toggleAsignacionDemo(i,e){return Ye(this,null,function*(){if(e?.preventDefault(),!this.docenteSeleccionadoDemo)return;let t=this.docenteSeleccionadoDemo.id,a=this.asignacionesDemo.get(t)??new Set;this.asignacionesDemo.set(t,a),this.isLoadingMateria[i.id]=!0;try{if(a.has(i.id)){yield new Promise((b,O)=>{this._planteldocmat.QuitarMateriaADocente({planteldocentes_id:t,materias_id:i.id}).subscribe({next:()=>b(),error:P=>O(P)})}),a.delete(i.id);let p=this.docentesPorMateria.get(i.id);p?.delete(t),p&&p.size===0&&this.docentesPorMateria.delete(i.id)}else{if(this.esModoInstrumentoEspecialidad(i)){this._tools.MostrarMensaje("info","NO ES NECESARIO ASIGNAR MATERIAS DE INSTRUMENTO DE ESPECIALIDAD PORQUE LA DETECCION DE ESTUDIANTES SE HACE AUTOMATICO DESDE INSCRIPCIONES DE ESTUDIANTES.");return}if(this.esModoPracticaConjuntos(i)){this._tools.MostrarMensaje("info","NO ES NECESARIO ASIGNAR MATERIAS DE PR\xC1CTICA DE CONJUNTOS PORQUE LA DETECCION DE ESTUDIANTES SE HACE AUTOMATICO DESDE INSCRIPCIONES DE ESTUDIANTES.");return}if(this.esModoUnDocentePorMateria(i)){let p=this.docentesPorMateria.get(i.id);if(p&&p.size>0){let b=this.docentesAsignadosEnMateriaTexto(i.id);this._tools.MostrarMensaje("warning",`No se puede asignar: esta materia es "1 DOCENTE x MATERIA" y ya tiene docente asignado${b?": "+b:"."}`);return}}yield new Promise((p,b)=>{this._planteldocmat.AsignarMateriaADocente({planteldocentes_id:t,materias_id:i.id,Paralelo:this.paraleloDemo||null}).subscribe({next:()=>p(),error:O=>b(O)})}),a.add(i.id),this.docentesPorMateria.has(i.id)||this.docentesPorMateria.set(i.id,new Set),this.docentesPorMateria.get(i.id)?.add(t)}}catch(d){console.error("Error al alternar asignaci\xF3n:",d);let p=d,b=(p?.error?.message??p?.message??"").toString().trim();b?this._tools.MostrarMensaje("error",b):this._tools.MostrarMensajeError()}finally{this.isLoadingMateria[i.id]=!1,this.recalcularConteosDocentes()}})}quitarAsignacionTabla(i){return Ye(this,null,function*(){if(!this.docenteSeleccionadoDemo)return;let e=this.materiasDemo.find(t=>t.id===i);e&&(yield this.toggleAsignacionDemo(e))})}tablaAsignacionesDemo(){let i=this.docenteSeleccionadoDemo;if(!i)return[];let e=this.asignacionesDemo.get(i.id)??new Set,t=[];for(let a of e){let d=this.materiasDemo.find(p=>p.id===a);d&&t.push({materiaId:d.id,docente:i.nombre,materia:`${d.sigla?d.sigla+" - ":""}${d.nombre}`,categoria:d.categoria,paralelo:d.paralelo||"-"})}return t}};Te.\u0275fac=function(e){return new(e||Te)(S(He),S(J),S(ft),S(Ue),S(Z),S(Ee),S(W))},Te.\u0275cmp=B({type:Te,selectors:[["app-asignadormaterias"]],standalone:!1,decls:61,vars:17,consts:[[1,"container","mt-4"],[1,"row"],[1,"col","text-center"],[1,"display-4","fw-bold","titulosGlobales"],[1,"card"],[1,"row","align-items-end","g-2","mb-2"],[1,"col-sm-3"],[1,"input-group"],[1,"input-group-text"],[1,"bi","bi-calendar"],[1,"form-floating","flex-grow-1"],["id","filtroAnio",1,"form-select",3,"ngModelChange","change","ngModel"],[3,"ngValue"],[3,"ngValue",4,"ngFor","ngForOf"],["for","filtroAnio"],[1,"bi","bi-bookmark"],["id","filtroResolucion",1,"form-select",3,"ngModelChange","change","ngModel"],["for","filtroResolucion"],[1,"button","col-sm-6","d-flex","justify-content-end"],[1,"btn","mouse-dir","primary","d-flex","align-items-center",2,"gap","8px",3,"click"],[2,"display","flex","align-items","center","justify-content","center","width","30px","height","30px"],["width","50px","height","50px",3,"options"],[1,"dir-part"],[1,"card-body"],["class","card mb-3",4,"ngIf"],[1,"row","align-items-end","g-2"],[1,"col-sm-8"],[1,"bi","bi-search"],["type","text","placeholder","Buscar docente",1,"form-control",3,"input","value"],[1,"mt-2","d-flex","flex-wrap","gap-2"],["class","btn btn-outline-secondary btn-sm",3,"active","disabled","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"mt-2"],["class","text-muted",4,"ngIf"],["class","text-primary",4,"ngIf"],[1,"col-sm-4","d-flex","justify-content-end","gap-2"],[1,"form-check","mt-2"],["type","checkbox","id","toggleModo",1,"form-check-input",3,"change"],["for","toggleModo",1,"form-check-label"],["class","row mb-2",4,"ngIf"],[4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"card","mb-3"],[1,"card-header","d-flex","align-items-center","justify-content-between","flex-wrap","gap-2","text-danger"],["type","text","placeholder","Buscar docente pendiente",1,"form-control",3,"input","value"],[1,"table-responsive"],[1,"table","table-sm","table-striped","align-middle","mb-0"],[2,"width","140px"],[2,"width","120px"],[4,"ngFor","ngForOf","ngForTrackBy"],["type","button",1,"btn","btn-sm","btn-outline-success",3,"click","disabled"],["colspan","3",1,"text-center","py-3"],[1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],[1,"text-muted"],[1,"text-primary"],[1,"row","mb-2"],["id","filtroAnioTabla",1,"form-select",3,"ngModelChange","change","ngModel"],["for","filtroAnioTabla"],[1,"col-sm-3","mt-2","mt-sm-0"],["id","filtroResolucionTabla",1,"form-select",3,"ngModelChange","change","ngModel"],["for","filtroResolucionTabla"],[1,"col-sm-6"],[1,"bi","bi-filter"],["type","text","placeholder","Buscar materia",1,"form-control",3,"input","value"],[1,"col-sm-6","d-flex","justify-content-end","flex-wrap","gap-2","mt-2","mt-sm-0"],[1,"form-check","mt-1"],["type","checkbox","id","toggleCategorias",1,"form-check-input",3,"change","checked"],["for","toggleCategorias",1,"form-check-label"],[1,"d-flex","align-items-center","flex-wrap","gap-1"],[1,"text-muted","me-1"],["type","button","class","btn btn-outline-primary btn-sm",3,"active","click",4,"ngFor","ngForOf"],["type","button","class","btn btn-outline-secondary btn-sm",3,"active","click",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],["type","button",1,"btn","btn-outline-secondary","btn-sm",3,"click"],[4,"ngFor","ngForOf"],[1,"text-center","mt-3"],[1,"d-flex","flex-wrap"],["class","list-group-item col-sm-3 custom-border position-relative",3,"ngClass",4,"ngFor","ngForOf"],[1,"list-group-item","col-sm-3","custom-border","position-relative",3,"ngClass"],["type","button",1,"btn","btn-sm","w-100","text-start",3,"click","disabled"],[1,"me-2","badge",3,"ngClass"],["class","small text-muted mt-1",4,"ngIf"],["class","spinner-border spinner-border-sm text-primary position-absolute top-50 start-50 translate-middle","role","status",4,"ngIf"],[1,"small","text-muted","mt-1"],["role","status",1,"spinner-border","spinner-border-sm","text-primary","position-absolute","top-50","start-50","translate-middle"],[1,"visually-hidden"],[1,"table","align-middle","table-hover","table-sm"],[1,"table-group-divider"],["colspan","6",1,"text-center","text-muted"],[1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"],["colspan","6",1,"text-center"]],template:function(e,t){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),c(4,"Asignador de MATERIAS - DOCENTES"),r()()()(),n(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"span",8),C(10,"i",9),r(),n(11,"div",10)(12,"select",11),M("ngModelChange",function(d){return y(t.filtroAnioId,d)||(t.filtroAnioId=d),d}),g("change",function(){return t.onCambioFiltrosAsignacion()}),n(13,"option",12),c(14,"-- Seleccione --"),r(),f(15,Nn,2,2,"option",13),r(),n(16,"label",14),c(17,"A\xF1o (Gesti\xF3n)"),r()()()(),n(18,"div",6)(19,"div",7)(20,"span",8),C(21,"i",15),r(),n(22,"div",10)(23,"select",16),M("ngModelChange",function(d){return y(t.filtroResolucionKey,d)||(t.filtroResolucionKey=d),d}),g("change",function(){return t.onCambioFiltrosAsignacion()}),n(24,"option",12),c(25,"-- Seleccione --"),r(),f(26,Fn,2,2,"option",13),r(),n(27,"label",17),c(28,"Resoluci\xF3n"),r()()()(),n(29,"div",18)(30,"button",19),g("click",function(){return t.togglePendientesDocentes()}),n(31,"span",20),C(32,"ng-lottie",21),r(),n(33,"span"),c(34),r(),C(35,"span",22),r()()(),n(36,"div",23),f(37,jn,25,4,"div",24),n(38,"div",25)(39,"div",26)(40,"div",7)(41,"span",8),C(42,"i",27),r(),n(43,"div",10)(44,"input",28),g("input",function(d){return t.filterDocente=d.target.value}),r(),n(45,"label"),c(46,"Buscar docente (nombre o ID)"),r()()(),n(47,"div",29),f(48,Gn,4,6,"button",30),r(),n(49,"div",31),f(50,Bn,2,0,"small",32)(51,$n,4,1,"h3",33),r()(),n(52,"div",34)(53,"div",35)(54,"input",36),g("change",function(d){return t.onToggleChange(d)}),r(),n(55,"label",37),c(56,"Modo tabla"),r()()()(),C(57,"hr"),f(58,Wn,23,6,"div",38)(59,or,25,6,"div",39)(60,cr,20,3,"div",40),r()()),e&2&&(s(12),E("ngModel",t.filtroAnioId),s(),l("ngValue",null),s(2),l("ngForOf",t.aniosOptions),s(8),E("ngModel",t.filtroResolucionKey),s(),l("ngValue",""),s(2),l("ngForOf",t.resolucionOptions),s(6),l("options",t._tools.optionseye),s(2),w("",t.verPendientesDocentes?"Ocultar pendientes":"Ver docentes pendientes de asignaci\xF3n"," "),s(3),l("ngIf",t.verPendientesDocentes),s(7),l("value",t.filterDocente),s(4),l("ngForOf",t.docentesFiltradosDemo())("ngForTrackBy",t.trackById),s(2),l("ngIf",!t.docenteSeleccionadoDemo),s(),l("ngIf",t.docenteSeleccionadoDemo),s(7),l("ngIf",t.ModoBoolean),s(),l("ngIf",!t.ModoBoolean),s(),l("ngIf",t.ModoBoolean))},dependencies:[$,z,H,Y,X,Q,q,K,U],styles:[".wrap[_ngcontent-%COMP%]{padding:16px}.head[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px}.card[_ngcontent-%COMP%]{border:1px solid #e6e6e6;border-radius:10px;padding:12px;background:#fff}.card.full[_ngcontent-%COMP%]{grid-column:1/-1}.row3[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr}.row4[_ngcontent-%COMP%]{grid-template-columns:1fr 1fr 1fr auto}.lbl[_ngcontent-%COMP%]{font-size:12px;color:#444;margin-bottom:6px}.inp[_ngcontent-%COMP%]{width:100%;padding:8px 10px;border:1px solid #dadada;border-radius:8px}.inp.mini[_ngcontent-%COMP%]{padding:6px 8px}.actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end}button[_ngcontent-%COMP%]{padding:8px 10px;border:1px solid #dadada;border-radius:8px;background:#fafafa;cursor:pointer}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.danger[_ngcontent-%COMP%]{border-color:#ffb4b4;background:#fff5f5}.muted[_ngcontent-%COMP%]{opacity:.8}.hint[_ngcontent-%COMP%]{margin-top:8px;font-size:12px;color:#666}.msg[_ngcontent-%COMP%]{margin:10px 0;padding:10px 12px;border-radius:10px}.msg.err[_ngcontent-%COMP%]{background:#fff5f5;border:1px solid #ffb4b4;color:#7a0012}.msg.ok[_ngcontent-%COMP%]{background:#f3fff5;border:1px solid #a7f3b6;color:#0b4b1f}.chips[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;margin-top:10px}.chip[_ngcontent-%COMP%]{border-radius:999px}.chip.on[_ngcontent-%COMP%]{border-color:#2563eb;background:#eaf1ff}.table[_ngcontent-%COMP%]{margin-top:8px;overflow:auto}.tr[_ngcontent-%COMP%]{display:grid;grid-template-columns:80px 220px 1fr 110px 160px 1fr 210px;gap:8px;align-items:center;padding:8px;border-top:1px solid #f0f0f0}.th[_ngcontent-%COMP%]{font-weight:700;background:#fafafa;border-top:none;position:sticky;top:0}.mono[_ngcontent-%COMP%]{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.custom-border[_ngcontent-%COMP%]{border:1px solid #e6e6e6;border-radius:10px;margin:6px;padding:8px;background:#fff}.checked[_ngcontent-%COMP%]{border-color:#22c55e!important;background:#f3fff5}.list-group-item[_ngcontent-%COMP%]{cursor:pointer}.btn.active[_ngcontent-%COMP%]{border-color:#2563eb;background:#eaf1ff;color:#0300a3;font-weight:700}@media (max-width: 1100px){.grid[_ngcontent-%COMP%], .row[_ngcontent-%COMP%], .row3[_ngcontent-%COMP%], .row4[_ngcontent-%COMP%]{grid-template-columns:1fr}.tr[_ngcontent-%COMP%]{grid-template-columns:70px 1fr}.th[_ngcontent-%COMP%]{display:none}}"]});var qe=Te;var dr=[{path:"carreras",component:Me},{path:"materias",component:Ie},{path:"plandeestudios",component:We},{path:"asignadormaterias",component:qe}],ce=class ce{};ce.\u0275fac=function(e){return new(e||ce)},ce.\u0275mod=Fe({type:ce}),ce.\u0275inj=Re({imports:[tt.forChild(dr),tt]});var Ke=ce;var de=class de{};de.\u0275fac=function(e){return new(e||de)},de.\u0275mod=Fe({type:de}),de.\u0275inj=Re({imports:[pt,gt,Ke]});var St=de;export{qe as a,St as b};
