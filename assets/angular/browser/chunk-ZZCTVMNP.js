import{a as D}from"./chunk-3HAQ3YJN.js";import{a as k}from"./chunk-O6MYR26T.js";import{b as L}from"./chunk-TPAK7IUX.js";import"./chunk-KFXCIGMC.js";import{Da as s,Ea as i,F as h,Fa as t,Ga as g,Na as C,P as S,Pb as y,Q as I,Qa as p,Qb as E,Sa as u,Zb as w,ea as r,eb as l,f as x,fb as v,gb as _,la as c,na as A,nc as T,sa as d,w as b}from"./chunk-LW4OU2FI.js";import"./chunk-ATDPNAVO.js";function M(n,a){n&1&&(i(0,"div",10),g(1,"app-spinner-local",11),t())}function N(n,a){n&1&&(i(0,"div",12),l(1," No hay aulas disponibles para tu usuario. "),t())}function V(n,a){if(n&1&&(i(0,"div",26)(1,"div",22),l(2,"Descripci\xF3n"),t(),i(3,"div",27),l(4),t()()),n&2){let e=u().$implicit;r(4),v(e.descripcion)}}function j(n,a){if(n&1){let e=C();i(0,"div",15)(1,"div",16),p("click",function(){let f=S(e).$implicit,F=u(2);return I(F.openAula(f))}),i(2,"div",17)(3,"div",18)(4,"div",19),l(5),t(),g(6,"i",20),t()(),i(7,"div",21)(8,"div",22),l(9),t(),i(10,"div",23)(11,"span",24),l(12),t(),i(13,"span",24),l(14),t()(),d(15,V,5,1,"div",25),t()()()}if(n&2){let e=a.$implicit;r(5),_(" ",e.nombre||"Aula #"+e.id," "),r(4),_("Materia ID: ",e.materias_id),r(3),v(e.estado||"SIN ESTADO"),r(2),v(e.visibilidad||"SIN VISIBILIDAD"),r(),s("ngIf",e.descripcion)}}function R(n,a){if(n&1&&(i(0,"div",13),d(1,j,16,5,"div",14),t()),n&2){let e=u();r(),s("ngForOf",e.aulas)}}var m=class m{constructor(a,e,o){this.aulasService=a;this.toast=e;this.router=o;this.loading=!1;this.aulas=[]}ngOnInit(){this.getAll()}getAll(a=!1){this.loading=!0,this.aulasService.getAll({auto_create:a}).pipe(h(e=>{this.loading=!1,this.aulas=e}),b(e=>(this.loading=!1,this.toast.error(e.message),x))).subscribe()}openAula(a){this.router.navigate(["/lchaula/aula",a.id])}};m.\u0275fac=function(e){return new(e||m)(c(D),c(L),c(T))},m.\u0275cmp=A({type:m,selectors:[["app-lchaula-aulas-list"]],decls:15,vars:3,consts:[[1,"container-fluid"],[1,"d-flex","align-items-start","align-items-md-center","justify-content-between","gap-2","mb-3"],[1,"h4","mb-0"],[1,"text-muted","small"],[1,"d-flex","gap-2"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],["title","Docentes: crea/asegura aulas faltantes para tus materias",1,"btn","btn-sm","btn-primary",3,"click"],["class","py-4",4,"ngIf"],["class","alert alert-light border",4,"ngIf"],["class","row g-3",4,"ngIf"],[1,"py-4"],["textShow","Cargando aulas..."],[1,"alert","alert-light","border"],[1,"row","g-3"],["class","col-12 col-md-6 col-xl-4",4,"ngFor","ngForOf"],[1,"col-12","col-md-6","col-xl-4"],["role","button",1,"card","h-100","shadow-sm",3,"click"],[1,"card-header","bg-primary","text-white"],[1,"d-flex","align-items-center","justify-content-between"],[1,"fw-semibold","text-truncate"],[1,"bi","bi-arrow-right-circle"],[1,"card-body"],[1,"small","text-muted"],[1,"mt-2","d-flex","flex-wrap","gap-2"],[1,"badge","text-bg-light","border"],["class","mt-3",4,"ngIf"],[1,"mt-3"],[1,"small"]],template:function(e,o){e&1&&(i(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),l(4,"Mis clases"),t(),i(5,"div",3),l(6,"LChaula \u2022 Aulas disponibles seg\xFAn tu rol"),t()(),i(7,"div",4)(8,"button",5),p("click",function(){return o.getAll(!1)}),l(9," Recargar "),t(),i(10,"button",6),p("click",function(){return o.getAll(!0)}),l(11," Sincronizar "),t()()(),d(12,M,2,0,"div",7)(13,N,2,0,"div",8)(14,R,2,1,"div",9),t()),e&2&&(r(12),s("ngIf",o.loading),r(),s("ngIf",!o.loading&&o.aulas.length===0),r(),s("ngIf",!o.loading&&o.aulas.length>0))},dependencies:[w,y,E,k],styles:["[_nghost-%COMP%]{display:block}"]});var O=m;export{O as AulasListComponent};
